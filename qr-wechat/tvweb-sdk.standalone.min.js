/* Version: 5.11.0 - August 17, 2022 15:25:45 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).TVWebSDK={})}(this,(function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return n(null==t&&r.path)}},r.exports),r.exports}function n(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var i=function(e){return e&&e.Math==Math&&e},o=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof t&&t)||function(){return this}()||Function("return this")(),a=function(e){try{return!!e()}catch(e){return!0}},s=!a((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),c={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,l=u&&!c.call({1:2},1),f=l?function(e){var t=u(this,e);return!!t&&t.enumerable}:c,d={f:f},p=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},h={}.toString,g=function(e){return h.call(e).slice(8,-1)},m="".split,v=a((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==g(e)?m.call(e,""):Object(e)}:Object,y=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e},b=function(e){return v(y(e))},w=function(e){return"object"==typeof e?null!==e:"function"==typeof e},C=function(e,t){if(!w(e))return e;var r,n;if(t&&"function"==typeof(r=e.toString)&&!w(n=r.call(e)))return n;if("function"==typeof(r=e.valueOf)&&!w(n=r.call(e)))return n;if(!t&&"function"==typeof(r=e.toString)&&!w(n=r.call(e)))return n;throw TypeError("Can't convert object to primitive value")},E={}.hasOwnProperty,k=function(e,t){return E.call(e,t)},S=o.document,_=w(S)&&w(S.createElement),A=function(e){return _?S.createElement(e):{}},T=!s&&!a((function(){return 7!=Object.defineProperty(A("div"),"a",{get:function(){return 7}}).a})),x=Object.getOwnPropertyDescriptor,I=s?x:function(e,t){if(e=b(e),t=C(t,!0),T)try{return x(e,t)}catch(e){}if(k(e,t))return p(!d.f.call(e,t),e[t])},B={f:I},R=function(e){if(!w(e))throw TypeError(String(e)+" is not an object");return e},P=Object.defineProperty,N=s?P:function(e,t,r){if(R(e),t=C(t,!0),R(r),T)try{return P(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(e[t]=r.value),e},O={f:N},D=s?function(e,t,r){return O.f(e,t,p(1,r))}:function(e,t,r){return e[t]=r,e},L=function(e,t){try{D(o,e,t)}catch(r){o[e]=t}return t},M="__core-js_shared__",U=o[M]||L(M,{}),j=U,F=Function.toString;"function"!=typeof j.inspectSource&&(j.inspectSource=function(e){return F.call(e)});var V,z,K,q=j.inspectSource,H=o.WeakMap,Q="function"==typeof H&&/native code/.test(q(H)),W=!1,G=r((function(e){(e.exports=function(e,t){return j[e]||(j[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.8.1",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),Y=0,X=Math.random(),$=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++Y+X).toString(36)},Z=G("keys"),J=function(e){return Z[e]||(Z[e]=$(e))},ee={},te=o.WeakMap,re=function(e){return K(e)?z(e):V(e,{})},ne=function(e){return function(t){var r;if(!w(t)||(r=z(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return r}};if(Q){var ie=j.state||(j.state=new te),oe=ie.get,ae=ie.has,se=ie.set;V=function(e,t){return t.facade=e,se.call(ie,e,t),t},z=function(e){return oe.call(ie,e)||{}},K=function(e){return ae.call(ie,e)}}else{var ce=J("state");ee[ce]=!0,V=function(e,t){return t.facade=e,D(e,ce,t),t},z=function(e){return k(e,ce)?e[ce]:{}},K=function(e){return k(e,ce)}}var ue,le={set:V,get:z,has:K,enforce:re,getterFor:ne},fe=r((function(e){var t=le.get,r=le.enforce,n=String(String).split("String");(e.exports=function(e,t,i,a){var s,c=!!a&&!!a.unsafe,u=!!a&&!!a.enumerable,l=!!a&&!!a.noTargetGet;"function"==typeof i&&("string"!=typeof t||k(i,"name")||D(i,"name",t),(s=r(i)).source||(s.source=n.join("string"==typeof t?t:""))),e!==o?(c?!l&&e[t]&&(u=!0):delete e[t],u?e[t]=i:D(e,t,i)):u?e[t]=i:L(t,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&t(this).source||q(this)}))})),de=o,pe=function(e){return"function"==typeof e?e:void 0},he=function(e,t){return arguments.length<2?pe(de[e])||pe(o[e]):de[e]&&de[e][t]||o[e]&&o[e][t]},ge=Math.ceil,me=Math.floor,ve=function(e){return isNaN(e=+e)?0:(e>0?me:ge)(e)},ye=Math.min,be=function(e){return e>0?ye(ve(e),9007199254740991):0},we=Math.max,Ce=Math.min,Ee=function(e,t){var r=ve(e);return r<0?we(r+t,0):Ce(r,t)},ke=function(e){return function(t,r,n){var i,o=b(t),a=be(o.length),s=Ee(n,a);if(e&&r!=r){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((e||s in o)&&o[s]===r)return e||s||0;return!e&&-1}},Se={includes:ke(!0),indexOf:ke(!1)},_e=Se.indexOf,Ae=function(e,t){var r,n=b(e),i=0,o=[];for(r in n)!k(ee,r)&&k(n,r)&&o.push(r);for(;t.length>i;)k(n,r=t[i++])&&(~_e(o,r)||o.push(r));return o},Te=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],xe=Te.concat("length","prototype"),Ie=Object.getOwnPropertyNames||function(e){return Ae(e,xe)},Be={f:Ie},Re=Object.getOwnPropertySymbols,Pe={f:Re},Ne=he("Reflect","ownKeys")||function(e){var t=Be.f(R(e)),r=Pe.f;return r?t.concat(r(e)):t},Oe=function(e,t){for(var r=Ne(t),n=O.f,i=B.f,o=0;o<r.length;o++){var a=r[o];k(e,a)||n(e,a,i(t,a))}},De=/#|\.prototype\./,Le=function(e,t){var r=Ue[Me(e)];return r==Fe||r!=je&&("function"==typeof t?a(t):!!t)},Me=Le.normalize=function(e){return String(e).replace(De,".").toLowerCase()},Ue=Le.data={},je=Le.NATIVE="N",Fe=Le.POLYFILL="P",Ve=Le,ze=B.f,Ke=function(e,t){var r,n,i,a,s,c=e.target,u=e.global,l=e.stat;if(r=u?o:l?o[c]||L(c,{}):(o[c]||{}).prototype)for(n in t){if(a=t[n],i=e.noTargetGet?(s=ze(r,n))&&s.value:r[n],!Ve(u?n:c+(l?".":"#")+n,e.forced)&&void 0!==i){if(typeof a==typeof i)continue;Oe(a,i)}(e.sham||i&&i.sham)&&D(a,"sham",!0),fe(r,n,a,e)}},qe=!!Object.getOwnPropertySymbols&&!a((function(){return!String(Symbol())})),He=qe&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Qe=Array.isArray||function(e){return"Array"==g(e)},We=function(e){return Object(y(e))},Ge=Object.keys||function(e){return Ae(e,Te)},Ye=s?Object.defineProperties:function(e,t){R(e);for(var r,n=Ge(t),i=n.length,o=0;i>o;)O.f(e,r=n[o++],t[r]);return e},Xe=he("document","documentElement"),$e=">",Ze="<",Je="prototype",et="script",tt=J("IE_PROTO"),rt=function(){},nt=function(e){return Ze+et+$e+e+Ze+"/"+et+$e},it=function(e){e.write(nt("")),e.close();var t=e.parentWindow.Object;return e=null,t},ot=function(){var e,t=A("iframe"),r="java"+et+":";return t.style.display="none",Xe.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(nt("document.F=Object")),e.close(),e.F},at=function(){try{ue=document.domain&&new ActiveXObject("htmlfile")}catch(e){}at=ue?it(ue):ot();for(var e=Te.length;e--;)delete at[Je][Te[e]];return at()};ee[tt]=!0;var st=Object.create||function(e,t){var r;return null!==e?(rt[Je]=R(e),r=new rt,rt[Je]=null,r[tt]=e):r=at(),void 0===t?r:Ye(r,t)},ct=Be.f,ut={}.toString,lt="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ft=function(e){try{return ct(e)}catch(e){return lt.slice()}},dt=function(e){return lt&&"[object Window]"==ut.call(e)?ft(e):ct(b(e))},pt={f:dt},ht=G("wks"),gt=o.Symbol,mt=He?gt:gt&&gt.withoutSetter||$,vt=function(e){return k(ht,e)||(qe&&k(gt,e)?ht[e]=gt[e]:ht[e]=mt("Symbol."+e)),ht[e]},yt=vt,bt={f:yt},wt=O.f,Ct=function(e){var t=de.Symbol||(de.Symbol={});k(t,e)||wt(t,e,{value:bt.f(e)})},Et=O.f,kt=vt("toStringTag"),St=function(e,t,r){e&&!k(e=r?e:e.prototype,kt)&&Et(e,kt,{configurable:!0,value:t})},_t=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e},At=function(e,t,r){if(_t(e),void 0===t)return e;switch(r){case 0:return function(){return e.call(t)};case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}},Tt=vt("species"),xt=function(e,t){var r;return Qe(e)&&("function"!=typeof(r=e.constructor)||r!==Array&&!Qe(r.prototype)?w(r)&&null===(r=r[Tt])&&(r=void 0):r=void 0),new(void 0===r?Array:r)(0===t?0:t)},It=[].push,Bt=function(e){var t=1==e,r=2==e,n=3==e,i=4==e,o=6==e,a=7==e,s=5==e||o;return function(c,u,l,f){for(var d,p,h=We(c),g=v(h),m=At(u,l,3),y=be(g.length),b=0,w=f||xt,C=t?w(c,y):r||a?w(c,0):void 0;y>b;b++)if((s||b in g)&&(p=m(d=g[b],b,h),e))if(t)C[b]=p;else if(p)switch(e){case 3:return!0;case 5:return d;case 6:return b;case 2:It.call(C,d)}else switch(e){case 4:return!1;case 7:It.call(C,d)}return o?-1:n||i?i:C}},Rt={forEach:Bt(0),map:Bt(1),filter:Bt(2),some:Bt(3),every:Bt(4),find:Bt(5),findIndex:Bt(6),filterOut:Bt(7)},Pt=Rt.forEach,Nt=J("hidden"),Ot="Symbol",Dt="prototype",Lt=vt("toPrimitive"),Mt=le.set,Ut=le.getterFor(Ot),jt=Object[Dt],Ft=o.Symbol,Vt=he("JSON","stringify"),zt=B.f,Kt=O.f,qt=pt.f,Ht=d.f,Qt=G("symbols"),Wt=G("op-symbols"),Gt=G("string-to-symbol-registry"),Yt=G("symbol-to-string-registry"),Xt=G("wks"),$t=o.QObject,Zt=!$t||!$t[Dt]||!$t[Dt].findChild,Jt=s&&a((function(){return 7!=st(Kt({},"a",{get:function(){return Kt(this,"a",{value:7}).a}})).a}))?function(e,t,r){var n=zt(jt,t);n&&delete jt[t],Kt(e,t,r),n&&e!==jt&&Kt(jt,t,n)}:Kt,er=function(e,t){var r=Qt[e]=st(Ft[Dt]);return Mt(r,{type:Ot,tag:e,description:t}),s||(r.description=t),r},tr=He?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof Ft},rr=function(e,t,r){e===jt&&rr(Wt,t,r),R(e);var n=C(t,!0);return R(r),k(Qt,n)?(r.enumerable?(k(e,Nt)&&e[Nt][n]&&(e[Nt][n]=!1),r=st(r,{enumerable:p(0,!1)})):(k(e,Nt)||Kt(e,Nt,p(1,{})),e[Nt][n]=!0),Jt(e,n,r)):Kt(e,n,r)},nr=function(e,t){R(e);var r=b(t),n=Ge(r).concat(cr(r));return Pt(n,(function(t){s&&!or.call(r,t)||rr(e,t,r[t])})),e},ir=function(e,t){return void 0===t?st(e):nr(st(e),t)},or=function(e){var t=C(e,!0),r=Ht.call(this,t);return!(this===jt&&k(Qt,t)&&!k(Wt,t))&&(!(r||!k(this,t)||!k(Qt,t)||k(this,Nt)&&this[Nt][t])||r)},ar=function(e,t){var r=b(e),n=C(t,!0);if(r!==jt||!k(Qt,n)||k(Wt,n)){var i=zt(r,n);return!i||!k(Qt,n)||k(r,Nt)&&r[Nt][n]||(i.enumerable=!0),i}},sr=function(e){var t=qt(b(e)),r=[];return Pt(t,(function(e){k(Qt,e)||k(ee,e)||r.push(e)})),r},cr=function(e){var t=e===jt,r=qt(t?Wt:b(e)),n=[];return Pt(r,(function(e){!k(Qt,e)||t&&!k(jt,e)||n.push(Qt[e])})),n};if(qe||(fe((Ft=function(){if(this instanceof Ft)throw TypeError("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,t=$(e),r=function(e){this===jt&&r.call(Wt,e),k(this,Nt)&&k(this[Nt],t)&&(this[Nt][t]=!1),Jt(this,t,p(1,e))};return s&&Zt&&Jt(jt,t,{configurable:!0,set:r}),er(t,e)})[Dt],"toString",(function(){return Ut(this).tag})),fe(Ft,"withoutSetter",(function(e){return er($(e),e)})),d.f=or,O.f=rr,B.f=ar,Be.f=pt.f=sr,Pe.f=cr,bt.f=function(e){return er(vt(e),e)},s&&(Kt(Ft[Dt],"description",{configurable:!0,get:function(){return Ut(this).description}}),fe(jt,"propertyIsEnumerable",or,{unsafe:!0}))),Ke({global:!0,wrap:!0,forced:!qe,sham:!qe},{Symbol:Ft}),Pt(Ge(Xt),(function(e){Ct(e)})),Ke({target:Ot,stat:!0,forced:!qe},{for:function(e){var t=String(e);if(k(Gt,t))return Gt[t];var r=Ft(t);return Gt[t]=r,Yt[r]=t,r},keyFor:function(e){if(!tr(e))throw TypeError(e+" is not a symbol");if(k(Yt,e))return Yt[e]},useSetter:function(){Zt=!0},useSimple:function(){Zt=!1}}),Ke({target:"Object",stat:!0,forced:!qe,sham:!s},{create:ir,defineProperty:rr,defineProperties:nr,getOwnPropertyDescriptor:ar}),Ke({target:"Object",stat:!0,forced:!qe},{getOwnPropertyNames:sr,getOwnPropertySymbols:cr}),Ke({target:"Object",stat:!0,forced:a((function(){Pe.f(1)}))},{getOwnPropertySymbols:function(e){return Pe.f(We(e))}}),Vt){var ur=!qe||a((function(){var e=Ft();return"[null]"!=Vt([e])||"{}"!=Vt({a:e})||"{}"!=Vt(Object(e))}));Ke({target:"JSON",stat:!0,forced:ur},{stringify:function(e,t,r){for(var n,i=[e],o=1;arguments.length>o;)i.push(arguments[o++]);if(n=t,(w(t)||void 0!==e)&&!tr(e))return Qe(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!tr(t))return t}),i[1]=t,Vt.apply(null,i)}})}Ft[Dt][Lt]||D(Ft[Dt],Lt,Ft[Dt].valueOf),St(Ft,Ot),ee[Nt]=!0,Ct("asyncIterator");var lr=O.f,fr=o.Symbol;if(s&&"function"==typeof fr&&(!("description"in fr.prototype)||void 0!==fr().description)){var dr={},pr=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof pr?new fr(e):void 0===e?fr():fr(e);return""===e&&(dr[t]=!0),t};Oe(pr,fr);var hr=pr.prototype=fr.prototype;hr.constructor=pr;var gr=hr.toString,mr="Symbol(test)"==String(fr("test")),vr=/^Symbol\((.*)\)[^)]+$/;lr(hr,"description",{configurable:!0,get:function(){var e=w(this)?this.valueOf():this,t=gr.call(e);if(k(dr,e))return"";var r=mr?t.slice(7,-1):t.replace(vr,"$1");return""===r?void 0:r}}),Ke({global:!0,forced:!0},{Symbol:pr})}Ct("hasInstance"),Ct("isConcatSpreadable"),Ct("iterator"),Ct("match"),Ct("matchAll"),Ct("replace"),Ct("search"),Ct("species"),Ct("split"),Ct("toPrimitive"),Ct("toStringTag"),Ct("unscopables");var yr=!a((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),br=J("IE_PROTO"),wr=Object.prototype,Cr=yr?Object.getPrototypeOf:function(e){return e=We(e),k(e,br)?e[br]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?wr:null},Er=function(e){if(!w(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e},kr=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return R(r),Er(n),t?e.call(r,n):r.__proto__=n,r}}():void 0),Sr={},_r=vt("iterator"),Ar=Array.prototype,Tr=function(e){return void 0!==e&&(Sr.Array===e||Ar[_r]===e)},xr=vt("toStringTag"),Ir={};Ir[xr]="z";var Br="[object z]"===String(Ir),Rr=vt("toStringTag"),Pr="Arguments"==g(function(){return arguments}()),Nr=function(e,t){try{return e[t]}catch(e){}},Or=Br?g:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=Nr(t=Object(e),Rr))?r:Pr?g(t):"Object"==(n=g(t))&&"function"==typeof t.callee?"Arguments":n},Dr=vt("iterator"),Lr=function(e){if(null!=e)return e[Dr]||e["@@iterator"]||Sr[Or(e)]},Mr=function(e){var t=e.return;if(void 0!==t)return R(t.call(e)).value},Ur=function(e,t){this.stopped=e,this.result=t},jr=function(e,t,r){var n,i,o,a,s,c,u,l=r&&r.that,f=!(!r||!r.AS_ENTRIES),d=!(!r||!r.IS_ITERATOR),p=!(!r||!r.INTERRUPTED),h=At(t,l,1+f+p),g=function(e){return n&&Mr(n),new Ur(!0,e)},m=function(e){return f?(R(e),p?h(e[0],e[1],g):h(e[0],e[1])):p?h(e,g):h(e)};if(d)n=e;else{if("function"!=typeof(i=Lr(e)))throw TypeError("Target is not iterable");if(Tr(i)){for(o=0,a=be(e.length);a>o;o++)if((s=m(e[o]))&&s instanceof Ur)return s;return new Ur(!1)}n=i.call(e)}for(c=n.next;!(u=c.call(n)).done;){try{s=m(u.value)}catch(e){throw Mr(n),e}if("object"==typeof s&&s&&s instanceof Ur)return s}return new Ur(!1)},Fr=function(e,t){var r=this;if(!(r instanceof Fr))return new Fr(e,t);kr&&(r=kr(new Error(void 0),Cr(r))),void 0!==t&&D(r,"message",String(t));var n=[];return jr(e,n.push,{that:n}),D(r,"errors",n),r};Fr.prototype=st(Error.prototype,{constructor:p(5,Fr),message:p(5,""),name:p(5,"AggregateError")}),Ke({global:!0},{AggregateError:Fr});var Vr=function(e,t,r,n){try{return n?t(R(r)[0],r[1]):t(r)}catch(t){throw Mr(e),t}},zr=function(e,t,r){var n=C(t);n in e?O.f(e,n,p(0,r)):e[n]=r},Kr=function(e){var t,r,n,i,o,a,s=We(e),c="function"==typeof this?this:Array,u=arguments.length,l=u>1?arguments[1]:void 0,f=void 0!==l,d=Lr(s),p=0;if(f&&(l=At(l,u>2?arguments[2]:void 0,2)),null==d||c==Array&&Tr(d))for(r=new c(t=be(s.length));t>p;p++)a=f?l(s[p],p):s[p],zr(r,p,a);else for(o=(i=d.call(s)).next,r=new c;!(n=o.call(i)).done;p++)a=f?Vr(i,l,[n.value,p],!0):n.value,zr(r,p,a);return r.length=p,r},qr=vt("iterator"),Hr=!1;try{var Qr=0,Wr={next:function(){return{done:!!Qr++}},return:function(){Hr=!0}};Wr[qr]=function(){return this},Array.from(Wr,(function(){throw 2}))}catch(e){}var Gr=function(e,t){if(!t&&!Hr)return!1;var r=!1;try{var n={};n[qr]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r},Yr=!Gr((function(e){Array.from(e)}));Ke({target:"Array",stat:!0,forced:Yr},{from:Kr}),Ke({target:"Array",stat:!0},{isArray:Qe});var Xr=a((function(){function e(){}return!(Array.of.call(e)instanceof e)}));Ke({target:"Array",stat:!0,forced:Xr},{of:function(){for(var e=0,t=arguments.length,r=new("function"==typeof this?this:Array)(t);t>e;)zr(r,e,arguments[e++]);return r.length=t,r}});var $r,Zr,Jr=he("navigator","userAgent")||"",en=o.process,tn=en&&en.versions,rn=tn&&tn.v8;rn?Zr=($r=rn.split("."))[0]+$r[1]:Jr&&(!($r=Jr.match(/Edge\/(\d+)/))||$r[1]>=74)&&($r=Jr.match(/Chrome\/(\d+)/))&&(Zr=$r[1]);var nn=Zr&&+Zr,on=vt("species"),an=function(e){return nn>=51||!a((function(){var t=[];return(t.constructor={})[on]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},sn=vt("isConcatSpreadable"),cn=9007199254740991,un="Maximum allowed index exceeded",ln=nn>=51||!a((function(){var e=[];return e[sn]=!1,e.concat()[0]!==e})),fn=an("concat"),dn=function(e){if(!w(e))return!1;var t=e[sn];return void 0!==t?!!t:Qe(e)},pn=!ln||!fn;Ke({target:"Array",proto:!0,forced:pn},{concat:function(e){var t,r,n,i,o,a=We(this),s=xt(a,0),c=0;for(t=-1,n=arguments.length;t<n;t++)if(dn(o=-1===t?a:arguments[t])){if(c+(i=be(o.length))>cn)throw TypeError(un);for(r=0;r<i;r++,c++)r in o&&zr(s,c,o[r])}else{if(c>=cn)throw TypeError(un);zr(s,c++,o)}return s.length=c,s}});var hn=Math.min,gn=[].copyWithin||function(e,t){var r=We(this),n=be(r.length),i=Ee(e,n),o=Ee(t,n),a=arguments.length>2?arguments[2]:void 0,s=hn((void 0===a?n:Ee(a,n))-o,n-i),c=1;for(o<i&&i<o+s&&(c=-1,o+=s-1,i+=s-1);s-- >0;)o in r?r[i]=r[o]:delete r[i],i+=c,o+=c;return r},mn=vt("unscopables"),vn=Array.prototype;null==vn[mn]&&O.f(vn,mn,{configurable:!0,value:st(null)});var yn=function(e){vn[mn][e]=!0};Ke({target:"Array",proto:!0},{copyWithin:gn}),yn("copyWithin");var bn=function(e,t){var r=[][e];return!!r&&a((function(){r.call(null,t||function(){throw 1},1)}))},wn=Object.defineProperty,Cn={},En=function(e){throw e},kn=function(e,t){if(k(Cn,e))return Cn[e];t||(t={});var r=[][e],n=!!k(t,"ACCESSORS")&&t.ACCESSORS,i=k(t,0)?t[0]:En,o=k(t,1)?t[1]:void 0;return Cn[e]=!!r&&!a((function(){if(n&&!s)return!0;var e={length:-1};n?wn(e,1,{enumerable:!0,get:En}):e[1]=1,r.call(e,i,o)}))},Sn=Rt.every,_n=bn("every"),An=kn("every");Ke({target:"Array",proto:!0,forced:!_n||!An},{every:function(e){return Sn(this,e,arguments.length>1?arguments[1]:void 0)}});var Tn=function(e){for(var t=We(this),r=be(t.length),n=arguments.length,i=Ee(n>1?arguments[1]:void 0,r),o=n>2?arguments[2]:void 0,a=void 0===o?r:Ee(o,r);a>i;)t[i++]=e;return t};Ke({target:"Array",proto:!0},{fill:Tn}),yn("fill");var xn=Rt.filter,In=an("filter"),Bn=kn("filter");Ke({target:"Array",proto:!0,forced:!In||!Bn},{filter:function(e){return xn(this,e,arguments.length>1?arguments[1]:void 0)}});var Rn=Rt.find,Pn="find",Nn=!0,On=kn(Pn);Pn in[]&&Array(1)[Pn]((function(){Nn=!1})),Ke({target:"Array",proto:!0,forced:Nn||!On},{find:function(e){return Rn(this,e,arguments.length>1?arguments[1]:void 0)}}),yn(Pn);var Dn=Rt.findIndex,Ln="findIndex",Mn=!0,Un=kn(Ln);Ln in[]&&Array(1)[Ln]((function(){Mn=!1})),Ke({target:"Array",proto:!0,forced:Mn||!Un},{findIndex:function(e){return Dn(this,e,arguments.length>1?arguments[1]:void 0)}}),yn(Ln);var jn=function(e,t,r,n,i,o,a,s){for(var c,u=i,l=0,f=!!a&&At(a,s,3);l<n;){if(l in r){if(c=f?f(r[l],l,t):r[l],o>0&&Qe(c))u=jn(e,t,c,be(c.length),u,o-1)-1;else{if(u>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[u]=c}u++}l++}return u},Fn=jn;Ke({target:"Array",proto:!0},{flat:function(){var e=arguments.length?arguments[0]:void 0,t=We(this),r=be(t.length),n=xt(t,0);return n.length=Fn(n,t,t,r,0,void 0===e?1:ve(e)),n}}),Ke({target:"Array",proto:!0},{flatMap:function(e){var t,r=We(this),n=be(r.length);return _t(e),(t=xt(r,0)).length=Fn(t,r,r,n,0,1,e,arguments.length>1?arguments[1]:void 0),t}});var Vn=Rt.forEach,zn=bn("forEach"),Kn=kn("forEach"),qn=zn&&Kn?[].forEach:function(e){return Vn(this,e,arguments.length>1?arguments[1]:void 0)};Ke({target:"Array",proto:!0,forced:[].forEach!=qn},{forEach:qn});var Hn=Se.includes,Qn=kn("indexOf",{ACCESSORS:!0,1:0});Ke({target:"Array",proto:!0,forced:!Qn},{includes:function(e){return Hn(this,e,arguments.length>1?arguments[1]:void 0)}}),yn("includes");var Wn=Se.indexOf,Gn=[].indexOf,Yn=!!Gn&&1/[1].indexOf(1,-0)<0,Xn=bn("indexOf"),$n=kn("indexOf",{ACCESSORS:!0,1:0});Ke({target:"Array",proto:!0,forced:Yn||!Xn||!$n},{indexOf:function(e){return Yn?Gn.apply(this,arguments)||0:Wn(this,e,arguments.length>1?arguments[1]:void 0)}});var Zn=[].join,Jn=v!=Object,ei=bn("join",",");Ke({target:"Array",proto:!0,forced:Jn||!ei},{join:function(e){return Zn.call(b(this),void 0===e?",":e)}});var ti=Math.min,ri=[].lastIndexOf,ni=!!ri&&1/[1].lastIndexOf(1,-0)<0,ii=bn("lastIndexOf"),oi=kn("indexOf",{ACCESSORS:!0,1:0}),ai=ni||!ii||!oi,si=ai?function(e){if(ni)return ri.apply(this,arguments)||0;var t=b(this),r=be(t.length),n=r-1;for(arguments.length>1&&(n=ti(n,ve(arguments[1]))),n<0&&(n=r+n);n>=0;n--)if(n in t&&t[n]===e)return n||0;return-1}:ri;Ke({target:"Array",proto:!0,forced:si!==[].lastIndexOf},{lastIndexOf:si});var ci=Rt.map,ui=an("map"),li=kn("map");Ke({target:"Array",proto:!0,forced:!ui||!li},{map:function(e){return ci(this,e,arguments.length>1?arguments[1]:void 0)}});var fi=function(e){return function(t,r,n,i){_t(r);var o=We(t),a=v(o),s=be(o.length),c=e?s-1:0,u=e?-1:1;if(n<2)for(;;){if(c in a){i=a[c],c+=u;break}if(c+=u,e?c<0:s<=c)throw TypeError("Reduce of empty array with no initial value")}for(;e?c>=0:s>c;c+=u)c in a&&(i=r(i,a[c],c,o));return i}},di={left:fi(!1),right:fi(!0)},pi="process"==g(o.process),hi=di.left,gi=bn("reduce"),mi=kn("reduce",{1:0}),vi=!pi&&nn>79&&nn<83;Ke({target:"Array",proto:!0,forced:!gi||!mi||vi},{reduce:function(e){return hi(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var yi=di.right,bi=bn("reduceRight"),wi=kn("reduce",{1:0}),Ci=!pi&&nn>79&&nn<83;Ke({target:"Array",proto:!0,forced:!bi||!wi||Ci},{reduceRight:function(e){return yi(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}});var Ei=[].reverse,ki=[1,2];Ke({target:"Array",proto:!0,forced:String(ki)===String(ki.reverse())},{reverse:function(){return Qe(this)&&(this.length=this.length),Ei.call(this)}});var Si=an("slice"),_i=kn("slice",{ACCESSORS:!0,0:0,1:2}),Ai=vt("species"),Ti=[].slice,xi=Math.max;Ke({target:"Array",proto:!0,forced:!Si||!_i},{slice:function(e,t){var r,n,i,o=b(this),a=be(o.length),s=Ee(e,a),c=Ee(void 0===t?a:t,a);if(Qe(o)&&("function"!=typeof(r=o.constructor)||r!==Array&&!Qe(r.prototype)?w(r)&&null===(r=r[Ai])&&(r=void 0):r=void 0,r===Array||void 0===r))return Ti.call(o,s,c);for(n=new(void 0===r?Array:r)(xi(c-s,0)),i=0;s<c;s++,i++)s in o&&zr(n,i,o[s]);return n.length=i,n}});var Ii=Rt.some,Bi=bn("some"),Ri=kn("some");Ke({target:"Array",proto:!0,forced:!Bi||!Ri},{some:function(e){return Ii(this,e,arguments.length>1?arguments[1]:void 0)}});var Pi=[],Ni=Pi.sort,Oi=a((function(){Pi.sort(void 0)})),Di=a((function(){Pi.sort(null)})),Li=bn("sort"),Mi=Oi||!Di||!Li;Ke({target:"Array",proto:!0,forced:Mi},{sort:function(e){return void 0===e?Ni.call(We(this)):Ni.call(We(this),_t(e))}});var Ui=an("splice"),ji=kn("splice",{ACCESSORS:!0,0:0,1:2}),Fi=Math.max,Vi=Math.min,zi=9007199254740991,Ki="Maximum allowed length exceeded";Ke({target:"Array",proto:!0,forced:!Ui||!ji},{splice:function(e,t){var r,n,i,o,a,s,c=We(this),u=be(c.length),l=Ee(e,u),f=arguments.length;if(0===f?r=n=0:1===f?(r=0,n=u-l):(r=f-2,n=Vi(Fi(ve(t),0),u-l)),u+r-n>zi)throw TypeError(Ki);for(i=xt(c,n),o=0;o<n;o++)(a=l+o)in c&&zr(i,o,c[a]);if(i.length=n,r<n){for(o=l;o<u-n;o++)s=o+r,(a=o+n)in c?c[s]=c[a]:delete c[s];for(o=u;o>u-n+r;o--)delete c[o-1]}else if(r>n)for(o=u-n;o>l;o--)s=o+r-1,(a=o+n-1)in c?c[s]=c[a]:delete c[s];for(o=0;o<r;o++)c[o+l]=arguments[o+2];return c.length=u-n+r,i}});var qi=vt("species"),Hi=function(e){var t=he(e),r=O.f;s&&t&&!t[qi]&&r(t,qi,{configurable:!0,get:function(){return this}})};Hi("Array"),yn("flat"),yn("flatMap");var Qi,Wi,Gi,Yi=vt("iterator"),Xi=!1,$i=function(){return this};[].keys&&("next"in(Gi=[].keys())?(Wi=Cr(Cr(Gi)))!==Object.prototype&&(Qi=Wi):Xi=!0),null==Qi&&(Qi={}),k(Qi,Yi)||D(Qi,Yi,$i);var Zi={IteratorPrototype:Qi,BUGGY_SAFARI_ITERATORS:Xi},Ji=Zi.IteratorPrototype,eo=function(){return this},to=function(e,t,r){var n=t+" Iterator";return e.prototype=st(Ji,{next:p(1,r)}),St(e,n,!1),Sr[n]=eo,e},ro=Zi.IteratorPrototype,no=Zi.BUGGY_SAFARI_ITERATORS,io=vt("iterator"),oo="keys",ao="values",so="entries",co=function(){return this},uo=function(e,t,r,n,i,o,a){to(r,t,n);var s,c,u,l=function(e){if(e===i&&g)return g;if(!no&&e in p)return p[e];switch(e){case oo:case ao:case so:return function(){return new r(this,e)}}return function(){return new r(this)}},f=t+" Iterator",d=!1,p=e.prototype,h=p[io]||p["@@iterator"]||i&&p[i],g=!no&&h||l(i),m="Array"==t&&p.entries||h;if(m&&(s=Cr(m.call(new e)),ro!==Object.prototype&&s.next&&(Cr(s)!==ro&&(kr?kr(s,ro):"function"!=typeof s[io]&&D(s,io,co)),St(s,f,!0))),i==ao&&h&&h.name!==ao&&(d=!0,g=function(){return h.call(this)}),p[io]!==g&&D(p,io,g),Sr[t]=g,i)if(c={values:l(ao),keys:o?g:l(oo),entries:l(so)},a)for(u in c)(no||d||!(u in p))&&fe(p,u,c[u]);else Ke({target:t,proto:!0,forced:no||d},c);return c},lo="Array Iterator",fo=le.set,po=le.getterFor(lo),ho=uo(Array,"Array",(function(e,t){fo(this,{type:lo,target:b(e),index:0,kind:t})}),(function(){var e=po(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:t[n],done:!1}:{value:[n,t[n]],done:!1}}),"values");Sr.Arguments=Sr.Array,yn("keys"),yn("values"),yn("entries");var go=[].slice,mo={},vo=function(e,t,r){if(!(t in mo)){for(var n=[],i=0;i<t;i++)n[i]="a["+i+"]";mo[t]=Function("C,a","return new C("+n.join(",")+")")}return mo[t](e,r)},yo=Function.bind||function(e){var t=_t(this),r=go.call(arguments,1),n=function(){var i=r.concat(go.call(arguments));return this instanceof n?vo(t,i.length,i):t.apply(e,i)};return w(t.prototype)&&(n.prototype=t.prototype),n};Ke({target:"Function",proto:!0},{bind:yo});var bo=O.f,wo=Function.prototype,Co=wo.toString,Eo=/^\s*function ([^ (]*)/,ko="name";s&&!(ko in wo)&&bo(wo,ko,{configurable:!0,get:function(){try{return Co.call(this).match(Eo)[1]}catch(e){return""}}});var So=vt("hasInstance"),_o=Function.prototype;So in _o||O.f(_o,So,{value:function(e){if("function"!=typeof this||!w(e))return!1;if(!w(this.prototype))return e instanceof this;for(;e=Cr(e);)if(this.prototype===e)return!0;return!1}}),Ke({global:!0},{globalThis:o});var Ao=Object.assign,To=Object.defineProperty,xo=!Ao||a((function(){if(s&&1!==Ao({b:1},Ao(To({},"a",{enumerable:!0,get:function(){To(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach((function(e){t[e]=e})),7!=Ao({},e)[r]||Ge(Ao({},t)).join("")!=n}))?function(e,t){for(var r=We(e),n=arguments.length,i=1,o=Pe.f,a=d.f;n>i;)for(var c,u=v(arguments[i++]),l=o?Ge(u).concat(o(u)):Ge(u),f=l.length,p=0;f>p;)c=l[p++],s&&!a.call(u,c)||(r[c]=u[c]);return r}:Ao;Ke({target:"Object",stat:!0,forced:Object.assign!==xo},{assign:xo}),Ke({target:"Object",stat:!0,sham:!s},{create:st}),Ke({target:"Object",stat:!0,forced:!s,sham:!s},{defineProperty:O.f}),Ke({target:"Object",stat:!0,forced:!s,sham:!s},{defineProperties:Ye});var Io=d.f,Bo=function(e){return function(t){for(var r,n=b(t),i=Ge(n),o=i.length,a=0,c=[];o>a;)r=i[a++],s&&!Io.call(n,r)||c.push(e?[r,n[r]]:n[r]);return c}},Ro={entries:Bo(!0),values:Bo(!1)},Po=Ro.entries;Ke({target:"Object",stat:!0},{entries:function(e){return Po(e)}});var No=!a((function(){return Object.isExtensible(Object.preventExtensions({}))})),Oo=r((function(e){var t=O.f,r=$("meta"),n=0,i=Object.isExtensible||function(){return!0},o=function(e){t(e,r,{value:{objectID:"O"+ ++n,weakData:{}}})},a=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!w(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!k(e,r)){if(!i(e))return"F";if(!t)return"E";o(e)}return e[r].objectID},getWeakData:function(e,t){if(!k(e,r)){if(!i(e))return!0;if(!t)return!1;o(e)}return e[r].weakData},onFreeze:function(e){return No&&a.REQUIRED&&i(e)&&!k(e,r)&&o(e),e}};ee[r]=!0})),Do=Oo.onFreeze,Lo=Object.freeze,Mo=a((function(){Lo(1)}));Ke({target:"Object",stat:!0,forced:Mo,sham:!No},{freeze:function(e){return Lo&&w(e)?Lo(Do(e)):e}}),Ke({target:"Object",stat:!0},{fromEntries:function(e){var t={};return jr(e,(function(e,r){zr(t,e,r)}),{AS_ENTRIES:!0}),t}});var Uo=B.f,jo=a((function(){Uo(1)})),Fo=!s||jo;Ke({target:"Object",stat:!0,forced:Fo,sham:!s},{getOwnPropertyDescriptor:function(e,t){return Uo(b(e),t)}}),Ke({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(e){for(var t,r,n=b(e),i=B.f,o=Ne(n),a={},s=0;o.length>s;)void 0!==(r=i(n,t=o[s++]))&&zr(a,t,r);return a}});var Vo=pt.f,zo=a((function(){return!Object.getOwnPropertyNames(1)}));Ke({target:"Object",stat:!0,forced:zo},{getOwnPropertyNames:Vo});var Ko=a((function(){Cr(1)}));Ke({target:"Object",stat:!0,forced:Ko,sham:!yr},{getPrototypeOf:function(e){return Cr(We(e))}});var qo=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t};Ke({target:"Object",stat:!0},{is:qo});var Ho=Object.isExtensible,Qo=a((function(){Ho(1)}));Ke({target:"Object",stat:!0,forced:Qo},{isExtensible:function(e){return!!w(e)&&(!Ho||Ho(e))}});var Wo=Object.isFrozen,Go=a((function(){Wo(1)}));Ke({target:"Object",stat:!0,forced:Go},{isFrozen:function(e){return!w(e)||!!Wo&&Wo(e)}});var Yo=Object.isSealed,Xo=a((function(){Yo(1)}));Ke({target:"Object",stat:!0,forced:Xo},{isSealed:function(e){return!w(e)||!!Yo&&Yo(e)}});var $o=a((function(){Ge(1)}));Ke({target:"Object",stat:!0,forced:$o},{keys:function(e){return Ge(We(e))}});var Zo=Oo.onFreeze,Jo=Object.preventExtensions,ea=a((function(){Jo(1)}));Ke({target:"Object",stat:!0,forced:ea,sham:!No},{preventExtensions:function(e){return Jo&&w(e)?Jo(Zo(e)):e}});var ta=Oo.onFreeze,ra=Object.seal,na=a((function(){ra(1)}));Ke({target:"Object",stat:!0,forced:na,sham:!No},{seal:function(e){return ra&&w(e)?ra(ta(e)):e}}),Ke({target:"Object",stat:!0},{setPrototypeOf:kr});var ia=Ro.values;Ke({target:"Object",stat:!0},{values:function(e){return ia(e)}});var oa=Br?{}.toString:function(){return"[object "+Or(this)+"]"};Br||fe(Object.prototype,"toString",oa,{unsafe:!0});var aa=!a((function(){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete o[e]}));s&&Ke({target:"Object",proto:!0,forced:aa},{__defineGetter__:function(e,t){O.f(We(this),e,{get:_t(t),enumerable:!0,configurable:!0})}}),s&&Ke({target:"Object",proto:!0,forced:aa},{__defineSetter__:function(e,t){O.f(We(this),e,{set:_t(t),enumerable:!0,configurable:!0})}});var sa=B.f;s&&Ke({target:"Object",proto:!0,forced:aa},{__lookupGetter__:function(e){var t,r=We(this),n=C(e,!0);do{if(t=sa(r,n))return t.get}while(r=Cr(r))}});var ca=B.f;s&&Ke({target:"Object",proto:!0,forced:aa},{__lookupSetter__:function(e){var t,r=We(this),n=C(e,!0);do{if(t=ca(r,n))return t.set}while(r=Cr(r))}});var ua=String.fromCharCode,la=String.fromCodePoint,fa=!!la&&1!=la.length;Ke({target:"String",stat:!0,forced:fa},{fromCodePoint:function(e){for(var t,r=[],n=arguments.length,i=0;n>i;){if(t=+arguments[i++],Ee(t,1114111)!==t)throw RangeError(t+" is not a valid code point");r.push(t<65536?ua(t):ua(55296+((t-=65536)>>10),t%1024+56320))}return r.join("")}}),Ke({target:"String",stat:!0},{raw:function(e){for(var t=b(e.raw),r=be(t.length),n=arguments.length,i=[],o=0;r>o;)i.push(String(t[o++])),o<n&&i.push(String(arguments[o]));return i.join("")}});var da=function(e){return function(t,r){var n,i,o=String(y(t)),a=ve(r),s=o.length;return a<0||a>=s?e?"":void 0:(n=o.charCodeAt(a))<55296||n>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?e?o.charAt(a):n:e?o.slice(a,a+2):i-56320+(n-55296<<10)+65536}},pa={codeAt:da(!1),charAt:da(!0)},ha=pa.codeAt;Ke({target:"String",proto:!0},{codePointAt:function(e){return ha(this,e)}});var ga,ma=vt("match"),va=function(e){var t;return w(e)&&(void 0!==(t=e[ma])?!!t:"RegExp"==g(e))},ya=function(e){if(va(e))throw TypeError("The method doesn't accept regular expressions");return e},ba=vt("match"),wa=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[ba]=!1,"/./"[e](t)}catch(e){}}return!1},Ca=B.f,Ea="".endsWith,ka=Math.min,Sa=wa("endsWith"),_a=!(Sa||(ga=Ca(String.prototype,"endsWith"),!ga||ga.writable));Ke({target:"String",proto:!0,forced:!_a&&!Sa},{endsWith:function(e){var t=String(y(this));ya(e);var r=arguments.length>1?arguments[1]:void 0,n=be(t.length),i=void 0===r?n:ka(be(r),n),o=String(e);return Ea?Ea.call(t,o,i):t.slice(i-o.length,i)===o}}),Ke({target:"String",proto:!0,forced:!wa("includes")},{includes:function(e){return!!~String(y(this)).indexOf(ya(e),arguments.length>1?arguments[1]:void 0)}});var Aa=function(){var e=R(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t};function Ta(e,t){return RegExp(e,t)}var xa=a((function(){var e=Ta("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),Ia=a((function(){var e=Ta("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),Ba={UNSUPPORTED_Y:xa,BROKEN_CARET:Ia},Ra=RegExp.prototype.exec,Pa=String.prototype.replace,Na=Ra,Oa=function(){var e=/a/,t=/b*/g;return Ra.call(e,"a"),Ra.call(t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),Da=Ba.UNSUPPORTED_Y||Ba.BROKEN_CARET,La=void 0!==/()??/.exec("")[1],Ma=Oa||La||Da;Ma&&(Na=function(e){var t,r,n,i,o=this,a=Da&&o.sticky,s=Aa.call(o),c=o.source,u=0,l=e;return a&&(-1===(s=s.replace("y","")).indexOf("g")&&(s+="g"),l=String(e).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==e[o.lastIndex-1])&&(c="(?: "+c+")",l=" "+l,u++),r=new RegExp("^(?:"+c+")",s)),La&&(r=new RegExp("^"+c+"$(?!\\s)",s)),Oa&&(t=o.lastIndex),n=Ra.call(a?r:o,l),a?n?(n.input=n.input.slice(u),n[0]=n[0].slice(u),n.index=o.lastIndex,o.lastIndex+=n[0].length):o.lastIndex=0:Oa&&n&&(o.lastIndex=o.global?n.index+n[0].length:t),La&&n&&n.length>1&&Pa.call(n[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(n[i]=void 0)})),n});var Ua=Na;Ke({target:"RegExp",proto:!0,forced:/./.exec!==Ua},{exec:Ua});var ja=vt("species"),Fa=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")})),Va="$0"==="a".replace(/./,"$0"),za=vt("replace"),Ka=!!/./[za]&&""===/./[za]("a","$0"),qa=!a((function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),Ha=function(e,t,r,n){var i=vt(e),o=!a((function(){var t={};return t[i]=function(){return 7},7!=""[e](t)})),s=o&&!a((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[ja]=function(){return r},r.flags="",r[i]=/./[i]),r.exec=function(){return t=!0,null},r[i](""),!t}));if(!o||!s||"replace"===e&&(!Fa||!Va||Ka)||"split"===e&&!qa){var c=/./[i],u=r(i,""[e],(function(e,t,r,n,i){return t.exec===Ua?o&&!i?{done:!0,value:c.call(t,r,n)}:{done:!0,value:e.call(r,t,n)}:{done:!1}}),{REPLACE_KEEPS_$0:Va,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:Ka}),l=u[0],f=u[1];fe(String.prototype,e,l),fe(RegExp.prototype,i,2==t?function(e,t){return f.call(e,this,t)}:function(e){return f.call(e,this)})}n&&D(RegExp.prototype[i],"sham",!0)},Qa=pa.charAt,Wa=function(e,t,r){return t+(r?Qa(e,t).length:1)},Ga=function(e,t){var r=e.exec;if("function"==typeof r){var n=r.call(e,t);if("object"!=typeof n)throw TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==g(e))throw TypeError("RegExp#exec called on incompatible receiver");return Ua.call(e,t)};Ha("match",1,(function(e,t,r){return[function(t){var r=y(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var i=R(e),o=String(this);if(!i.global)return Ga(i,o);var a=i.unicode;i.lastIndex=0;for(var s,c=[],u=0;null!==(s=Ga(i,o));){var l=String(s[0]);c[u]=l,""===l&&(i.lastIndex=Wa(o,be(i.lastIndex),a)),u++}return 0===u?null:c}]}));var Ya=vt("species"),Xa=function(e,t){var r,n=R(e).constructor;return void 0===n||null==(r=R(n)[Ya])?t:_t(r)},$a=vt("matchAll"),Za="RegExp String",Ja=Za+" Iterator",es=le.set,ts=le.getterFor(Ja),rs=RegExp.prototype,ns=rs.exec,is="".matchAll,os=!!is&&!a((function(){"a".matchAll(/./)})),as=function(e,t){var r,n=e.exec;if("function"==typeof n){if("object"!=typeof(r=n.call(e,t)))throw TypeError("Incorrect exec result");return r}return ns.call(e,t)},ss=to((function(e,t,r,n){es(this,{type:Ja,regexp:e,string:t,global:r,unicode:n,done:!1})}),Za,(function(){var e=ts(this);if(e.done)return{value:void 0,done:!0};var t=e.regexp,r=e.string,n=as(t,r);return null===n?{value:void 0,done:e.done=!0}:e.global?(""==String(n[0])&&(t.lastIndex=Wa(r,be(t.lastIndex),e.unicode)),{value:n,done:!1}):(e.done=!0,{value:n,done:!1})})),cs=function(e){var t,r,n,i,o,a,s=R(this),c=String(e);return t=Xa(s,RegExp),void 0===(r=s.flags)&&s instanceof RegExp&&!("flags"in rs)&&(r=Aa.call(s)),n=void 0===r?"":String(r),i=new t(t===RegExp?s.source:s,n),o=!!~n.indexOf("g"),a=!!~n.indexOf("u"),i.lastIndex=be(s.lastIndex),new ss(i,c,o,a)};Ke({target:"String",proto:!0,forced:os},{matchAll:function(e){var t,r,n=y(this);if(null!=e){if(va(e)&&!~String(y("flags"in rs?e.flags:Aa.call(e))).indexOf("g"))throw TypeError("`.matchAll` does not allow non-global regexes");if(os)return is.apply(n,arguments);if(void 0===(r=e[$a])&&W&&"RegExp"==g(e)&&(r=cs),null!=r)return _t(r).call(e,n)}else if(os)return is.apply(n,arguments);return t=String(n),new RegExp(e,"g")[$a](t)}}),$a in rs||D(rs,$a,cs);var us="".repeat||function(e){var t=String(y(this)),r="",n=ve(e);if(n<0||n==1/0)throw RangeError("Wrong number of repetitions");for(;n>0;(n>>>=1)&&(t+=t))1&n&&(r+=t);return r},ls=Math.ceil,fs=function(e){return function(t,r,n){var i,o,a=String(y(t)),s=a.length,c=void 0===n?" ":String(n),u=be(r);return u<=s||""==c?a:(i=u-s,(o=us.call(c,ls(i/c.length))).length>i&&(o=o.slice(0,i)),e?a+o:o+a)}},ds={start:fs(!1),end:fs(!0)},ps=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(Jr),hs=ds.end;Ke({target:"String",proto:!0,forced:ps},{padEnd:function(e){return hs(this,e,arguments.length>1?arguments[1]:void 0)}});var gs=ds.start;Ke({target:"String",proto:!0,forced:ps},{padStart:function(e){return gs(this,e,arguments.length>1?arguments[1]:void 0)}}),Ke({target:"String",proto:!0},{repeat:us});var ms=Math.max,vs=Math.min,ys=Math.floor,bs=/\$([$&'`]|\d\d?|<[^>]*>)/g,ws=/\$([$&'`]|\d\d?)/g,Cs=function(e){return void 0===e?e:String(e)};Ha("replace",2,(function(e,t,r,n){var i=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,o=n.REPLACE_KEEPS_$0,a=i?"$":"$0";return[function(r,n){var i=y(this),o=null==r?void 0:r[e];return void 0!==o?o.call(r,i,n):t.call(String(i),r,n)},function(e,n){if(!i&&o||"string"==typeof n&&-1===n.indexOf(a)){var c=r(t,e,this,n);if(c.done)return c.value}var u=R(e),l=String(this),f="function"==typeof n;f||(n=String(n));var d=u.global;if(d){var p=u.unicode;u.lastIndex=0}for(var h=[];;){var g=Ga(u,l);if(null===g)break;if(h.push(g),!d)break;""===String(g[0])&&(u.lastIndex=Wa(l,be(u.lastIndex),p))}for(var m="",v=0,y=0;y<h.length;y++){g=h[y];for(var b=String(g[0]),w=ms(vs(ve(g.index),l.length),0),C=[],E=1;E<g.length;E++)C.push(Cs(g[E]));var k=g.groups;if(f){var S=[b].concat(C,w,l);void 0!==k&&S.push(k);var _=String(n.apply(void 0,S))}else _=s(b,l,w,C,k,n);w>=v&&(m+=l.slice(v,w)+_,v=w+b.length)}return m+l.slice(v)}];function s(e,r,n,i,o,a){var s=n+e.length,c=i.length,u=ws;return void 0!==o&&(o=We(o),u=bs),t.call(a,u,(function(t,a){var u;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return r.slice(0,n);case"'":return r.slice(s);case"<":u=o[a.slice(1,-1)];break;default:var l=+a;if(0===l)return t;if(l>c){var f=ys(l/10);return 0===f?t:f<=c?void 0===i[f-1]?a.charAt(1):i[f-1]+a.charAt(1):t}u=i[l-1]}return void 0===u?"":u}))}})),Ha("search",1,(function(e,t,r){return[function(t){var r=y(this),n=null==t?void 0:t[e];return void 0!==n?n.call(t,r):new RegExp(t)[e](String(r))},function(e){var n=r(t,e,this);if(n.done)return n.value;var i=R(e),o=String(this),a=i.lastIndex;qo(a,0)||(i.lastIndex=0);var s=Ga(i,o);return qo(i.lastIndex,a)||(i.lastIndex=a),null===s?-1:s.index}]}));var Es=[].push,ks=Math.min,Ss=4294967295,_s=!a((function(){return!RegExp(Ss,"y")}));Ha("split",2,(function(e,t,r){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,r){var n=String(y(this)),i=void 0===r?Ss:r>>>0;if(0===i)return[];if(void 0===e)return[n];if(!va(e))return t.call(n,e,i);for(var o,a,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,f=new RegExp(e.source,u+"g");(o=Ua.call(f,n))&&!((a=f.lastIndex)>l&&(c.push(n.slice(l,o.index)),o.length>1&&o.index<n.length&&Es.apply(c,o.slice(1)),s=o[0].length,l=a,c.length>=i));)f.lastIndex===o.index&&f.lastIndex++;return l===n.length?!s&&f.test("")||c.push(""):c.push(n.slice(l)),c.length>i?c.slice(0,i):c}:"0".split(void 0,0).length?function(e,r){return void 0===e&&0===r?[]:t.call(this,e,r)}:t,[function(t,r){var i=y(this),o=null==t?void 0:t[e];return void 0!==o?o.call(t,i,r):n.call(String(i),t,r)},function(e,i){var o=r(n,e,this,i,n!==t);if(o.done)return o.value;var a=R(e),s=String(this),c=Xa(a,RegExp),u=a.unicode,l=(a.ignoreCase?"i":"")+(a.multiline?"m":"")+(a.unicode?"u":"")+(_s?"y":"g"),f=new c(_s?a:"^(?:"+a.source+")",l),d=void 0===i?Ss:i>>>0;if(0===d)return[];if(0===s.length)return null===Ga(f,s)?[s]:[];for(var p=0,h=0,g=[];h<s.length;){f.lastIndex=_s?h:0;var m,v=Ga(f,_s?s:s.slice(h));if(null===v||(m=ks(be(f.lastIndex+(_s?0:h)),s.length))===p)h=Wa(s,h,u);else{if(g.push(s.slice(p,h)),g.length===d)return g;for(var y=1;y<=v.length-1;y++)if(g.push(v[y]),g.length===d)return g;h=p=m}}return g.push(s.slice(p)),g}]}),!_s);var As=B.f,Ts="".startsWith,xs=Math.min,Is=wa("startsWith"),Bs=!Is&&!!function(){var e=As(String.prototype,"startsWith");return e&&!e.writable}();Ke({target:"String",proto:!0,forced:!Bs&&!Is},{startsWith:function(e){var t=String(y(this));ya(e);var r=be(xs(arguments.length>1?arguments[1]:void 0,t.length)),n=String(e);return Ts?Ts.call(t,n,r):t.slice(r,r+n.length)===n}});var Rs="\t\n\v\f\r                　\u2028\u2029\ufeff",Ps="["+Rs+"]",Ns=RegExp("^"+Ps+Ps+"*"),Os=RegExp(Ps+Ps+"*$"),Ds=function(e){return function(t){var r=String(y(t));return 1&e&&(r=r.replace(Ns,"")),2&e&&(r=r.replace(Os,"")),r}},Ls={start:Ds(1),end:Ds(2),trim:Ds(3)},Ms="​᠎",Us=function(e){return a((function(){return!!Rs[e]()||Ms[e]()!=Ms||Rs[e].name!==e}))},js=Ls.trim;Ke({target:"String",proto:!0,forced:Us("trim")},{trim:function(){return js(this)}});var Fs=Ls.start,Vs=Us("trimStart"),zs=Vs?function(){return Fs(this)}:"".trimStart;Ke({target:"String",proto:!0,forced:Vs},{trimStart:zs,trimLeft:zs});var Ks=Ls.end,qs=Us("trimEnd"),Hs=qs?function(){return Ks(this)}:"".trimEnd;Ke({target:"String",proto:!0,forced:qs},{trimEnd:Hs,trimRight:Hs});var Qs=pa.charAt,Ws="String Iterator",Gs=le.set,Ys=le.getterFor(Ws);uo(String,"String",(function(e){Gs(this,{type:Ws,string:String(e),index:0})}),(function(){var e,t=Ys(this),r=t.string,n=t.index;return n>=r.length?{value:void 0,done:!0}:(e=Qs(r,n),t.index+=e.length,{value:e,done:!1})}));var Xs=/"/g,$s=function(e,t,r,n){var i=String(y(e)),o="<"+t;return""!==r&&(o+=" "+r+'="'+String(n).replace(Xs,"&quot;")+'"'),o+">"+i+"</"+t+">"},Zs=function(e){return a((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))};Ke({target:"String",proto:!0,forced:Zs("anchor")},{anchor:function(e){return $s(this,"a","name",e)}}),Ke({target:"String",proto:!0,forced:Zs("big")},{big:function(){return $s(this,"big","","")}}),Ke({target:"String",proto:!0,forced:Zs("blink")},{blink:function(){return $s(this,"blink","","")}}),Ke({target:"String",proto:!0,forced:Zs("bold")},{bold:function(){return $s(this,"b","","")}}),Ke({target:"String",proto:!0,forced:Zs("fixed")},{fixed:function(){return $s(this,"tt","","")}}),Ke({target:"String",proto:!0,forced:Zs("fontcolor")},{fontcolor:function(e){return $s(this,"font","color",e)}}),Ke({target:"String",proto:!0,forced:Zs("fontsize")},{fontsize:function(e){return $s(this,"font","size",e)}}),Ke({target:"String",proto:!0,forced:Zs("italics")},{italics:function(){return $s(this,"i","","")}}),Ke({target:"String",proto:!0,forced:Zs("link")},{link:function(e){return $s(this,"a","href",e)}}),Ke({target:"String",proto:!0,forced:Zs("small")},{small:function(){return $s(this,"small","","")}}),Ke({target:"String",proto:!0,forced:Zs("strike")},{strike:function(){return $s(this,"strike","","")}}),Ke({target:"String",proto:!0,forced:Zs("sub")},{sub:function(){return $s(this,"sub","","")}}),Ke({target:"String",proto:!0,forced:Zs("sup")},{sup:function(){return $s(this,"sup","","")}});var Js=vt("replace"),ec=RegExp.prototype;Ke({target:"String",proto:!0},{replaceAll:function e(t,r){var n,i,o,a,s,c,u,l=y(this);if(null!=t){if(va(t)&&!~String(y("flags"in ec?t.flags:Aa.call(t))).indexOf("g"))throw TypeError("`.replaceAll` does not allow non-global regexes");if(void 0!==(n=t[Js]))return n.call(t,l,r)}if(i=String(l),""===(o=String(t)))return e.call(i,/(?:)/g,r);if(a=i.split(o),"function"!=typeof r)return a.join(String(r));for(c=(s=a[0]).length,u=1;u<a.length;u++)s+=String(r(o,c,i)),c+=o.length+a[u].length,s+=a[u];return s}});var tc=function(e,t,r){var n,i;return kr&&"function"==typeof(n=t.constructor)&&n!==r&&w(i=n.prototype)&&i!==r.prototype&&kr(e,i),e},rc=O.f,nc=Be.f,ic=le.set,oc=vt("match"),ac=o.RegExp,sc=ac.prototype,cc=/a/g,uc=/a/g,lc=new ac(cc)!==cc,fc=Ba.UNSUPPORTED_Y,dc=s&&Ve("RegExp",!lc||fc||a((function(){return uc[oc]=!1,ac(cc)!=cc||ac(uc)==uc||"/a/i"!=ac(cc,"i")})));if(dc){for(var pc=function(e,t){var r,n=this instanceof pc,i=va(e),o=void 0===t;if(!n&&i&&e.constructor===pc&&o)return e;lc?i&&!o&&(e=e.source):e instanceof pc&&(o&&(t=Aa.call(e)),e=e.source),fc&&(r=!!t&&t.indexOf("y")>-1)&&(t=t.replace(/y/g,""));var a=tc(lc?new ac(e,t):ac(e,t),n?this:sc,pc);return fc&&r&&ic(a,{sticky:r}),a},hc=function(e){e in pc||rc(pc,e,{configurable:!0,get:function(){return ac[e]},set:function(t){ac[e]=t}})},gc=nc(ac),mc=0;gc.length>mc;)hc(gc[mc++]);sc.constructor=pc,pc.prototype=sc,fe(o,"RegExp",pc)}Hi("RegExp");var vc=Ba.UNSUPPORTED_Y;s&&("g"!=/./g.flags||vc)&&O.f(RegExp.prototype,"flags",{configurable:!0,get:Aa});var yc=Ba.UNSUPPORTED_Y,bc=O.f,wc=le.get,Cc=RegExp.prototype;s&&yc&&bc(RegExp.prototype,"sticky",{configurable:!0,get:function(){if(this!==Cc){if(this instanceof RegExp)return!!wc(this).sticky;throw TypeError("Incompatible receiver, RegExp required")}}});var Ec=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),kc=/./.test;Ke({target:"RegExp",proto:!0,forced:!Ec},{test:function(e){if("function"!=typeof this.exec)return kc.call(this,e);var t=this.exec(e);if(null!==t&&!w(t))throw new Error("RegExp exec method returned something other than an Object or null");return!!t}});var Sc="toString",_c=RegExp.prototype,Ac=_c[Sc],Tc=a((function(){return"/a/b"!=Ac.call({source:"a",flags:"b"})})),xc=Ac.name!=Sc;(Tc||xc)&&fe(RegExp.prototype,Sc,(function(){var e=R(this),t=String(e.source),r=e.flags;return"/"+t+"/"+String(void 0===r&&e instanceof RegExp&&!("flags"in _c)?Aa.call(e):r)}),{unsafe:!0});var Ic=Ls.trim,Bc=o.parseInt,Rc=/^[+-]?0[Xx]/,Pc=8!==Bc(Rs+"08")||22!==Bc(Rs+"0x16"),Nc=Pc?function(e,t){var r=Ic(String(e));return Bc(r,t>>>0||(Rc.test(r)?16:10))}:Bc;Ke({global:!0,forced:parseInt!=Nc},{parseInt:Nc});var Oc=Ls.trim,Dc=o.parseFloat,Lc=1/Dc(Rs+"-0")!=-1/0,Mc=Lc?function(e){var t=Oc(String(e)),r=Dc(t);return 0===r&&"-"==t.charAt(0)?-0:r}:Dc;Ke({global:!0,forced:parseFloat!=Mc},{parseFloat:Mc});var Uc=Be.f,jc=B.f,Fc=O.f,Vc=Ls.trim,zc="Number",Kc=o[zc],qc=Kc.prototype,Hc=g(st(qc))==zc,Qc=function(e){var t,r,n,i,o,a,s,c,u=C(e,!1);if("string"==typeof u&&u.length>2)if(43===(t=(u=Vc(u)).charCodeAt(0))||45===t){if(88===(r=u.charCodeAt(2))||120===r)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:n=2,i=49;break;case 79:case 111:n=8,i=55;break;default:return+u}for(a=(o=u.slice(2)).length,s=0;s<a;s++)if((c=o.charCodeAt(s))<48||c>i)return NaN;return parseInt(o,n)}return+u};if(Ve(zc,!Kc(" 0o1")||!Kc("0b1")||Kc("+0x1"))){for(var Wc,Gc=function(e){var t=arguments.length<1?0:e,r=this;return r instanceof Gc&&(Hc?a((function(){qc.valueOf.call(r)})):g(r)!=zc)?tc(new Kc(Qc(t)),r,Gc):Qc(t)},Yc=s?Uc(Kc):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),Xc=0;Yc.length>Xc;Xc++)k(Kc,Wc=Yc[Xc])&&!k(Gc,Wc)&&Fc(Gc,Wc,jc(Kc,Wc));Gc.prototype=qc,qc.constructor=Gc,fe(o,zc,Gc)}Ke({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)});var $c=o.isFinite,Zc=Number.isFinite||function(e){return"number"==typeof e&&$c(e)};Ke({target:"Number",stat:!0},{isFinite:Zc});var Jc=Math.floor,eu=function(e){return!w(e)&&isFinite(e)&&Jc(e)===e};Ke({target:"Number",stat:!0},{isInteger:eu}),Ke({target:"Number",stat:!0},{isNaN:function(e){return e!=e}});var tu=Math.abs;Ke({target:"Number",stat:!0},{isSafeInteger:function(e){return eu(e)&&tu(e)<=9007199254740991}}),Ke({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991}),Ke({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991}),Ke({target:"Number",stat:!0,forced:Number.parseFloat!=Mc},{parseFloat:Mc}),Ke({target:"Number",stat:!0,forced:Number.parseInt!=Nc},{parseInt:Nc});var ru=function(e){if("number"!=typeof e&&"Number"!=g(e))throw TypeError("Incorrect invocation");return+e},nu=1..toFixed,iu=Math.floor,ou=function(e,t,r){return 0===t?r:t%2==1?ou(e,t-1,r*e):ou(e*e,t/2,r)},au=function(e){for(var t=0,r=e;r>=4096;)t+=12,r/=4096;for(;r>=2;)t+=1,r/=2;return t},su=nu&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!a((function(){nu.call({})}));Ke({target:"Number",proto:!0,forced:su},{toFixed:function(e){var t,r,n,i,o=ru(this),a=ve(e),s=[0,0,0,0,0,0],c="",u="0",l=function(e,t){for(var r=-1,n=t;++r<6;)n+=e*s[r],s[r]=n%1e7,n=iu(n/1e7)},f=function(e){for(var t=6,r=0;--t>=0;)r+=s[t],s[t]=iu(r/e),r=r%e*1e7},d=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==s[e]){var r=String(s[e]);t=""===t?r:t+us.call("0",7-r.length)+r}return t};if(a<0||a>20)throw RangeError("Incorrect fraction digits");if(o!=o)return"NaN";if(o<=-1e21||o>=1e21)return String(o);if(o<0&&(c="-",o=-o),o>1e-21)if(r=(t=au(o*ou(2,69,1))-69)<0?o*ou(2,-t,1):o/ou(2,t,1),r*=4503599627370496,(t=52-t)>0){for(l(0,r),n=a;n>=7;)l(1e7,0),n-=7;for(l(ou(10,n,1),0),n=t-1;n>=23;)f(1<<23),n-=23;f(1<<n),l(1,1),f(2),u=d()}else l(0,r),l(1<<-t,0),u=d()+us.call("0",a);return u=a>0?c+((i=u.length)<=a?"0."+us.call("0",a-i)+u:u.slice(0,i-a)+"."+u.slice(i-a)):c+u}});var cu=1..toPrecision,uu=a((function(){return"1"!==cu.call(1,void 0)}))||!a((function(){cu.call({})}));Ke({target:"Number",proto:!0,forced:uu},{toPrecision:function(e){return void 0===e?cu.call(ru(this)):cu.call(ru(this),e)}});var lu=Math.log,fu=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:lu(1+e)},du=Math.acosh,pu=Math.log,hu=Math.sqrt,gu=Math.LN2,mu=!du||710!=Math.floor(du(Number.MAX_VALUE))||du(1/0)!=1/0;Ke({target:"Math",stat:!0,forced:mu},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?pu(e)+gu:fu(e-1+hu(e-1)*hu(e+1))}});var vu=Math.asinh,yu=Math.log,bu=Math.sqrt;function wu(e){return isFinite(e=+e)&&0!=e?e<0?-wu(-e):yu(e+bu(e*e+1)):e}Ke({target:"Math",stat:!0,forced:!(vu&&1/vu(0)>0)},{asinh:wu});var Cu=Math.atanh,Eu=Math.log;Ke({target:"Math",stat:!0,forced:!(Cu&&1/Cu(-0)<0)},{atanh:function(e){return 0==(e=+e)?e:Eu((1+e)/(1-e))/2}});var ku=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1},Su=Math.abs,_u=Math.pow;Ke({target:"Math",stat:!0},{cbrt:function(e){return ku(e=+e)*_u(Su(e),1/3)}});var Au=Math.floor,Tu=Math.log,xu=Math.LOG2E;Ke({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-Au(Tu(e+.5)*xu):32}});var Iu=Math.expm1,Bu=Math.exp,Ru=!Iu||Iu(10)>22025.465794806718||Iu(10)<22025.465794806718||-2e-17!=Iu(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Bu(e)-1}:Iu,Pu=Math.cosh,Nu=Math.abs,Ou=Math.E;Ke({target:"Math",stat:!0,forced:!Pu||Pu(710)===1/0},{cosh:function(e){var t=Ru(Nu(e)-1)+1;return(t+1/(t*Ou*Ou))*(Ou/2)}}),Ke({target:"Math",stat:!0,forced:Ru!=Math.expm1},{expm1:Ru});var Du=Math.abs,Lu=Math.pow,Mu=Lu(2,-52),Uu=Lu(2,-23),ju=Lu(2,127)*(2-Uu),Fu=Lu(2,-126),Vu=function(e){return e+1/Mu-1/Mu},zu=Math.fround||function(e){var t,r,n=Du(e),i=ku(e);return n<Fu?i*Vu(n/Fu/Uu)*Fu*Uu:(r=(t=(1+Uu/Mu)*n)-(t-n))>ju||r!=r?i*(1/0):i*r};Ke({target:"Math",stat:!0},{fround:zu});var Ku=Math.hypot,qu=Math.abs,Hu=Math.sqrt,Qu=!!Ku&&Ku(1/0,NaN)!==1/0;Ke({target:"Math",stat:!0,forced:Qu},{hypot:function(e,t){for(var r,n,i=0,o=0,a=arguments.length,s=0;o<a;)s<(r=qu(arguments[o++]))?(i=i*(n=s/r)*n+1,s=r):i+=r>0?(n=r/s)*n:r;return s===1/0?1/0:s*Hu(i)}});var Wu=Math.imul,Gu=a((function(){return-5!=Wu(4294967295,5)||2!=Wu.length}));Ke({target:"Math",stat:!0,forced:Gu},{imul:function(e,t){var r=65535,n=+e,i=+t,o=r&n,a=r&i;return 0|o*a+((r&n>>>16)*a+o*(r&i>>>16)<<16>>>0)}});var Yu=Math.log,Xu=Math.LOG10E;Ke({target:"Math",stat:!0},{log10:function(e){return Yu(e)*Xu}}),Ke({target:"Math",stat:!0},{log1p:fu});var $u=Math.log,Zu=Math.LN2;Ke({target:"Math",stat:!0},{log2:function(e){return $u(e)/Zu}}),Ke({target:"Math",stat:!0},{sign:ku});var Ju=Math.abs,el=Math.exp,tl=Math.E,rl=a((function(){return-2e-17!=Math.sinh(-2e-17)}));Ke({target:"Math",stat:!0,forced:rl},{sinh:function(e){return Ju(e=+e)<1?(Ru(e)-Ru(-e))/2:(el(e-1)-el(-e-1))*(tl/2)}});var nl=Math.exp;Ke({target:"Math",stat:!0},{tanh:function(e){var t=Ru(e=+e),r=Ru(-e);return t==1/0?1:r==1/0?-1:(t-r)/(nl(e)+nl(-e))}}),St(Math,"Math",!0);var il=Math.ceil,ol=Math.floor;Ke({target:"Math",stat:!0},{trunc:function(e){return(e>0?ol:il)(e)}}),Ke({target:"Date",stat:!0},{now:function(){return(new Date).getTime()}});var al=a((function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}));Ke({target:"Date",proto:!0,forced:al},{toJSON:function(e){var t=We(this),r=C(t);return"number"!=typeof r||isFinite(r)?t.toISOString():null}});var sl=ds.start,cl=Math.abs,ul=Date.prototype,ll=ul.getTime,fl=ul.toISOString,dl=a((function(){return"0385-07-25T07:06:39.999Z"!=fl.call(new Date(-50000000000001))}))||!a((function(){fl.call(new Date(NaN))}))?function(){if(!isFinite(ll.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),r=e.getUTCMilliseconds(),n=t<0?"-":t>9999?"+":"";return n+sl(cl(t),n?6:4,0)+"-"+sl(e.getUTCMonth()+1,2,0)+"-"+sl(e.getUTCDate(),2,0)+"T"+sl(e.getUTCHours(),2,0)+":"+sl(e.getUTCMinutes(),2,0)+":"+sl(e.getUTCSeconds(),2,0)+"."+sl(r,3,0)+"Z"}:fl;Ke({target:"Date",proto:!0,forced:Date.prototype.toISOString!==dl},{toISOString:dl});var pl=Date.prototype,hl="Invalid Date",gl="toString",ml=pl[gl],vl=pl.getTime;new Date(NaN)+""!=hl&&fe(pl,gl,(function(){var e=vl.call(this);return e==e?ml.call(this):hl}));var yl=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return C(R(this),"number"!==e)},bl=vt("toPrimitive"),wl=Date.prototype;bl in wl||D(wl,bl,yl);var Cl=he("JSON","stringify"),El=/[\uD800-\uDFFF]/g,kl=/^[\uD800-\uDBFF]$/,Sl=/^[\uDC00-\uDFFF]$/,_l=function(e,t,r){var n=r.charAt(t-1),i=r.charAt(t+1);return kl.test(e)&&!Sl.test(i)||Sl.test(e)&&!kl.test(n)?"\\u"+e.charCodeAt(0).toString(16):e},Al=a((function(){return'"\\udf06\\ud834"'!==Cl("\udf06\ud834")||'"\\udead"'!==Cl("\udead")}));Cl&&Ke({target:"JSON",stat:!0,forced:Al},{stringify:function(e,t,r){var n=Cl.apply(null,arguments);return"string"==typeof n?n.replace(El,_l):n}}),St(o.JSON,"JSON",!0);var Tl,xl,Il,Bl=o.Promise,Rl=function(e,t,r){for(var n in t)fe(e,n,t[n],r);return e},Pl=function(e,t,r){if(!(e instanceof t))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation");return e},Nl=/(iphone|ipod|ipad).*applewebkit/i.test(Jr),Ol=o.location,Dl=o.setImmediate,Ll=o.clearImmediate,Ml=o.process,Ul=o.MessageChannel,jl=o.Dispatch,Fl=0,Vl={},zl="onreadystatechange",Kl=function(e){if(Vl.hasOwnProperty(e)){var t=Vl[e];delete Vl[e],t()}},ql=function(e){return function(){Kl(e)}},Hl=function(e){Kl(e.data)},Ql=function(e){o.postMessage(e+"",Ol.protocol+"//"+Ol.host)};Dl&&Ll||(Dl=function(e){for(var t=[],r=1;arguments.length>r;)t.push(arguments[r++]);return Vl[++Fl]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},Tl(Fl),Fl},Ll=function(e){delete Vl[e]},pi?Tl=function(e){Ml.nextTick(ql(e))}:jl&&jl.now?Tl=function(e){jl.now(ql(e))}:Ul&&!Nl?(Il=(xl=new Ul).port2,xl.port1.onmessage=Hl,Tl=At(Il.postMessage,Il,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&Ol&&"file:"!==Ol.protocol&&!a(Ql)?(Tl=Ql,o.addEventListener("message",Hl,!1)):Tl=zl in A("script")?function(e){Xe.appendChild(A("script"))[zl]=function(){Xe.removeChild(this),Kl(e)}}:function(e){setTimeout(ql(e),0)});var Wl,Gl,Yl,Xl,$l,Zl,Jl,ef,tf={set:Dl,clear:Ll},rf=B.f,nf=tf.set,of=o.MutationObserver||o.WebKitMutationObserver,af=o.document,sf=o.process,cf=o.Promise,uf=rf(o,"queueMicrotask"),lf=uf&&uf.value;lf||(Wl=function(){var e,t;for(pi&&(e=sf.domain)&&e.exit();Gl;){t=Gl.fn,Gl=Gl.next;try{t()}catch(e){throw Gl?Xl():Yl=void 0,e}}Yl=void 0,e&&e.enter()},!Nl&&!pi&&of&&af?($l=!0,Zl=af.createTextNode(""),new of(Wl).observe(Zl,{characterData:!0}),Xl=function(){Zl.data=$l=!$l}):cf&&cf.resolve?(Jl=cf.resolve(void 0),ef=Jl.then,Xl=function(){ef.call(Jl,Wl)}):Xl=pi?function(){sf.nextTick(Wl)}:function(){nf.call(o,Wl)});var ff,df,pf,hf,gf=lf||function(e){var t={fn:e,next:void 0};Yl&&(Yl.next=t),Gl||(Gl=t,Xl()),Yl=t},mf=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n})),this.resolve=_t(t),this.reject=_t(r)},vf=function(e){return new mf(e)},yf={f:vf},bf=function(e,t){if(R(e),w(t)&&t.constructor===e)return t;var r=yf.f(e);return(0,r.resolve)(t),r.promise},wf=function(e,t){var r=o.console;r&&r.error&&(1===arguments.length?r.error(e):r.error(e,t))},Cf=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Ef=tf.set,kf=vt("species"),Sf="Promise",_f=le.get,Af=le.set,Tf=le.getterFor(Sf),xf=Bl,If=o.TypeError,Bf=o.document,Rf=o.process,Pf=he("fetch"),Nf=yf.f,Of=Nf,Df=!!(Bf&&Bf.createEvent&&o.dispatchEvent),Lf="function"==typeof PromiseRejectionEvent,Mf="unhandledrejection",Uf="rejectionhandled",jf=0,Ff=1,Vf=2,zf=1,Kf=2,qf=Ve(Sf,(function(){if(!(q(xf)!==String(xf))){if(66===nn)return!0;if(!pi&&!Lf)return!0}if(nn>=51&&/native code/.test(xf))return!1;var e=xf.resolve(1),t=function(e){e((function(){}),(function(){}))};return(e.constructor={})[kf]=t,!(e.then((function(){}))instanceof t)})),Hf=qf||!Gr((function(e){xf.all(e).catch((function(){}))})),Qf=function(e){var t;return!(!w(e)||"function"!=typeof(t=e.then))&&t},Wf=function(e,t){if(!e.notified){e.notified=!0;var r=e.reactions;gf((function(){for(var n=e.value,i=e.state==Ff,o=0;r.length>o;){var a,s,c,u=r[o++],l=i?u.ok:u.fail,f=u.resolve,d=u.reject,p=u.domain;try{l?(i||(e.rejection===Kf&&$f(e),e.rejection=zf),!0===l?a=n:(p&&p.enter(),a=l(n),p&&(p.exit(),c=!0)),a===u.promise?d(If("Promise-chain cycle")):(s=Qf(a))?s.call(a,f,d):f(a)):d(n)}catch(e){p&&!c&&p.exit(),d(e)}}e.reactions=[],e.notified=!1,t&&!e.rejection&&Yf(e)}))}},Gf=function(e,t,r){var n,i;Df?((n=Bf.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),o.dispatchEvent(n)):n={promise:t,reason:r},!Lf&&(i=o["on"+e])?i(n):e===Mf&&wf("Unhandled promise rejection",r)},Yf=function(e){Ef.call(o,(function(){var t,r=e.facade,n=e.value;if(Xf(e)&&(t=Cf((function(){pi?Rf.emit("unhandledRejection",n,r):Gf(Mf,r,n)})),e.rejection=pi||Xf(e)?Kf:zf,t.error))throw t.value}))},Xf=function(e){return e.rejection!==zf&&!e.parent},$f=function(e){Ef.call(o,(function(){var t=e.facade;pi?Rf.emit("rejectionHandled",t):Gf(Uf,t,e.value)}))},Zf=function(e,t,r){return function(n){e(t,n,r)}},Jf=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=Vf,Wf(e,!0))},ed=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw If("Promise can't be resolved itself");var n=Qf(t);n?gf((function(){var r={done:!1};try{n.call(t,Zf(ed,r,e),Zf(Jf,r,e))}catch(t){Jf(r,t,e)}})):(e.value=t,e.state=Ff,Wf(e,!1))}catch(t){Jf({done:!1},t,e)}}};qf&&(xf=function(e){Pl(this,xf,Sf),_t(e),ff.call(this);var t=_f(this);try{e(Zf(ed,t),Zf(Jf,t))}catch(e){Jf(t,e)}},(ff=function(e){Af(this,{type:Sf,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:jf,value:void 0})}).prototype=Rl(xf.prototype,{then:function(e,t){var r=Tf(this),n=Nf(Xa(this,xf));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=pi?Rf.domain:void 0,r.parent=!0,r.reactions.push(n),r.state!=jf&&Wf(r,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),df=function(){var e=new ff,t=_f(e);this.promise=e,this.resolve=Zf(ed,t),this.reject=Zf(Jf,t)},yf.f=Nf=function(e){return e===xf||e===pf?new df(e):Of(e)},"function"==typeof Bl&&(hf=Bl.prototype.then,fe(Bl.prototype,"then",(function(e,t){var r=this;return new xf((function(e,t){hf.call(r,e,t)})).then(e,t)}),{unsafe:!0}),"function"==typeof Pf&&Ke({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return bf(xf,Pf.apply(o,arguments))}}))),Ke({global:!0,wrap:!0,forced:qf},{Promise:xf}),St(xf,Sf,!1),Hi(Sf),pf=he(Sf),Ke({target:Sf,stat:!0,forced:qf},{reject:function(e){var t=Nf(this);return t.reject.call(void 0,e),t.promise}}),Ke({target:Sf,stat:!0,forced:qf},{resolve:function(e){return bf(this,e)}}),Ke({target:Sf,stat:!0,forced:Hf},{all:function(e){var t=this,r=Nf(t),n=r.resolve,i=r.reject,o=Cf((function(){var r=_t(t.resolve),o=[],a=0,s=1;jr(e,(function(e){var c=a++,u=!1;o.push(void 0),s++,r.call(t,e).then((function(e){u||(u=!0,o[c]=e,--s||n(o))}),i)})),--s||n(o)}));return o.error&&i(o.value),r.promise},race:function(e){var t=this,r=Nf(t),n=r.reject,i=Cf((function(){var i=_t(t.resolve);jr(e,(function(e){i.call(t,e).then(r.resolve,n)}))}));return i.error&&n(i.value),r.promise}}),Ke({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=yf.f(t),n=r.resolve,i=r.reject,o=Cf((function(){var r=_t(t.resolve),i=[],o=0,a=1;jr(e,(function(e){var s=o++,c=!1;i.push(void 0),a++,r.call(t,e).then((function(e){c||(c=!0,i[s]={status:"fulfilled",value:e},--a||n(i))}),(function(e){c||(c=!0,i[s]={status:"rejected",reason:e},--a||n(i))}))})),--a||n(i)}));return o.error&&i(o.value),r.promise}});var td="No one promise resolved";Ke({target:"Promise",stat:!0},{any:function(e){var t=this,r=yf.f(t),n=r.resolve,i=r.reject,o=Cf((function(){var r=_t(t.resolve),o=[],a=0,s=1,c=!1;jr(e,(function(e){var u=a++,l=!1;o.push(void 0),s++,r.call(t,e).then((function(e){l||c||(c=!0,n(e))}),(function(e){l||c||(l=!0,o[u]=e,--s||i(new(he("AggregateError"))(o,td)))}))})),--s||i(new(he("AggregateError"))(o,td))}));return o.error&&i(o.value),r.promise}});var rd=!!Bl&&a((function(){Bl.prototype.finally.call({then:function(){}},(function(){}))}));Ke({target:"Promise",proto:!0,real:!0,forced:rd},{finally:function(e){var t=Xa(this,he("Promise")),r="function"==typeof e;return this.then(r?function(r){return bf(t,e()).then((function(){return r}))}:e,r?function(r){return bf(t,e()).then((function(){throw r}))}:e)}}),"function"!=typeof Bl||Bl.prototype.finally||fe(Bl.prototype,"finally",he("Promise").prototype.finally);var nd=function(e,t,r){var n=-1!==e.indexOf("Map"),i=-1!==e.indexOf("Weak"),s=n?"set":"add",c=o[e],u=c&&c.prototype,l=c,f={},d=function(e){var t=u[e];fe(u,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(i&&!w(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return i&&!w(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(i&&!w(e))&&t.call(this,0===e?0:e)}:function(e,r){return t.call(this,0===e?0:e,r),this})};if(Ve(e,"function"!=typeof c||!(i||u.forEach&&!a((function(){(new c).entries().next()})))))l=r.getConstructor(t,e,n,s),Oo.REQUIRED=!0;else if(Ve(e,!0)){var p=new l,h=p[s](i?{}:-0,1)!=p,g=a((function(){p.has(1)})),m=Gr((function(e){new c(e)})),v=!i&&a((function(){for(var e=new c,t=5;t--;)e[s](t,t);return!e.has(-0)}));m||((l=t((function(t,r){Pl(t,l,e);var i=tc(new c,t,l);return null!=r&&jr(r,i[s],{that:i,AS_ENTRIES:n}),i}))).prototype=u,u.constructor=l),(g||v)&&(d("delete"),d("has"),n&&d("get")),(v||h)&&d(s),i&&u.clear&&delete u.clear}return f[e]=l,Ke({global:!0,forced:l!=c},f),St(l,e),i||r.setStrong(l,e,n),l},id=O.f,od=Oo.fastKey,ad=le.set,sd=le.getterFor,cd={getConstructor:function(e,t,r,n){var i=e((function(e,o){Pl(e,i,t),ad(e,{type:t,index:st(null),first:void 0,last:void 0,size:0}),s||(e.size=0),null!=o&&jr(o,e[n],{that:e,AS_ENTRIES:r})})),o=sd(t),a=function(e,t,r){var n,i,a=o(e),u=c(e,t);return u?u.value=r:(a.last=u={index:i=od(t,!0),key:t,value:r,previous:n=a.last,next:void 0,removed:!1},a.first||(a.first=u),n&&(n.next=u),s?a.size++:e.size++,"F"!==i&&(a.index[i]=u)),e},c=function(e,t){var r,n=o(e),i=od(t);if("F"!==i)return n.index[i];for(r=n.first;r;r=r.next)if(r.key==t)return r};return Rl(i.prototype,{clear:function(){for(var e=o(this),t=e.index,r=e.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete t[r.index],r=r.next;e.first=e.last=void 0,s?e.size=0:this.size=0},delete:function(e){var t=this,r=o(t),n=c(t,e);if(n){var i=n.next,a=n.previous;delete r.index[n.index],n.removed=!0,a&&(a.next=i),i&&(i.previous=a),r.first==n&&(r.first=i),r.last==n&&(r.last=a),s?r.size--:t.size--}return!!n},forEach:function(e){for(var t,r=o(this),n=At(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:r.first;)for(n(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!c(this,e)}}),Rl(i.prototype,r?{get:function(e){var t=c(this,e);return t&&t.value},set:function(e,t){return a(this,0===e?0:e,t)}}:{add:function(e){return a(this,e=0===e?0:e,e)}}),s&&id(i.prototype,"size",{get:function(){return o(this).size}}),i},setStrong:function(e,t,r){var n=t+" Iterator",i=sd(t),o=sd(n);uo(e,t,(function(e,t){ad(this,{type:n,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,r=e.last;r&&r.removed;)r=r.previous;return e.target&&(e.last=r=r?r.next:e.state.first)?"keys"==t?{value:r.key,done:!1}:"values"==t?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),Hi(t)}},ud=(nd("Map",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),cd),nd("Set",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),cd),Oo.getWeakData),ld=le.set,fd=le.getterFor,dd=Rt.find,pd=Rt.findIndex,hd=0,gd=function(e){return e.frozen||(e.frozen=new md)},md=function(){this.entries=[]},vd=function(e,t){return dd(e.entries,(function(e){return e[0]===t}))};md.prototype={get:function(e){var t=vd(this,e);if(t)return t[1]},has:function(e){return!!vd(this,e)},set:function(e,t){var r=vd(this,e);r?r[1]=t:this.entries.push([e,t])},delete:function(e){var t=pd(this.entries,(function(t){return t[0]===e}));return~t&&this.entries.splice(t,1),!!~t}};var yd={getConstructor:function(e,t,r,n){var i=e((function(e,o){Pl(e,i,t),ld(e,{type:t,id:hd++,frozen:void 0}),null!=o&&jr(o,e[n],{that:e,AS_ENTRIES:r})})),o=fd(t),a=function(e,t,r){var n=o(e),i=ud(R(t),!0);return!0===i?gd(n).set(t,r):i[n.id]=r,e};return Rl(i.prototype,{delete:function(e){var t=o(this);if(!w(e))return!1;var r=ud(e);return!0===r?gd(t).delete(e):r&&k(r,t.id)&&delete r[t.id]},has:function(e){var t=o(this);if(!w(e))return!1;var r=ud(e);return!0===r?gd(t).has(e):r&&k(r,t.id)}}),Rl(i.prototype,r?{get:function(e){var t=o(this);if(w(e)){var r=ud(e);return!0===r?gd(t).get(e):r?r[t.id]:void 0}},set:function(e,t){return a(this,e,t)}}:{add:function(e){return a(this,e,!0)}}),i}};r((function(e){var t,r=le.enforce,n=!o.ActiveXObject&&"ActiveXObject"in o,i=Object.isExtensible,a=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}},s=e.exports=nd("WeakMap",a,yd);if(Q&&n){t=yd.getConstructor(a,"WeakMap",!0),Oo.REQUIRED=!0;var c=s.prototype,u=c.delete,l=c.has,f=c.get,d=c.set;Rl(c,{delete:function(e){if(w(e)&&!i(e)){var n=r(this);return n.frozen||(n.frozen=new t),u.call(this,e)||n.frozen.delete(e)}return u.call(this,e)},has:function(e){if(w(e)&&!i(e)){var n=r(this);return n.frozen||(n.frozen=new t),l.call(this,e)||n.frozen.has(e)}return l.call(this,e)},get:function(e){if(w(e)&&!i(e)){var n=r(this);return n.frozen||(n.frozen=new t),l.call(this,e)?f.call(this,e):n.frozen.get(e)}return f.call(this,e)},set:function(e,n){if(w(e)&&!i(e)){var o=r(this);o.frozen||(o.frozen=new t),l.call(this,e)?d.call(this,e,n):o.frozen.set(e,n)}else d.call(this,e,n);return this}})}}));nd("WeakSet",(function(e){return function(){return e(this,arguments.length?arguments[0]:void 0)}}),yd);var bd="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,wd=function(e){if(void 0===e)return 0;var t=ve(e),r=be(t);if(t!==r)throw RangeError("Wrong length or index");return r},Cd=1/0,Ed=Math.abs,kd=Math.pow,Sd=Math.floor,_d=Math.log,Ad=Math.LN2,Td=function(e,t,r){var n,i,o,a=new Array(r),s=8*r-t-1,c=(1<<s)-1,u=c>>1,l=23===t?kd(2,-24)-kd(2,-77):0,f=e<0||0===e&&1/e<0?1:0,d=0;for((e=Ed(e))!=e||e===Cd?(i=e!=e?1:0,n=c):(n=Sd(_d(e)/Ad),e*(o=kd(2,-n))<1&&(n--,o*=2),(e+=n+u>=1?l/o:l*kd(2,1-u))*o>=2&&(n++,o/=2),n+u>=c?(i=0,n=c):n+u>=1?(i=(e*o-1)*kd(2,t),n+=u):(i=e*kd(2,u-1)*kd(2,t),n=0));t>=8;a[d++]=255&i,i/=256,t-=8);for(n=n<<t|i,s+=t;s>0;a[d++]=255&n,n/=256,s-=8);return a[--d]|=128*f,a},xd=function(e,t){var r,n=e.length,i=8*n-t-1,o=(1<<i)-1,a=o>>1,s=i-7,c=n-1,u=e[c--],l=127&u;for(u>>=7;s>0;l=256*l+e[c],c--,s-=8);for(r=l&(1<<-s)-1,l>>=-s,s+=t;s>0;r=256*r+e[c],c--,s-=8);if(0===l)l=1-a;else{if(l===o)return r?NaN:u?-Cd:Cd;r+=kd(2,t),l-=a}return(u?-1:1)*r*kd(2,l-t)},Id={pack:Td,unpack:xd},Bd=Be.f,Rd=O.f,Pd=le.get,Nd=le.set,Od="ArrayBuffer",Dd="DataView",Ld="prototype",Md="Wrong length",Ud="Wrong index",jd=o[Od],Fd=jd,Vd=o[Dd],zd=Vd&&Vd[Ld],Kd=Object.prototype,qd=o.RangeError,Hd=Id.pack,Qd=Id.unpack,Wd=function(e){return[255&e]},Gd=function(e){return[255&e,e>>8&255]},Yd=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},Xd=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},$d=function(e){return Hd(e,23,4)},Zd=function(e){return Hd(e,52,8)},Jd=function(e,t){Rd(e[Ld],t,{get:function(){return Pd(this)[t]}})},ep=function(e,t,r,n){var i=wd(r),o=Pd(e);if(i+t>o.byteLength)throw qd(Ud);var a=Pd(o.buffer).bytes,s=i+o.byteOffset,c=a.slice(s,s+t);return n?c:c.reverse()},tp=function(e,t,r,n,i,o){var a=wd(r),s=Pd(e);if(a+t>s.byteLength)throw qd(Ud);for(var c=Pd(s.buffer).bytes,u=a+s.byteOffset,l=n(+i),f=0;f<t;f++)c[u+f]=l[o?f:t-f-1]};if(bd){if(!a((function(){jd(1)}))||!a((function(){new jd(-1)}))||a((function(){return new jd,new jd(1.5),new jd(NaN),jd.name!=Od}))){for(var rp,np=(Fd=function(e){return Pl(this,Fd),new jd(wd(e))})[Ld]=jd[Ld],ip=Bd(jd),op=0;ip.length>op;)(rp=ip[op++])in Fd||D(Fd,rp,jd[rp]);np.constructor=Fd}kr&&Cr(zd)!==Kd&&kr(zd,Kd);var ap=new Vd(new Fd(2)),sp=zd.setInt8;ap.setInt8(0,2147483648),ap.setInt8(1,2147483649),!ap.getInt8(0)&&ap.getInt8(1)||Rl(zd,{setInt8:function(e,t){sp.call(this,e,t<<24>>24)},setUint8:function(e,t){sp.call(this,e,t<<24>>24)}},{unsafe:!0})}else Fd=function(e){Pl(this,Fd,Od);var t=wd(e);Nd(this,{bytes:Tn.call(new Array(t),0),byteLength:t}),s||(this.byteLength=t)},Vd=function(e,t,r){Pl(this,Vd,Dd),Pl(e,Fd,Dd);var n=Pd(e).byteLength,i=ve(t);if(i<0||i>n)throw qd("Wrong offset");if(i+(r=void 0===r?n-i:be(r))>n)throw qd(Md);Nd(this,{buffer:e,byteLength:r,byteOffset:i}),s||(this.buffer=e,this.byteLength=r,this.byteOffset=i)},s&&(Jd(Fd,"byteLength"),Jd(Vd,"buffer"),Jd(Vd,"byteLength"),Jd(Vd,"byteOffset")),Rl(Vd[Ld],{getInt8:function(e){return ep(this,1,e)[0]<<24>>24},getUint8:function(e){return ep(this,1,e)[0]},getInt16:function(e){var t=ep(this,2,e,arguments.length>1?arguments[1]:void 0);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=ep(this,2,e,arguments.length>1?arguments[1]:void 0);return t[1]<<8|t[0]},getInt32:function(e){return Xd(ep(this,4,e,arguments.length>1?arguments[1]:void 0))},getUint32:function(e){return Xd(ep(this,4,e,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(e){return Qd(ep(this,4,e,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(e){return Qd(ep(this,8,e,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(e,t){tp(this,1,e,Wd,t)},setUint8:function(e,t){tp(this,1,e,Wd,t)},setInt16:function(e,t){tp(this,2,e,Gd,t,arguments.length>2?arguments[2]:void 0)},setUint16:function(e,t){tp(this,2,e,Gd,t,arguments.length>2?arguments[2]:void 0)},setInt32:function(e,t){tp(this,4,e,Yd,t,arguments.length>2?arguments[2]:void 0)},setUint32:function(e,t){tp(this,4,e,Yd,t,arguments.length>2?arguments[2]:void 0)},setFloat32:function(e,t){tp(this,4,e,$d,t,arguments.length>2?arguments[2]:void 0)},setFloat64:function(e,t){tp(this,8,e,Zd,t,arguments.length>2?arguments[2]:void 0)}});St(Fd,Od),St(Vd,Dd);var cp={ArrayBuffer:Fd,DataView:Vd},up="ArrayBuffer",lp=cp[up],fp=o[up];Ke({global:!0,forced:fp!==lp},{ArrayBuffer:lp}),Hi(up);var dp,pp=O.f,hp=o.Int8Array,gp=hp&&hp.prototype,mp=o.Uint8ClampedArray,vp=mp&&mp.prototype,yp=hp&&Cr(hp),bp=gp&&Cr(gp),wp=Object.prototype,Cp=wp.isPrototypeOf,Ep=vt("toStringTag"),kp=$("TYPED_ARRAY_TAG"),Sp=bd&&!!kr&&"Opera"!==Or(o.opera),_p=!1,Ap={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Tp={BigInt64Array:8,BigUint64Array:8},xp=function(e){if(!w(e))return!1;var t=Or(e);return"DataView"===t||k(Ap,t)||k(Tp,t)},Ip=function(e){if(!w(e))return!1;var t=Or(e);return k(Ap,t)||k(Tp,t)},Bp=function(e){if(Ip(e))return e;throw TypeError("Target is not a typed array")},Rp=function(e){if(kr){if(Cp.call(yp,e))return e}else for(var t in Ap)if(k(Ap,dp)){var r=o[t];if(r&&(e===r||Cp.call(r,e)))return e}throw TypeError("Target is not a typed array constructor")},Pp=function(e,t,r){if(s){if(r)for(var n in Ap){var i=o[n];i&&k(i.prototype,e)&&delete i.prototype[e]}bp[e]&&!r||fe(bp,e,r?t:Sp&&gp[e]||t)}},Np=function(e,t,r){var n,i;if(s){if(kr){if(r)for(n in Ap)(i=o[n])&&k(i,e)&&delete i[e];if(yp[e]&&!r)return;try{return fe(yp,e,r?t:Sp&&hp[e]||t)}catch(e){}}for(n in Ap)!(i=o[n])||i[e]&&!r||fe(i,e,t)}};for(dp in Ap)o[dp]||(Sp=!1);if((!Sp||"function"!=typeof yp||yp===Function.prototype)&&(yp=function(){throw TypeError("Incorrect invocation")},Sp))for(dp in Ap)o[dp]&&kr(o[dp],yp);if((!Sp||!bp||bp===wp)&&(bp=yp.prototype,Sp))for(dp in Ap)o[dp]&&kr(o[dp].prototype,bp);if(Sp&&Cr(vp)!==bp&&kr(vp,bp),s&&!k(bp,Ep))for(dp in _p=!0,pp(bp,Ep,{get:function(){return w(this)?this[kp]:void 0}}),Ap)o[dp]&&D(o[dp],kp,dp);var Op={NATIVE_ARRAY_BUFFER_VIEWS:Sp,TYPED_ARRAY_TAG:_p&&kp,aTypedArray:Bp,aTypedArrayConstructor:Rp,exportTypedArrayMethod:Pp,exportTypedArrayStaticMethod:Np,isView:xp,isTypedArray:Ip,TypedArray:yp,TypedArrayPrototype:bp},Dp=Op.NATIVE_ARRAY_BUFFER_VIEWS;Ke({target:"ArrayBuffer",stat:!0,forced:!Dp},{isView:Op.isView});var Lp=cp.ArrayBuffer,Mp=cp.DataView,Up=Lp.prototype.slice,jp=a((function(){return!new Lp(2).slice(1,void 0).byteLength}));Ke({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:jp},{slice:function(e,t){if(void 0!==Up&&void 0===t)return Up.call(R(this),e);for(var r=R(this).byteLength,n=Ee(e,r),i=Ee(void 0===t?r:t,r),o=new(Xa(this,Lp))(be(i-n)),a=new Mp(this),s=new Mp(o),c=0;n<i;)s.setUint8(c++,a.getUint8(n++));return o}}),Ke({global:!0,forced:!bd},{DataView:cp.DataView});var Fp=Op.NATIVE_ARRAY_BUFFER_VIEWS,Vp=o.ArrayBuffer,zp=o.Int8Array,Kp=!Fp||!a((function(){zp(1)}))||!a((function(){new zp(-1)}))||!Gr((function(e){new zp,new zp(null),new zp(1.5),new zp(e)}),!0)||a((function(){return 1!==new zp(new Vp(2),1,void 0).length})),qp=function(e){var t=ve(e);if(t<0)throw RangeError("The argument can't be less than 0");return t},Hp=function(e,t){var r=qp(e);if(r%t)throw RangeError("Wrong offset");return r},Qp=Op.aTypedArrayConstructor,Wp=function(e){var t,r,n,i,o,a,s=We(e),c=arguments.length,u=c>1?arguments[1]:void 0,l=void 0!==u,f=Lr(s);if(null!=f&&!Tr(f))for(a=(o=f.call(s)).next,s=[];!(i=a.call(o)).done;)s.push(i.value);for(l&&c>2&&(u=At(u,arguments[2],2)),r=be(s.length),n=new(Qp(this))(r),t=0;r>t;t++)n[t]=l?u(s[t],t):s[t];return n},Gp=r((function(e){var t=Be.f,r=Rt.forEach,n=le.get,i=le.set,a=O.f,c=B.f,u=Math.round,l=o.RangeError,f=cp.ArrayBuffer,d=cp.DataView,h=Op.NATIVE_ARRAY_BUFFER_VIEWS,g=Op.TYPED_ARRAY_TAG,m=Op.TypedArray,v=Op.TypedArrayPrototype,y=Op.aTypedArrayConstructor,b=Op.isTypedArray,E="BYTES_PER_ELEMENT",S="Wrong length",_=function(e,t){for(var r=0,n=t.length,i=new(y(e))(n);n>r;)i[r]=t[r++];return i},A=function(e,t){a(e,t,{get:function(){return n(this)[t]}})},T=function(e){var t;return e instanceof f||"ArrayBuffer"==(t=Or(e))||"SharedArrayBuffer"==t},x=function(e,t){return b(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},I=function(e,t){return x(e,t=C(t,!0))?p(2,e[t]):c(e,t)},R=function(e,t,r){return!(x(e,t=C(t,!0))&&w(r)&&k(r,"value"))||k(r,"get")||k(r,"set")||r.configurable||k(r,"writable")&&!r.writable||k(r,"enumerable")&&!r.enumerable?a(e,t,r):(e[t]=r.value,e)};s?(h||(B.f=I,O.f=R,A(v,"buffer"),A(v,"byteOffset"),A(v,"byteLength"),A(v,"length")),Ke({target:"Object",stat:!0,forced:!h},{getOwnPropertyDescriptor:I,defineProperty:R}),e.exports=function(e,s,c){var p=e.match(/\d+$/)[0]/8,y=e+(c?"Clamped":"")+"Array",C="get"+e,k="set"+e,A=o[y],x=A,I=x&&x.prototype,B={},R=function(e,t){a(e,t,{get:function(){return function(e,t){var r=n(e);return r.view[C](t*p+r.byteOffset,!0)}(this,t)},set:function(e){return function(e,t,r){var i=n(e);c&&(r=(r=u(r))<0?0:r>255?255:255&r),i.view[k](t*p+i.byteOffset,r,!0)}(this,t,e)},enumerable:!0})};h?Kp&&(x=s((function(e,t,r,n){return Pl(e,x,y),tc(w(t)?T(t)?void 0!==n?new A(t,Hp(r,p),n):void 0!==r?new A(t,Hp(r,p)):new A(t):b(t)?_(x,t):Wp.call(x,t):new A(wd(t)),e,x)})),kr&&kr(x,m),r(t(A),(function(e){e in x||D(x,e,A[e])})),x.prototype=I):(x=s((function(e,t,r,n){Pl(e,x,y);var o,a,s,c=0,u=0;if(w(t)){if(!T(t))return b(t)?_(x,t):Wp.call(x,t);o=t,u=Hp(r,p);var h=t.byteLength;if(void 0===n){if(h%p)throw l(S);if((a=h-u)<0)throw l(S)}else if((a=be(n)*p)+u>h)throw l(S);s=a/p}else s=wd(t),o=new f(a=s*p);for(i(e,{buffer:o,byteOffset:u,byteLength:a,length:s,view:new d(o)});c<s;)R(e,c++)})),kr&&kr(x,m),I=x.prototype=st(v)),I.constructor!==x&&D(I,"constructor",x),g&&D(I,g,y),B[y]=x,Ke({global:!0,forced:x!=A,sham:!h},B),E in x||D(x,E,p),E in I||D(I,E,p),Hi(y)}):e.exports=function(){}}));Gp("Int8",(function(e){return function(t,r,n){return e(this,t,r,n)}})),Gp("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}})),Gp("Uint8",(function(e){return function(t,r,n){return e(this,t,r,n)}}),!0),Gp("Int16",(function(e){return function(t,r,n){return e(this,t,r,n)}})),Gp("Uint16",(function(e){return function(t,r,n){return e(this,t,r,n)}})),Gp("Int32",(function(e){return function(t,r,n){return e(this,t,r,n)}})),Gp("Uint32",(function(e){return function(t,r,n){return e(this,t,r,n)}})),Gp("Float32",(function(e){return function(t,r,n){return e(this,t,r,n)}})),Gp("Float64",(function(e){return function(t,r,n){return e(this,t,r,n)}}));var Yp=Op.exportTypedArrayStaticMethod;Yp("from",Wp,Kp);var Xp=Op.aTypedArrayConstructor,$p=Op.exportTypedArrayStaticMethod;$p("of",(function(){for(var e=0,t=arguments.length,r=new(Xp(this))(t);t>e;)r[e]=arguments[e++];return r}),Kp);var Zp=Op.aTypedArray,Jp=Op.exportTypedArrayMethod;Jp("copyWithin",(function(e,t){return gn.call(Zp(this),e,t,arguments.length>2?arguments[2]:void 0)}));var eh=Rt.every,th=Op.aTypedArray,rh=Op.exportTypedArrayMethod;rh("every",(function(e){return eh(th(this),e,arguments.length>1?arguments[1]:void 0)}));var nh=Op.aTypedArray,ih=Op.exportTypedArrayMethod;ih("fill",(function(e){return Tn.apply(nh(this),arguments)}));var oh=Rt.filter,ah=Op.aTypedArray,sh=Op.aTypedArrayConstructor,ch=Op.exportTypedArrayMethod;ch("filter",(function(e){for(var t=oh(ah(this),e,arguments.length>1?arguments[1]:void 0),r=Xa(this,this.constructor),n=0,i=t.length,o=new(sh(r))(i);i>n;)o[n]=t[n++];return o}));var uh=Rt.find,lh=Op.aTypedArray,fh=Op.exportTypedArrayMethod;fh("find",(function(e){return uh(lh(this),e,arguments.length>1?arguments[1]:void 0)}));var dh=Rt.findIndex,ph=Op.aTypedArray,hh=Op.exportTypedArrayMethod;hh("findIndex",(function(e){return dh(ph(this),e,arguments.length>1?arguments[1]:void 0)}));var gh=Rt.forEach,mh=Op.aTypedArray,vh=Op.exportTypedArrayMethod;vh("forEach",(function(e){gh(mh(this),e,arguments.length>1?arguments[1]:void 0)}));var yh=Se.includes,bh=Op.aTypedArray,wh=Op.exportTypedArrayMethod;wh("includes",(function(e){return yh(bh(this),e,arguments.length>1?arguments[1]:void 0)}));var Ch=Se.indexOf,Eh=Op.aTypedArray,kh=Op.exportTypedArrayMethod;kh("indexOf",(function(e){return Ch(Eh(this),e,arguments.length>1?arguments[1]:void 0)}));var Sh=vt("iterator"),_h=o.Uint8Array,Ah=ho.values,Th=ho.keys,xh=ho.entries,Ih=Op.aTypedArray,Bh=Op.exportTypedArrayMethod,Rh=_h&&_h.prototype[Sh],Ph=!!Rh&&("values"==Rh.name||null==Rh.name),Nh=function(){return Ah.call(Ih(this))};Bh("entries",(function(){return xh.call(Ih(this))})),Bh("keys",(function(){return Th.call(Ih(this))})),Bh("values",Nh,!Ph),Bh(Sh,Nh,!Ph);var Oh=Op.aTypedArray,Dh=Op.exportTypedArrayMethod,Lh=[].join;Dh("join",(function(e){return Lh.apply(Oh(this),arguments)}));var Mh=Op.aTypedArray,Uh=Op.exportTypedArrayMethod;Uh("lastIndexOf",(function(e){return si.apply(Mh(this),arguments)}));var jh=Rt.map,Fh=Op.aTypedArray,Vh=Op.aTypedArrayConstructor,zh=Op.exportTypedArrayMethod;zh("map",(function(e){return jh(Fh(this),e,arguments.length>1?arguments[1]:void 0,(function(e,t){return new(Vh(Xa(e,e.constructor)))(t)}))}));var Kh=di.left,qh=Op.aTypedArray,Hh=Op.exportTypedArrayMethod;Hh("reduce",(function(e){return Kh(qh(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var Qh=di.right,Wh=Op.aTypedArray,Gh=Op.exportTypedArrayMethod;Gh("reduceRight",(function(e){return Qh(Wh(this),e,arguments.length,arguments.length>1?arguments[1]:void 0)}));var Yh=Op.aTypedArray,Xh=Op.exportTypedArrayMethod,$h=Math.floor;Xh("reverse",(function(){for(var e,t=this,r=Yh(t).length,n=$h(r/2),i=0;i<n;)e=t[i],t[i++]=t[--r],t[r]=e;return t}));var Zh=Op.aTypedArray,Jh=Op.exportTypedArrayMethod,eg=a((function(){new Int8Array(1).set({})}));Jh("set",(function(e){Zh(this);var t=Hp(arguments.length>1?arguments[1]:void 0,1),r=this.length,n=We(e),i=be(n.length),o=0;if(i+t>r)throw RangeError("Wrong length");for(;o<i;)this[t+o]=n[o++]}),eg);var tg=Op.aTypedArray,rg=Op.aTypedArrayConstructor,ng=Op.exportTypedArrayMethod,ig=[].slice,og=a((function(){new Int8Array(1).slice()}));ng("slice",(function(e,t){for(var r=ig.call(tg(this),e,t),n=Xa(this,this.constructor),i=0,o=r.length,a=new(rg(n))(o);o>i;)a[i]=r[i++];return a}),og);var ag=Rt.some,sg=Op.aTypedArray,cg=Op.exportTypedArrayMethod;cg("some",(function(e){return ag(sg(this),e,arguments.length>1?arguments[1]:void 0)}));var ug=Op.aTypedArray,lg=Op.exportTypedArrayMethod,fg=[].sort;lg("sort",(function(e){return fg.call(ug(this),e)}));var dg=Op.aTypedArray,pg=Op.exportTypedArrayMethod;pg("subarray",(function(e,t){var r=dg(this),n=r.length,i=Ee(e,n);return new(Xa(r,r.constructor))(r.buffer,r.byteOffset+i*r.BYTES_PER_ELEMENT,be((void 0===t?n:Ee(t,n))-i))}));var hg=o.Int8Array,gg=Op.aTypedArray,mg=Op.exportTypedArrayMethod,vg=[].toLocaleString,yg=[].slice,bg=!!hg&&a((function(){vg.call(new hg(1))})),wg=a((function(){return[1,2].toLocaleString()!=new hg([1,2]).toLocaleString()}))||!a((function(){hg.prototype.toLocaleString.call([1,2])}));mg("toLocaleString",(function(){return vg.apply(bg?yg.call(gg(this)):gg(this),arguments)}),wg);var Cg=Op.exportTypedArrayMethod,Eg=o.Uint8Array,kg=Eg&&Eg.prototype||{},Sg=[].toString,_g=[].join;a((function(){Sg.call({})}))&&(Sg=function(){return _g.call(this)});var Ag=kg.toString!=Sg;Cg("toString",Sg,Ag);var Tg=he("Reflect","apply"),xg=Function.apply,Ig=!a((function(){Tg((function(){}))}));Ke({target:"Reflect",stat:!0,forced:Ig},{apply:function(e,t,r){return _t(e),R(r),Tg?Tg(e,t,r):xg.call(e,t,r)}});var Bg=he("Reflect","construct"),Rg=a((function(){function e(){}return!(Bg((function(){}),[],e)instanceof e)})),Pg=!a((function(){Bg((function(){}))})),Ng=Rg||Pg;Ke({target:"Reflect",stat:!0,forced:Ng,sham:Ng},{construct:function(e,t){_t(e),R(t);var r=arguments.length<3?e:_t(arguments[2]);if(Pg&&!Rg)return Bg(e,t,r);if(e==r){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var n=[null];return n.push.apply(n,t),new(yo.apply(e,n))}var i=r.prototype,o=st(w(i)?i:Object.prototype),a=Function.apply.call(e,o,t);return w(a)?a:o}});var Og=a((function(){Reflect.defineProperty(O.f({},1,{value:1}),1,{value:2})}));Ke({target:"Reflect",stat:!0,forced:Og,sham:!s},{defineProperty:function(e,t,r){R(e);var n=C(t,!0);R(r);try{return O.f(e,n,r),!0}catch(e){return!1}}});var Dg=B.f;function Lg(e,t){var r,n,i=arguments.length<3?e:arguments[2];return R(e)===i?e[t]:(r=B.f(e,t))?k(r,"value")?r.value:void 0===r.get?void 0:r.get.call(i):w(n=Cr(e))?Lg(n,t,i):void 0}Ke({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var r=Dg(R(e),t);return!(r&&!r.configurable)&&delete e[t]}}),Ke({target:"Reflect",stat:!0},{get:Lg}),Ke({target:"Reflect",stat:!0,sham:!s},{getOwnPropertyDescriptor:function(e,t){return B.f(R(e),t)}}),Ke({target:"Reflect",stat:!0,sham:!yr},{getPrototypeOf:function(e){return Cr(R(e))}}),Ke({target:"Reflect",stat:!0},{has:function(e,t){return t in e}});var Mg=Object.isExtensible;function Ug(e,t,r){var n,i,o=arguments.length<4?e:arguments[3],a=B.f(R(e),t);if(!a){if(w(i=Cr(e)))return Ug(i,t,r,o);a=p(0)}if(k(a,"value")){if(!1===a.writable||!w(o))return!1;if(n=B.f(o,t)){if(n.get||n.set||!1===n.writable)return!1;n.value=r,O.f(o,t,n)}else O.f(o,t,p(0,r));return!0}return void 0!==a.set&&(a.set.call(o,r),!0)}Ke({target:"Reflect",stat:!0},{isExtensible:function(e){return R(e),!Mg||Mg(e)}}),Ke({target:"Reflect",stat:!0},{ownKeys:Ne}),Ke({target:"Reflect",stat:!0,sham:!No},{preventExtensions:function(e){R(e);try{var t=he("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}});var jg=a((function(){var e=function(){},t=O.f(new e,"a",{configurable:!0});return!1!==Reflect.set(e.prototype,"a",1,t)}));Ke({target:"Reflect",stat:!0,forced:jg},{set:Ug}),kr&&Ke({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){R(e),Er(t);try{return kr(e,t),!0}catch(e){return!1}}}),Ke({global:!0},{Reflect:{}}),St(o.Reflect,"Reflect",!0);var Fg={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0};for(var Vg in Fg){var zg=o[Vg],Kg=zg&&zg.prototype;if(Kg&&Kg.forEach!==qn)try{D(Kg,"forEach",qn)}catch(e){Kg.forEach=qn}}var qg=vt("iterator"),Hg=vt("toStringTag"),Qg=ho.values;for(var Wg in Fg){var Gg=o[Wg],Yg=Gg&&Gg.prototype;if(Yg){if(Yg[qg]!==Qg)try{D(Yg,qg,Qg)}catch(e){Yg[qg]=Qg}if(Yg[Hg]||D(Yg,Hg,Wg),Fg[Wg])for(var Xg in ho)if(Yg[Xg]!==ho[Xg])try{D(Yg,Xg,ho[Xg])}catch(e){Yg[Xg]=ho[Xg]}}}var $g=!o.setImmediate||!o.clearImmediate;Ke({global:!0,bind:!0,enumerable:!0,forced:$g},{setImmediate:tf.set,clearImmediate:tf.clear});var Zg=o.process;Ke({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=pi&&Zg.domain;gf(t?t.bind(e):e)}});var Jg=[].slice,em=/MSIE .\./.test(Jr),tm=function(e){return function(t,r){var n=arguments.length>2,i=n?Jg.call(arguments,2):void 0;return e(n?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,r)}};Ke({global:!0,bind:!0,forced:em},{setTimeout:tm(o.setTimeout),setInterval:tm(o.setInterval)});var rm=vt("iterator"),nm=!a((function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,r="";return e.pathname="c%20d",t.forEach((function(e,n){t.delete("b"),r+=n+e})),W&&!e.toJSON||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[rm]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==r||"x"!==new URL("http://x",void 0).host})),im=2147483647,om=36,am=1,sm=26,cm=38,um=700,lm=72,fm=128,dm="-",pm=/[^\0-\u007E]/,hm=/[.\u3002\uFF0E\uFF61]/g,gm="Overflow: input needs wider integers to process",mm=om-am,vm=Math.floor,ym=String.fromCharCode,bm=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){var o=e.charCodeAt(r++);56320==(64512&o)?t.push(((1023&i)<<10)+(1023&o)+65536):(t.push(i),r--)}else t.push(i)}return t},wm=function(e){return e+22+75*(e<26)},Cm=function(e,t,r){var n=0;for(e=r?vm(e/um):e>>1,e+=vm(e/t);e>mm*sm>>1;n+=om)e=vm(e/mm);return vm(n+(mm+1)*e/(e+cm))},Em=function(e){var t,r,n=[],i=(e=bm(e)).length,o=fm,a=0,s=lm;for(t=0;t<e.length;t++)(r=e[t])<128&&n.push(ym(r));var c=n.length,u=c;for(c&&n.push(dm);u<i;){var l=im;for(t=0;t<e.length;t++)(r=e[t])>=o&&r<l&&(l=r);var f=u+1;if(l-o>vm((im-a)/f))throw RangeError(gm);for(a+=(l-o)*f,o=l,t=0;t<e.length;t++){if((r=e[t])<o&&++a>im)throw RangeError(gm);if(r==o){for(var d=a,p=om;;p+=om){var h=p<=s?am:p>=s+sm?sm:p-s;if(d<h)break;var g=d-h,m=om-h;n.push(ym(wm(h+g%m))),d=vm(g/m)}n.push(ym(wm(d))),s=Cm(a,f,u==c),a=0,++u}}++a,++o}return n.join("")},km=function(e){var t,r,n=[],i=e.toLowerCase().replace(hm,".").split(".");for(t=0;t<i.length;t++)r=i[t],n.push(pm.test(r)?"xn--"+Em(r):r);return n.join(".")},Sm=function(e){var t=Lr(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return R(t.call(e))},_m=he("fetch"),Am=he("Headers"),Tm=vt("iterator"),xm="URLSearchParams",Im=xm+"Iterator",Bm=le.set,Rm=le.getterFor(xm),Pm=le.getterFor(Im),Nm=/\+/g,Om=Array(4),Dm=function(e){return Om[e-1]||(Om[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},Lm=function(e){try{return decodeURIComponent(e)}catch(t){return e}},Mm=function(e){var t=e.replace(Nm," "),r=4;try{return decodeURIComponent(t)}catch(e){for(;r;)t=t.replace(Dm(r--),Lm);return t}},Um=/[!'()~]|%20/g,jm={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Fm=function(e){return jm[e]},Vm=function(e){return encodeURIComponent(e).replace(Um,Fm)},zm=function(e,t){if(t)for(var r,n,i=t.split("&"),o=0;o<i.length;)(r=i[o++]).length&&(n=r.split("="),e.push({key:Mm(n.shift()),value:Mm(n.join("="))}))},Km=function(e){this.entries.length=0,zm(this.entries,e)},qm=function(e,t){if(e<t)throw TypeError("Not enough arguments")},Hm=to((function(e,t){Bm(this,{type:Im,iterator:Sm(Rm(e).entries),kind:t})}),"Iterator",(function(){var e=Pm(this),t=e.kind,r=e.iterator.next(),n=r.value;return r.done||(r.value="keys"===t?n.key:"values"===t?n.value:[n.key,n.value]),r})),Qm=function(){Pl(this,Qm,xm);var e,t,r,n,i,o,a,s,c,u=arguments.length>0?arguments[0]:void 0,l=this,f=[];if(Bm(l,{type:xm,entries:f,updateURL:function(){},updateSearchParams:Km}),void 0!==u)if(w(u))if("function"==typeof(e=Lr(u)))for(r=(t=e.call(u)).next;!(n=r.call(t)).done;){if((a=(o=(i=Sm(R(n.value))).next).call(i)).done||(s=o.call(i)).done||!o.call(i).done)throw TypeError("Expected sequence with length 2");f.push({key:a.value+"",value:s.value+""})}else for(c in u)k(u,c)&&f.push({key:c,value:u[c]+""});else zm(f,"string"==typeof u?"?"===u.charAt(0)?u.slice(1):u:u+"")},Wm=Qm.prototype;Rl(Wm,{append:function(e,t){qm(arguments.length,2);var r=Rm(this);r.entries.push({key:e+"",value:t+""}),r.updateURL()},delete:function(e){qm(arguments.length,1);for(var t=Rm(this),r=t.entries,n=e+"",i=0;i<r.length;)r[i].key===n?r.splice(i,1):i++;t.updateURL()},get:function(e){qm(arguments.length,1);for(var t=Rm(this).entries,r=e+"",n=0;n<t.length;n++)if(t[n].key===r)return t[n].value;return null},getAll:function(e){qm(arguments.length,1);for(var t=Rm(this).entries,r=e+"",n=[],i=0;i<t.length;i++)t[i].key===r&&n.push(t[i].value);return n},has:function(e){qm(arguments.length,1);for(var t=Rm(this).entries,r=e+"",n=0;n<t.length;)if(t[n++].key===r)return!0;return!1},set:function(e,t){qm(arguments.length,1);for(var r,n=Rm(this),i=n.entries,o=!1,a=e+"",s=t+"",c=0;c<i.length;c++)(r=i[c]).key===a&&(o?i.splice(c--,1):(o=!0,r.value=s));o||i.push({key:a,value:s}),n.updateURL()},sort:function(){var e,t,r,n=Rm(this),i=n.entries,o=i.slice();for(i.length=0,r=0;r<o.length;r++){for(e=o[r],t=0;t<r;t++)if(i[t].key>e.key){i.splice(t,0,e);break}t===r&&i.push(e)}n.updateURL()},forEach:function(e){for(var t,r=Rm(this).entries,n=At(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<r.length;)n((t=r[i++]).value,t.key,this)},keys:function(){return new Hm(this,"keys")},values:function(){return new Hm(this,"values")},entries:function(){return new Hm(this,"entries")}},{enumerable:!0}),fe(Wm,Tm,Wm.entries),fe(Wm,"toString",(function(){for(var e,t=Rm(this).entries,r=[],n=0;n<t.length;)e=t[n++],r.push(Vm(e.key)+"="+Vm(e.value));return r.join("&")}),{enumerable:!0}),St(Qm,xm),Ke({global:!0,forced:!nm},{URLSearchParams:Qm}),nm||"function"!=typeof _m||"function"!=typeof Am||Ke({global:!0,enumerable:!0,forced:!0},{fetch:function(e){var t,r,n,i=[e];return arguments.length>1&&(w(t=arguments[1])&&(r=t.body,Or(r)===xm&&((n=t.headers?new Am(t.headers):new Am).has("content-type")||n.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),t=st(t,{body:p(0,String(r)),headers:p(0,n)}))),i.push(t)),_m.apply(this,i)}});var Gm,Ym={URLSearchParams:Qm,getState:Rm},Xm=pa.codeAt,$m=o.URL,Zm=Ym.URLSearchParams,Jm=Ym.getState,ev=le.set,tv=le.getterFor("URL"),rv=Math.floor,nv=Math.pow,iv="Invalid authority",ov="Invalid scheme",av="Invalid host",sv="Invalid port",cv=/[A-Za-z]/,uv=/[\d+-.A-Za-z]/,lv=/\d/,fv=/^(0x|0X)/,dv=/^[0-7]+$/,pv=/^\d+$/,hv=/^[\dA-Fa-f]+$/,gv=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,mv=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,vv=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,yv=/[\u0009\u000A\u000D]/g,bv=function(e,t){var r,n,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return av;if(!(r=Cv(t.slice(1,-1))))return av;e.host=r}else if(Bv(e)){if(t=km(t),gv.test(t))return av;if(null===(r=wv(t)))return av;e.host=r}else{if(mv.test(t))return av;for(r="",n=Kr(t),i=0;i<n.length;i++)r+=xv(n[i],Sv);e.host=r}},wv=function(e){var t,r,n,i,o,a,s,c=e.split(".");if(c.length&&""==c[c.length-1]&&c.pop(),(t=c.length)>4)return e;for(r=[],n=0;n<t;n++){if(""==(i=c[n]))return e;if(o=10,i.length>1&&"0"==i.charAt(0)&&(o=fv.test(i)?16:8,i=i.slice(8==o?1:2)),""===i)a=0;else{if(!(10==o?pv:8==o?dv:hv).test(i))return e;a=parseInt(i,o)}r.push(a)}for(n=0;n<t;n++)if(a=r[n],n==t-1){if(a>=nv(256,5-t))return null}else if(a>255)return null;for(s=r.pop(),n=0;n<r.length;n++)s+=r[n]*nv(256,3-n);return s},Cv=function(e){var t,r,n,i,o,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,f=0,d=function(){return e.charAt(f)};if(":"==d()){if(":"!=e.charAt(1))return;f+=2,l=++u}for(;d();){if(8==u)return;if(":"!=d()){for(t=r=0;r<4&&hv.test(d());)t=16*t+parseInt(d(),16),f++,r++;if("."==d()){if(0==r)return;if(f-=r,u>6)return;for(n=0;d();){if(i=null,n>0){if(!("."==d()&&n<4))return;f++}if(!lv.test(d()))return;for(;lv.test(d());){if(o=parseInt(d(),10),null===i)i=o;else{if(0==i)return;i=10*i+o}if(i>255)return;f++}c[u]=256*c[u]+i,2!=++n&&4!=n||u++}if(4!=n)return;break}if(":"==d()){if(f++,!d())return}else if(d())return;c[u++]=t}else{if(null!==l)return;f++,l=++u}}if(null!==l)for(a=u-l,u=7;0!=u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!=u)return;return c},Ev=function(e){for(var t=null,r=1,n=null,i=0,o=0;o<8;o++)0!==e[o]?(i>r&&(t=n,r=i),n=null,i=0):(null===n&&(n=o),++i);return i>r&&(t=n,r=i),t},kv=function(e){var t,r,n,i;if("number"==typeof e){for(t=[],r=0;r<4;r++)t.unshift(e%256),e=rv(e/256);return t.join(".")}if("object"==typeof e){for(t="",n=Ev(e),r=0;r<8;r++)i&&0===e[r]||(i&&(i=!1),n===r?(t+=r?":":"::",i=!0):(t+=e[r].toString(16),r<7&&(t+=":")));return"["+t+"]"}return e},Sv={},_v=xo({},Sv,{" ":1,'"':1,"<":1,">":1,"`":1}),Av=xo({},_v,{"#":1,"?":1,"{":1,"}":1}),Tv=xo({},Av,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),xv=function(e,t){var r=Xm(e,0);return r>32&&r<127&&!k(t,e)?e:encodeURIComponent(e)},Iv={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Bv=function(e){return k(Iv,e.scheme)},Rv=function(e){return""!=e.username||""!=e.password},Pv=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},Nv=function(e,t){var r;return 2==e.length&&cv.test(e.charAt(0))&&(":"==(r=e.charAt(1))||!t&&"|"==r)},Ov=function(e){var t;return e.length>1&&Nv(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},Dv=function(e){var t=e.path,r=t.length;!r||"file"==e.scheme&&1==r&&Nv(t[0],!0)||t.pop()},Lv=function(e){return"."===e||"%2e"===e.toLowerCase()},Mv=function(e){return".."===(e=e.toLowerCase())||"%2e."===e||".%2e"===e||"%2e%2e"===e},Uv={},jv={},Fv={},Vv={},zv={},Kv={},qv={},Hv={},Qv={},Wv={},Gv={},Yv={},Xv={},$v={},Zv={},Jv={},ey={},ty={},ry={},ny={},iy={},oy=function(e,t,r,n){var i,o,a,s,c=r||Uv,u=0,l="",f=!1,d=!1,p=!1;for(r||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(vv,"")),t=t.replace(yv,""),i=Kr(t);u<=i.length;){switch(o=i[u],c){case Uv:if(!o||!cv.test(o)){if(r)return ov;c=Fv;continue}l+=o.toLowerCase(),c=jv;break;case jv:if(o&&(uv.test(o)||"+"==o||"-"==o||"."==o))l+=o.toLowerCase();else{if(":"!=o){if(r)return ov;l="",c=Fv,u=0;continue}if(r&&(Bv(e)!=k(Iv,l)||"file"==l&&(Rv(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=l,r)return void(Bv(e)&&Iv[e.scheme]==e.port&&(e.port=null));l="","file"==e.scheme?c=$v:Bv(e)&&n&&n.scheme==e.scheme?c=Vv:Bv(e)?c=Hv:"/"==i[u+1]?(c=zv,u++):(e.cannotBeABaseURL=!0,e.path.push(""),c=ry)}break;case Fv:if(!n||n.cannotBeABaseURL&&"#"!=o)return ov;if(n.cannotBeABaseURL&&"#"==o){e.scheme=n.scheme,e.path=n.path.slice(),e.query=n.query,e.fragment="",e.cannotBeABaseURL=!0,c=iy;break}c="file"==n.scheme?$v:Kv;continue;case Vv:if("/"!=o||"/"!=i[u+1]){c=Kv;continue}c=Qv,u++;break;case zv:if("/"==o){c=Wv;break}c=ty;continue;case Kv:if(e.scheme=n.scheme,o==Gm)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query;else if("/"==o||"\\"==o&&Bv(e))c=qv;else if("?"==o)e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query="",c=ny;else{if("#"!=o){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.path.pop(),c=ty;continue}e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,e.path=n.path.slice(),e.query=n.query,e.fragment="",c=iy}break;case qv:if(!Bv(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=n.username,e.password=n.password,e.host=n.host,e.port=n.port,c=ty;continue}c=Wv}else c=Qv;break;case Hv:if(c=Qv,"/"!=o||"/"!=l.charAt(u+1))continue;u++;break;case Qv:if("/"!=o&&"\\"!=o){c=Wv;continue}break;case Wv:if("@"==o){f&&(l="%40"+l),f=!0,a=Kr(l);for(var h=0;h<a.length;h++){var g=a[h];if(":"!=g||p){var m=xv(g,Tv);p?e.password+=m:e.username+=m}else p=!0}l=""}else if(o==Gm||"/"==o||"?"==o||"#"==o||"\\"==o&&Bv(e)){if(f&&""==l)return iv;u-=Kr(l).length+1,l="",c=Gv}else l+=o;break;case Gv:case Yv:if(r&&"file"==e.scheme){c=Jv;continue}if(":"!=o||d){if(o==Gm||"/"==o||"?"==o||"#"==o||"\\"==o&&Bv(e)){if(Bv(e)&&""==l)return av;if(r&&""==l&&(Rv(e)||null!==e.port))return;if(s=bv(e,l))return s;if(l="",c=ey,r)return;continue}"["==o?d=!0:"]"==o&&(d=!1),l+=o}else{if(""==l)return av;if(s=bv(e,l))return s;if(l="",c=Xv,r==Yv)return}break;case Xv:if(!lv.test(o)){if(o==Gm||"/"==o||"?"==o||"#"==o||"\\"==o&&Bv(e)||r){if(""!=l){var v=parseInt(l,10);if(v>65535)return sv;e.port=Bv(e)&&v===Iv[e.scheme]?null:v,l=""}if(r)return;c=ey;continue}return sv}l+=o;break;case $v:if(e.scheme="file","/"==o||"\\"==o)c=Zv;else{if(!n||"file"!=n.scheme){c=ty;continue}if(o==Gm)e.host=n.host,e.path=n.path.slice(),e.query=n.query;else if("?"==o)e.host=n.host,e.path=n.path.slice(),e.query="",c=ny;else{if("#"!=o){Ov(i.slice(u).join(""))||(e.host=n.host,e.path=n.path.slice(),Dv(e)),c=ty;continue}e.host=n.host,e.path=n.path.slice(),e.query=n.query,e.fragment="",c=iy}}break;case Zv:if("/"==o||"\\"==o){c=Jv;break}n&&"file"==n.scheme&&!Ov(i.slice(u).join(""))&&(Nv(n.path[0],!0)?e.path.push(n.path[0]):e.host=n.host),c=ty;continue;case Jv:if(o==Gm||"/"==o||"\\"==o||"?"==o||"#"==o){if(!r&&Nv(l))c=ty;else if(""==l){if(e.host="",r)return;c=ey}else{if(s=bv(e,l))return s;if("localhost"==e.host&&(e.host=""),r)return;l="",c=ey}continue}l+=o;break;case ey:if(Bv(e)){if(c=ty,"/"!=o&&"\\"!=o)continue}else if(r||"?"!=o)if(r||"#"!=o){if(o!=Gm&&(c=ty,"/"!=o))continue}else e.fragment="",c=iy;else e.query="",c=ny;break;case ty:if(o==Gm||"/"==o||"\\"==o&&Bv(e)||!r&&("?"==o||"#"==o)){if(Mv(l)?(Dv(e),"/"==o||"\\"==o&&Bv(e)||e.path.push("")):Lv(l)?"/"==o||"\\"==o&&Bv(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&Nv(l)&&(e.host&&(e.host=""),l=l.charAt(0)+":"),e.path.push(l)),l="","file"==e.scheme&&(o==Gm||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",c=ny):"#"==o&&(e.fragment="",c=iy)}else l+=xv(o,Av);break;case ry:"?"==o?(e.query="",c=ny):"#"==o?(e.fragment="",c=iy):o!=Gm&&(e.path[0]+=xv(o,Sv));break;case ny:r||"#"!=o?o!=Gm&&("'"==o&&Bv(e)?e.query+="%27":e.query+="#"==o?"%23":xv(o,Sv)):(e.fragment="",c=iy);break;case iy:o!=Gm&&(e.fragment+=xv(o,_v))}u++}},ay=function(e){var t,r,n=Pl(this,ay,"URL"),i=arguments.length>1?arguments[1]:void 0,o=String(e),a=ev(n,{type:"URL"});if(void 0!==i)if(i instanceof ay)t=tv(i);else if(r=oy(t={},String(i)))throw TypeError(r);if(r=oy(a,o,null,t))throw TypeError(r);var c=a.searchParams=new Zm,u=Jm(c);u.updateSearchParams(a.query),u.updateURL=function(){a.query=String(c)||null},s||(n.href=cy.call(n),n.origin=uy.call(n),n.protocol=ly.call(n),n.username=fy.call(n),n.password=dy.call(n),n.host=py.call(n),n.hostname=hy.call(n),n.port=gy.call(n),n.pathname=my.call(n),n.search=vy.call(n),n.searchParams=yy.call(n),n.hash=by.call(n))},sy=ay.prototype,cy=function(){var e=tv(this),t=e.scheme,r=e.username,n=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",Rv(e)&&(u+=r+(n?":"+n:"")+"@"),u+=kv(i),null!==o&&(u+=":"+o)):"file"==t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+a.join("/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u},uy=function(){var e=tv(this),t=e.scheme,r=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&Bv(e)?t+"://"+kv(e.host)+(null!==r?":"+r:""):"null"},ly=function(){return tv(this).scheme+":"},fy=function(){return tv(this).username},dy=function(){return tv(this).password},py=function(){var e=tv(this),t=e.host,r=e.port;return null===t?"":null===r?kv(t):kv(t)+":"+r},hy=function(){var e=tv(this).host;return null===e?"":kv(e)},gy=function(){var e=tv(this).port;return null===e?"":String(e)},my=function(){var e=tv(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},vy=function(){var e=tv(this).query;return e?"?"+e:""},yy=function(){return tv(this).searchParams},by=function(){var e=tv(this).fragment;return e?"#"+e:""},wy=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(s&&Ye(sy,{href:wy(cy,(function(e){var t=tv(this),r=String(e),n=oy(t,r);if(n)throw TypeError(n);Jm(t.searchParams).updateSearchParams(t.query)})),origin:wy(uy),protocol:wy(ly,(function(e){var t=tv(this);oy(t,String(e)+":",Uv)})),username:wy(fy,(function(e){var t=tv(this),r=Kr(String(e));if(!Pv(t)){t.username="";for(var n=0;n<r.length;n++)t.username+=xv(r[n],Tv)}})),password:wy(dy,(function(e){var t=tv(this),r=Kr(String(e));if(!Pv(t)){t.password="";for(var n=0;n<r.length;n++)t.password+=xv(r[n],Tv)}})),host:wy(py,(function(e){var t=tv(this);t.cannotBeABaseURL||oy(t,String(e),Gv)})),hostname:wy(hy,(function(e){var t=tv(this);t.cannotBeABaseURL||oy(t,String(e),Yv)})),port:wy(gy,(function(e){var t=tv(this);Pv(t)||(""==(e=String(e))?t.port=null:oy(t,e,Xv))})),pathname:wy(my,(function(e){var t=tv(this);t.cannotBeABaseURL||(t.path=[],oy(t,e+"",ey))})),search:wy(vy,(function(e){var t=tv(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",oy(t,e,ny)),Jm(t.searchParams).updateSearchParams(t.query)})),searchParams:wy(yy),hash:wy(by,(function(e){var t=tv(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",oy(t,e,iy)):t.fragment=null}))}),fe(sy,"toJSON",(function(){return cy.call(this)}),{enumerable:!0}),fe(sy,"toString",(function(){return cy.call(this)}),{enumerable:!0}),$m){var Cy=$m.createObjectURL,Ey=$m.revokeObjectURL;Cy&&fe(ay,"createObjectURL",(function(e){return Cy.apply($m,arguments)})),Ey&&fe(ay,"revokeObjectURL",(function(e){return Ey.apply($m,arguments)}))}St(ay,"URL"),Ke({global:!0,forced:!nm,sham:!s},{URL:ay}),Ke({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}});r((function(e){var t=function(e){var t,r=Object.prototype,n=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var i=t&&t.prototype instanceof m?t:m,o=Object.create(i.prototype),a=new x(n||[]);return o._invoke=function(e,t,r){var n=f;return function(i,o){if(n===p)throw new Error("Generator is already running");if(n===h){if("throw"===i)throw o;return B()}for(r.method=i,r.arg=o;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===g)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===f)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=p;var c=l(e,t,r);if("normal"===c.type){if(n=r.done?h:d,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=h,r.method="throw",r.arg=c.arg)}}}(e,r,a),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var f="suspendedStart",d="suspendedYield",p="executing",h="completed",g={};function m(){}function v(){}function y(){}var b={};b[o]=function(){return this};var w=Object.getPrototypeOf,C=w&&w(w(I([])));C&&C!==r&&n.call(C,o)&&(b=C);var E=y.prototype=m.prototype=Object.create(b);function k(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(i,o,a,s){var c=l(e[i],e,o);if("throw"!==c.type){var u=c.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return r("throw",e,a,s)}))}s(c.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function _(e,r){var n=e.iterator[r.method];if(n===t){if(r.delegate=null,"throw"===r.method){if(e.iterator.return&&(r.method="return",r.arg=t,_(e,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=l(n,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var o=i.arg;return o?o.done?(r[e.resultName]=o.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,g):o:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function I(e){if(e){var r=e[o];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function r(){for(;++i<e.length;)if(n.call(e,i))return r.value=e[i],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}return{next:B}}function B(){return{value:t,done:!0}}return v.prototype=E.constructor=y,y.constructor=v,v.displayName=c(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,c(e,s,"GeneratorFunction")),e.prototype=Object.create(E),e},e.awrap=function(e){return{__await:e}},k(S.prototype),S.prototype[a]=function(){return this},e.AsyncIterator=S,e.async=function(t,r,n,i,o){void 0===o&&(o=Promise);var a=new S(u(t,r,n,i),o);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),c(E,s,"Generator"),E[o]=function(){return this},E.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=I,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function i(n,i){return s.type="throw",s.arg=e,r.next=n,i&&(r.method="next",r.arg=t),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),T(r),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;T(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:I(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}));function ky(e){return(ky="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sy(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function _y(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){Sy(o,n,i,a,s,"next",e)}function s(e){Sy(o,n,i,a,s,"throw",e)}a(void 0)}))}}function Ay(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ty(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xy(e,t,r){return t&&Ty(e.prototype,t),r&&Ty(e,r),e}function Iy(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function By(){return(By=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ry(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Py(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ry(Object(r),!0).forEach((function(t){Iy(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ry(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ny(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Dy(e,t)}function Oy(e){return(Oy=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Dy(e,t){return(Dy=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ly(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function My(e,t,r){return(My=Ly()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&Dy(i,r.prototype),i}).apply(null,arguments)}function Uy(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function jy(e,t){if(null==e)return{};var r,n,i=Uy(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function Fy(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vy(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?Fy(e):t}function zy(e){var t=Ly();return function(){var r,n=Oy(e);if(t){var i=Oy(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return Vy(this,r)}}function Ky(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function qy(e,t){return Wy(e)||Yy(e,t)||Xy(e,t)||Jy()}function Hy(e){return Qy(e)||Gy(e)||Xy(e)||Zy()}function Qy(e){if(Array.isArray(e))return $y(e)}function Wy(e){if(Array.isArray(e))return e}function Gy(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function Yy(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}function Xy(e,t){if(e){if("string"==typeof e)return $y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$y(e,t):void 0}}function $y(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Zy(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Jy(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function eb(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=Xy(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}
/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/var tb=Object.getOwnPropertySymbols,rb=Object.prototype.hasOwnProperty,nb=Object.prototype.propertyIsEnumerable;function ib(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function ob(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}var ab=ob()?Object.assign:function(e,t){for(var r,n,i=ib(e),o=1;o<arguments.length;o++){for(var a in r=Object(arguments[o]))rb.call(r,a)&&(i[a]=r[a]);if(tb){n=tb(r);for(var s=0;s<n.length;s++)nb.call(r,n[s])&&(i[n[s]]=r[n[s]])}}return i},sb="function"==typeof Symbol&&Symbol.for,cb=sb?Symbol.for("react.element"):60103,ub=sb?Symbol.for("react.portal"):60106,lb=sb?Symbol.for("react.fragment"):60107,fb=sb?Symbol.for("react.strict_mode"):60108,db=sb?Symbol.for("react.profiler"):60114,pb=sb?Symbol.for("react.provider"):60109,hb=sb?Symbol.for("react.context"):60110,gb=sb?Symbol.for("react.forward_ref"):60112,mb=sb?Symbol.for("react.suspense"):60113,vb=sb?Symbol.for("react.memo"):60115,yb=sb?Symbol.for("react.lazy"):60116,bb="function"==typeof Symbol&&Symbol.iterator;function wb(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Cb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Eb={};function kb(e,t,r){this.props=e,this.context=t,this.refs=Eb,this.updater=r||Cb}function Sb(){}function _b(e,t,r){this.props=e,this.context=t,this.refs=Eb,this.updater=r||Cb}kb.prototype.isReactComponent={},kb.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(wb(85));this.updater.enqueueSetState(this,e,t,"setState")},kb.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},Sb.prototype=kb.prototype;var Ab=_b.prototype=new Sb;Ab.constructor=_b,ab(Ab,kb.prototype),Ab.isPureReactComponent=!0;var Tb={current:null},xb=Object.prototype.hasOwnProperty,Ib={key:!0,ref:!0,__self:!0,__source:!0};function Bb(e,t,r){var n,i={},o=null,a=null;if(null!=t)for(n in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)xb.call(t,n)&&!Ib.hasOwnProperty(n)&&(i[n]=t[n]);var s=arguments.length-2;if(1===s)i.children=r;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(n in s=e.defaultProps)void 0===i[n]&&(i[n]=s[n]);return{$$typeof:cb,type:e,key:o,ref:a,props:i,_owner:Tb.current}}function Rb(e,t){return{$$typeof:cb,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Pb(e){return"object"==typeof e&&null!==e&&e.$$typeof===cb}function Nb(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}var Ob=/\/+/g,Db=[];function Lb(e,t,r,n){if(Db.length){var i=Db.pop();return i.result=e,i.keyPrefix=t,i.func=r,i.context=n,i.count=0,i}return{result:e,keyPrefix:t,func:r,context:n,count:0}}function Mb(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>Db.length&&Db.push(e)}function Ub(e,t,r,n){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var o=!1;if(null===e)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case cb:case ub:o=!0}}if(o)return r(n,e,""===t?"."+Fb(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var a=0;a<e.length;a++){var s=t+Fb(i=e[a],a);o+=Ub(i,s,r,n)}else if(null===e||"object"!=typeof e?s=null:s="function"==typeof(s=bb&&e[bb]||e["@@iterator"])?s:null,"function"==typeof s)for(e=s.call(e),a=0;!(i=e.next()).done;)o+=Ub(i=i.value,s=t+Fb(i,a++),r,n);else if("object"===i)throw r=""+e,Error(wb(31,"[object Object]"===r?"object with keys {"+Object.keys(e).join(", ")+"}":r,""));return o}function jb(e,t,r){return null==e?0:Ub(e,"",t,r)}function Fb(e,t){return"object"==typeof e&&null!==e&&null!=e.key?Nb(e.key):t.toString(36)}function Vb(e,t){e.func.call(e.context,t,e.count++)}function zb(e,t,r){var n=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?Kb(e,n,r,(function(e){return e})):null!=e&&(Pb(e)&&(e=Rb(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(Ob,"$&/")+"/")+r)),n.push(e))}function Kb(e,t,r,n,i){var o="";null!=r&&(o=(""+r).replace(Ob,"$&/")+"/"),jb(e,zb,t=Lb(t,o,n,i)),Mb(t)}var qb={current:null};function Hb(){var e=qb.current;if(null===e)throw Error(wb(321));return e}var Qb={ReactCurrentDispatcher:qb,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:Tb,IsSomeRendererActing:{current:!1},assign:ab},Wb={map:function(e,t,r){if(null==e)return e;var n=[];return Kb(e,n,null,t,r),n},forEach:function(e,t,r){if(null==e)return e;jb(e,Vb,t=Lb(null,null,t,r)),Mb(t)},count:function(e){return jb(e,(function(){return null}),null)},toArray:function(e){var t=[];return Kb(e,t,null,(function(e){return e})),t},only:function(e){if(!Pb(e))throw Error(wb(143));return e}},Gb=kb,Yb=lb,Xb=db,$b=_b,Zb=fb,Jb=mb,ew=Qb,tw=function(e,t,r){if(null==e)throw Error(wb(267,e));var n=ab({},e.props),i=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=Tb.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)xb.call(t,c)&&!Ib.hasOwnProperty(c)&&(n[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)n.children=r;else if(1<c){s=Array(c);for(var u=0;u<c;u++)s[u]=arguments[u+2];n.children=s}return{$$typeof:cb,type:e.type,key:i,ref:o,props:n,_owner:a}},rw=function(e,t){return void 0===t&&(t=null),(e={$$typeof:hb,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:pb,_context:e},e.Consumer=e},nw=Bb,iw=function(e){var t=Bb.bind(null,e);return t.type=e,t},ow=function(){return{current:null}},aw=function(e){return{$$typeof:gb,render:e}},sw=Pb,cw=function(e){return{$$typeof:yb,_ctor:e,_status:-1,_result:null}},uw=function(e,t){return{$$typeof:vb,type:e,compare:void 0===t?null:t}},lw=function(e,t){return Hb().useCallback(e,t)},fw=function(e,t){return Hb().useContext(e,t)},dw=function(){},pw=function(e,t){return Hb().useEffect(e,t)},hw=function(e,t,r){return Hb().useImperativeHandle(e,t,r)},gw=function(e,t){return Hb().useLayoutEffect(e,t)},mw=function(e,t){return Hb().useMemo(e,t)},vw=function(e,t,r){return Hb().useReducer(e,t,r)},yw=function(e){return Hb().useRef(e)},bw=function(e){return Hb().useState(e)},ww="16.14.0",Cw={Children:Wb,Component:Gb,Fragment:Yb,Profiler:Xb,PureComponent:$b,StrictMode:Zb,Suspense:Jb,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ew,cloneElement:tw,createContext:rw,createElement:nw,createFactory:iw,createRef:ow,forwardRef:aw,isValidElement:sw,lazy:cw,memo:uw,useCallback:lw,useContext:fw,useDebugValue:dw,useEffect:pw,useImperativeHandle:hw,useLayoutEffect:gw,useMemo:mw,useReducer:vw,useRef:yw,useState:bw,version:ww},Ew="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kw=Ew,Sw=(r((function(e,t){})),r((function(e){e.exports=Cw}))),_w="function"==typeof Symbol&&Symbol.for,Aw=_w?Symbol.for("react.element"):60103,Tw=_w?Symbol.for("react.portal"):60106,xw=_w?Symbol.for("react.fragment"):60107,Iw=_w?Symbol.for("react.strict_mode"):60108,Bw=_w?Symbol.for("react.profiler"):60114,Rw=_w?Symbol.for("react.provider"):60109,Pw=_w?Symbol.for("react.context"):60110,Nw=_w?Symbol.for("react.async_mode"):60111,Ow=_w?Symbol.for("react.concurrent_mode"):60111,Dw=_w?Symbol.for("react.forward_ref"):60112,Lw=_w?Symbol.for("react.suspense"):60113,Mw=_w?Symbol.for("react.suspense_list"):60120,Uw=_w?Symbol.for("react.memo"):60115,jw=_w?Symbol.for("react.lazy"):60116,Fw=_w?Symbol.for("react.block"):60121,Vw=_w?Symbol.for("react.fundamental"):60117,zw=_w?Symbol.for("react.responder"):60118,Kw=_w?Symbol.for("react.scope"):60119;function qw(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case Aw:switch(e=e.type){case Nw:case Ow:case xw:case Bw:case Iw:case Lw:return e;default:switch(e=e&&e.$$typeof){case Pw:case Dw:case jw:case Uw:case Rw:return e;default:return t}}case Tw:return t}}}function Hw(e){return qw(e)===Ow}var Qw=Nw,Ww=Ow,Gw=Pw,Yw=Rw,Xw=Aw,$w=Dw,Zw=xw,Jw=jw,eC=Uw,tC=Tw,rC=Bw,nC=Iw,iC=Lw,oC=function(e){return Hw(e)||qw(e)===Nw},aC=Hw,sC=function(e){return qw(e)===Pw},cC=function(e){return qw(e)===Rw},uC=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===Aw},lC=function(e){return qw(e)===Dw},fC=function(e){return qw(e)===xw},dC=function(e){return qw(e)===jw},pC=function(e){return qw(e)===Uw},hC=function(e){return qw(e)===Tw},gC=function(e){return qw(e)===Bw},mC=function(e){return qw(e)===Iw},vC=function(e){return qw(e)===Lw},yC=function(e){return"string"==typeof e||"function"==typeof e||e===xw||e===Ow||e===Bw||e===Iw||e===Lw||e===Mw||"object"==typeof e&&null!==e&&(e.$$typeof===jw||e.$$typeof===Uw||e.$$typeof===Rw||e.$$typeof===Pw||e.$$typeof===Dw||e.$$typeof===Vw||e.$$typeof===zw||e.$$typeof===Kw||e.$$typeof===Fw)},bC=qw,wC={AsyncMode:Qw,ConcurrentMode:Ww,ContextConsumer:Gw,ContextProvider:Yw,Element:Xw,ForwardRef:$w,Fragment:Zw,Lazy:Jw,Memo:eC,Portal:tC,Profiler:rC,StrictMode:nC,Suspense:iC,isAsyncMode:oC,isConcurrentMode:aC,isContextConsumer:sC,isContextProvider:cC,isElement:uC,isForwardRef:lC,isFragment:fC,isLazy:dC,isMemo:pC,isPortal:hC,isProfiler:gC,isStrictMode:mC,isSuspense:vC,isValidElementType:yC,typeOf:bC};r((function(e,t){})),r((function(e){e.exports=wC})),Function.call.bind(Object.prototype.hasOwnProperty);function CC(){}function EC(){}EC.resetWarningCache=CC;var kC=function(){function e(e,t,r,n,i,o){if(o!==kw){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:EC,resetWarningCache:CC};return r.PropTypes=r,r},SC=r((function(e){e.exports=kC()})),_C=60103,AC=60106,TC=60107,xC=60108,IC=60114,BC=60109,RC=60110,PC=60112,NC=60113,OC=60120,DC=60115,LC=60116,MC=60121,UC=60122,jC=60117,FC=60129,VC=60131;if("function"==typeof Symbol&&Symbol.for){var zC=Symbol.for;_C=zC("react.element"),AC=zC("react.portal"),TC=zC("react.fragment"),xC=zC("react.strict_mode"),IC=zC("react.profiler"),BC=zC("react.provider"),RC=zC("react.context"),PC=zC("react.forward_ref"),NC=zC("react.suspense"),OC=zC("react.suspense_list"),DC=zC("react.memo"),LC=zC("react.lazy"),MC=zC("react.block"),UC=zC("react.server.block"),jC=zC("react.fundamental"),FC=zC("react.debug_trace_mode"),VC=zC("react.legacy_hidden")}function KC(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case _C:switch(e=e.type){case TC:case IC:case xC:case NC:case OC:return e;default:switch(e=e&&e.$$typeof){case RC:case PC:case LC:case DC:case BC:return e;default:return t}}case AC:return t}}}var qC=BC,HC=_C,QC=PC,WC=TC,GC=LC,YC=DC,XC=AC,$C=IC,ZC=xC,JC=NC,eE=RC,tE=qC,rE=HC,nE=QC,iE=WC,oE=GC,aE=YC,sE=XC,cE=$C,uE=ZC,lE=JC,fE=function(){return!1},dE=function(){return!1},pE=function(e){return KC(e)===RC},hE=function(e){return KC(e)===BC},gE=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===_C},mE=function(e){return KC(e)===PC},vE=function(e){return KC(e)===TC},yE=function(e){return KC(e)===LC},bE=function(e){return KC(e)===DC},wE=function(e){return KC(e)===AC},CE=function(e){return KC(e)===IC},EE=function(e){return KC(e)===xC},kE=function(e){return KC(e)===NC},SE=function(e){return"string"==typeof e||"function"==typeof e||e===TC||e===IC||e===FC||e===xC||e===NC||e===OC||e===VC||"object"==typeof e&&null!==e&&(e.$$typeof===LC||e.$$typeof===DC||e.$$typeof===BC||e.$$typeof===RC||e.$$typeof===PC||e.$$typeof===jC||e.$$typeof===MC||e[0]===UC)},_E=KC,AE={ContextConsumer:eE,ContextProvider:tE,Element:rE,ForwardRef:nE,Fragment:iE,Lazy:oE,Memo:aE,Portal:sE,Profiler:cE,StrictMode:uE,Suspense:lE,isAsyncMode:fE,isConcurrentMode:dE,isContextConsumer:pE,isContextProvider:hE,isElement:gE,isForwardRef:mE,isFragment:vE,isLazy:yE,isMemo:bE,isPortal:wE,isProfiler:CE,isStrictMode:EE,isSuspense:kE,isValidElementType:SE,typeOf:_E},TE=(r((function(e,t){})),r((function(e){e.exports=AE})));function xE(e){function t(e,n,c,u,d){for(var p,h,g,m,w,E=0,k=0,S=0,_=0,A=0,P=0,O=g=p=0,L=0,M=0,U=0,j=0,F=c.length,V=F-1,z="",K="",q="",H="";L<F;){if(h=c.charCodeAt(L),L===V&&0!==k+_+S+E&&(0!==k&&(h=47===k?10:47),_=S=E=0,F++,V++),0===k+_+S+E){if(L===V&&(0<M&&(z=z.replace(f,"")),0<z.trim().length)){switch(h){case 32:case 9:case 59:case 13:case 10:break;default:z+=c.charAt(L)}h=59}switch(h){case 123:for(p=(z=z.trim()).charCodeAt(0),g=1,j=++L;L<F;){switch(h=c.charCodeAt(L)){case 123:g++;break;case 125:g--;break;case 47:switch(h=c.charCodeAt(L+1)){case 42:case 47:e:{for(O=L+1;O<V;++O)switch(c.charCodeAt(O)){case 47:if(42===h&&42===c.charCodeAt(O-1)&&L+2!==O){L=O+1;break e}break;case 10:if(47===h){L=O+1;break e}}L=O}}break;case 91:h++;case 40:h++;case 34:case 39:for(;L++<V&&c.charCodeAt(L)!==h;);}if(0===g)break;L++}switch(g=c.substring(j,L),0===p&&(p=(z=z.replace(l,"").trim()).charCodeAt(0)),p){case 64:switch(0<M&&(z=z.replace(f,"")),h=z.charCodeAt(1)){case 100:case 109:case 115:case 45:M=n;break;default:M=R}if(j=(g=t(n,M,g,h,d+1)).length,0<N&&(w=s(3,g,M=r(R,z,U),n,x,T,j,h,d,u),z=M.join(""),void 0!==w&&0===(j=(g=w.trim()).length)&&(h=0,g="")),0<j)switch(h){case 115:z=z.replace(C,a);case 100:case 109:case 45:g=z+"{"+g+"}";break;case 107:g=(z=z.replace(v,"$1 $2"))+"{"+g+"}",g=1===B||2===B&&o("@"+g,3)?"@-webkit-"+g+"@"+g:"@"+g;break;default:g=z+g,112===u&&(K+=g,g="")}else g="";break;default:g=t(n,r(n,z,U),g,u,d+1)}q+=g,g=U=M=O=p=0,z="",h=c.charCodeAt(++L);break;case 125:case 59:if(1<(j=(z=(0<M?z.replace(f,""):z).trim()).length))switch(0===O&&(p=z.charCodeAt(0),45===p||96<p&&123>p)&&(j=(z=z.replace(" ",":")).length),0<N&&void 0!==(w=s(1,z,n,e,x,T,K.length,u,d,u))&&0===(j=(z=w.trim()).length)&&(z="\0\0"),p=z.charCodeAt(0),h=z.charCodeAt(1),p){case 0:break;case 64:if(105===h||99===h){H+=z+c.charAt(L);break}default:58!==z.charCodeAt(j-1)&&(K+=i(z,p,h,z.charCodeAt(2)))}U=M=O=p=0,z="",h=c.charCodeAt(++L)}}switch(h){case 13:case 10:47===k?k=0:0===1+p&&107!==u&&0<z.length&&(M=1,z+="\0"),0<N*D&&s(0,z,n,e,x,T,K.length,u,d,u),T=1,x++;break;case 59:case 125:if(0===k+_+S+E){T++;break}default:switch(T++,m=c.charAt(L),h){case 9:case 32:if(0===_+E+k)switch(A){case 44:case 58:case 9:case 32:m="";break;default:32!==h&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===_+k+E&&(M=U=1,m="\f"+m);break;case 108:if(0===_+k+E+I&&0<O)switch(L-O){case 2:112===A&&58===c.charCodeAt(L-3)&&(I=A);case 8:111===P&&(I=P)}break;case 58:0===_+k+E&&(O=L);break;case 44:0===k+S+_+E&&(M=1,m+="\r");break;case 34:case 39:0===k&&(_=_===h?0:0===_?h:_);break;case 91:0===_+k+S&&E++;break;case 93:0===_+k+S&&E--;break;case 41:0===_+k+E&&S--;break;case 40:if(0===_+k+E){if(0===p)switch(2*A+3*P){case 533:break;default:p=1}S++}break;case 64:0===k+S+_+E+O+g&&(g=1);break;case 42:case 47:if(!(0<_+E+S))switch(k){case 0:switch(2*h+3*c.charCodeAt(L+1)){case 235:k=47;break;case 220:j=L,k=42}break;case 42:47===h&&42===A&&j+2!==L&&(33===c.charCodeAt(j+2)&&(K+=c.substring(j,L+1)),m="",k=0)}}0===k&&(z+=m)}P=A,A=h,L++}if(0<(j=K.length)){if(M=n,0<N&&(void 0!==(w=s(2,K,M,e,x,T,j,u,d,u))&&0===(K=w).length))return H+K+q;if(K=M.join(",")+"{"+K+"}",0!=B*I){switch(2!==B||o(K,2)||(I=0),I){case 111:K=K.replace(b,":-moz-$1")+K;break;case 112:K=K.replace(y,"::-webkit-input-$1")+K.replace(y,"::-moz-$1")+K.replace(y,":-ms-input-$1")+K}I=0}}return H+K+q}function r(e,t,r){var i=t.trim().split(g);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=n(e,t[s],r).trim();break;default:var c=s=0;for(t=[];s<o;++s)for(var u=0;u<a;++u)t[c++]=n(e[u]+" ",i[s],r).trim()}return t}function n(e,t,r){var n=t.charCodeAt(0);switch(33>n&&(n=(t=t.trim()).charCodeAt(0)),n){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*r&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,r,n){var a=e+";",s=2*t+3*r+4*n;if(944===s){e=a.indexOf(":",9)+1;var c=a.substring(e,a.length-1).trim();return c=a.substring(0,e).trim()+c+";",1===B||2===B&&o(c,1)?"-webkit-"+c+c:c}if(0===B||2===B&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(A,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(c=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+c+a;case 1005:return p.test(a)?a.replace(d,":-webkit-")+a.replace(d,":-moz-")+a:a;case 1e3:switch(t=(c=a.substring(13).trim()).indexOf("-")+1,c.charCodeAt(0)+c.charCodeAt(t)){case 226:c=a.replace(w,"tb");break;case 232:c=a.replace(w,"tb-rl");break;case 220:c=a.replace(w,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+c+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(c=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|c.charCodeAt(7))){case 203:if(111>c.charCodeAt(8))break;case 115:a=a.replace(c,"-webkit-"+c)+";"+a;break;case 207:case 102:a=a.replace(c,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(c,"-webkit-"+c)+";"+a.replace(c,"-ms-"+c+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return c=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+c+"-ms-flex-"+c+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(k,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(k,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===_.test(e))return 115===(c=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,r,n).replace(":fill-available",":stretch"):a.replace(c,"-webkit-"+c)+a.replace(c,"-moz-"+c.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===r+n&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(h,"$1-webkit-$2")+a}return a}function o(e,t){var r=e.indexOf(1===t?":":"{"),n=e.substring(0,3!==t?r:10);return r=e.substring(r+1,e.length-1),O(2!==t?n:n.replace(S,"$1"),r,t)}function a(e,t){var r=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return r!==t+";"?r.replace(E," or ($1)").substring(4):"("+t+")"}function s(e,t,r,n,i,o,a,s,c,l){for(var f,d=0,p=t;d<N;++d)switch(f=P[d].call(u,e,p,r,n,i,o,a,s,c,l)){case void 0:case!1:case!0:case null:break;default:p=f}if(p!==t)return p}function c(e){return void 0!==(e=e.prefix)&&(O=null,e?"function"!=typeof e?B=1:(B=2,O=e):B=0),c}function u(e,r){var n=e;if(33>n.charCodeAt(0)&&(n=n.trim()),n=[n],0<N){var i=s(-1,r,n,n,x,T,0,0,0,0);void 0!==i&&"string"==typeof i&&(r=i)}var o=t(R,n,r,0,0);return 0<N&&(void 0!==(i=s(-2,o,n,n,x,T,o.length,0,0,0))&&(o=i)),"",I=0,T=x=1,o}var l=/^\0+/g,f=/[\0\r\f]/g,d=/: */g,p=/zoo|gra/,h=/([,: ])(transform)/g,g=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,v=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,b=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,C=/\(\s*(.*)\s*\)/g,E=/([\s\S]*?);/g,k=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,_=/stretch|:\s*\w+\-(?:conte|avail)/,A=/([^-])(image-set\()/,T=1,x=1,I=0,B=1,R=[],P=[],N=0,O=null,D=0;return u.use=function e(t){switch(t){case void 0:case null:N=P.length=0;break;default:if("function"==typeof t)P[N++]=t;else if("object"==typeof t)for(var r=0,n=t.length;r<n;++r)e(t[r]);else D=0|!!t}return e},u.set=c,void 0!==e&&c(e),u}var IE={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function BE(e){var t={};return function(r){return void 0===t[r]&&(t[r]=e(r)),t[r]}}var RE=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|inert|itemProp|itemScope|itemType|itemID|itemRef|on|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,PE=BE((function(e){return RE.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),NE="function"==typeof Symbol&&Symbol.for,OE=NE?Symbol.for("react.element"):60103,DE=NE?Symbol.for("react.portal"):60106,LE=NE?Symbol.for("react.fragment"):60107,ME=NE?Symbol.for("react.strict_mode"):60108,UE=NE?Symbol.for("react.profiler"):60114,jE=NE?Symbol.for("react.provider"):60109,FE=NE?Symbol.for("react.context"):60110,VE=NE?Symbol.for("react.async_mode"):60111,zE=NE?Symbol.for("react.concurrent_mode"):60111,KE=NE?Symbol.for("react.forward_ref"):60112,qE=NE?Symbol.for("react.suspense"):60113,HE=NE?Symbol.for("react.suspense_list"):60120,QE=NE?Symbol.for("react.memo"):60115,WE=NE?Symbol.for("react.lazy"):60116,GE=NE?Symbol.for("react.block"):60121,YE=NE?Symbol.for("react.fundamental"):60117,XE=NE?Symbol.for("react.responder"):60118,$E=NE?Symbol.for("react.scope"):60119;function ZE(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case OE:switch(e=e.type){case VE:case zE:case LE:case UE:case ME:case qE:return e;default:switch(e=e&&e.$$typeof){case FE:case KE:case WE:case QE:case jE:return e;default:return t}}case DE:return t}}}function JE(e){return ZE(e)===zE}var ek=VE,tk=zE,rk=FE,nk=jE,ik=OE,ok=KE,ak=LE,sk=WE,ck=QE,uk=DE,lk=UE,fk=ME,dk=qE,pk=function(e){return JE(e)||ZE(e)===VE},hk=JE,gk=function(e){return ZE(e)===FE},mk=function(e){return ZE(e)===jE},vk=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===OE},yk=function(e){return ZE(e)===KE},bk=function(e){return ZE(e)===LE},wk=function(e){return ZE(e)===WE},Ck=function(e){return ZE(e)===QE},Ek=function(e){return ZE(e)===DE},kk=function(e){return ZE(e)===UE},Sk=function(e){return ZE(e)===ME},_k=function(e){return ZE(e)===qE},Ak=function(e){return"string"==typeof e||"function"==typeof e||e===LE||e===zE||e===UE||e===ME||e===qE||e===HE||"object"==typeof e&&null!==e&&(e.$$typeof===WE||e.$$typeof===QE||e.$$typeof===jE||e.$$typeof===FE||e.$$typeof===KE||e.$$typeof===YE||e.$$typeof===XE||e.$$typeof===$E||e.$$typeof===GE)},Tk=ZE,xk={AsyncMode:ek,ConcurrentMode:tk,ContextConsumer:rk,ContextProvider:nk,Element:ik,ForwardRef:ok,Fragment:ak,Lazy:sk,Memo:ck,Portal:uk,Profiler:lk,StrictMode:fk,Suspense:dk,isAsyncMode:pk,isConcurrentMode:hk,isContextConsumer:gk,isContextProvider:mk,isElement:vk,isForwardRef:yk,isFragment:bk,isLazy:wk,isMemo:Ck,isPortal:Ek,isProfiler:kk,isStrictMode:Sk,isSuspense:_k,isValidElementType:Ak,typeOf:Tk},Ik=(r((function(e,t){})),r((function(e){e.exports=xk}))),Bk={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Rk={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Pk={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Nk={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ok={};function Dk(e){return Ik.isMemo(e)?Nk:Ok[e.$$typeof]||Bk}Ok[Ik.ForwardRef]=Pk,Ok[Ik.Memo]=Nk;var Lk=Object.defineProperty,Mk=Object.getOwnPropertyNames,Uk=Object.getOwnPropertySymbols,jk=Object.getOwnPropertyDescriptor,Fk=Object.getPrototypeOf,Vk=Object.prototype;function zk(e,t,r){if("string"!=typeof t){if(Vk){var n=Fk(t);n&&n!==Vk&&zk(e,n,r)}var i=Mk(t);Uk&&(i=i.concat(Uk(t)));for(var o=Dk(e),a=Dk(t),s=0;s<i.length;++s){var c=i[s];if(!(Rk[c]||r&&r[c]||a&&a[c]||o&&o[c])){var u=jk(t,c);try{Lk(e,c,u)}catch(e){}}}}return e}var Kk=zk;function qk(){return(qk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Hk=function(e,t){for(var r=[e[0]],n=0,i=t.length;n<i;n+=1)r.push(t[n],e[n+1]);return r},Qk=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!TE.typeOf(e)},Wk=Object.freeze([]),Gk=Object.freeze({});function Yk(e){return"function"==typeof e}function Xk(e){return e.displayName||e.name||"Component"}function $k(e){return e&&"string"==typeof e.styledComponentId}var Zk="undefined"!=typeof process&&(process.env.REACT_APP_SC_ATTR||process.env.SC_ATTR)||"data-styled",Jk="undefined"!=typeof window&&"HTMLElement"in window,eS=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==process.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==process.env.REACT_APP_SC_DISABLE_SPEEDY&&process.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!==process.env.SC_DISABLE_SPEEDY&&""!==process.env.SC_DISABLE_SPEEDY&&("false"!==process.env.SC_DISABLE_SPEEDY&&process.env.SC_DISABLE_SPEEDY)),tS={};function rS(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(r.length>0?" Args: "+r.join(", "):""))}var nS=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,i=n;e>=i;)(i<<=1)<0&&rS(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var o=n;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,c=t.length;s<c;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var i=r;i<n;i++)this.tag.deleteRule(r)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r,o=n;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),iS=new Map,oS=new Map,aS=1,sS=function(e){if(iS.has(e))return iS.get(e);for(;oS.has(aS);)aS++;var t=aS++;return iS.set(e,t),oS.set(t,e),t},cS=function(e){return oS.get(e)},uS=function(e,t){iS.set(e,t),oS.set(t,e)},lS="style["+Zk+'][data-styled-version="5.2.1"]',fS=new RegExp("^"+Zk+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),dS=function(e,t,r){for(var n,i=r.split(","),o=0,a=i.length;o<a;o++)(n=i[o])&&e.registerName(t,n)},pS=function(e,t){for(var r=t.innerHTML.split("/*!sc*/\n"),n=[],i=0,o=r.length;i<o;i++){var a=r[i].trim();if(a){var s=a.match(fS);if(s){var c=0|parseInt(s[1],10),u=s[2];0!==c&&(uS(u,c),dS(e,u,s[3]),e.getTag().insertRules(c,n)),n.length=0}else n.push(a)}}},hS=function(){return"undefined"!=typeof __webpack_nonce__?__webpack_nonce__:null},gS=function(e){var t=document.head,r=e||t,n=document.createElement("style"),i=function(e){for(var t=e.childNodes,r=t.length;r>=0;r--){var n=t[r];if(n&&1===n.nodeType&&n.hasAttribute(Zk))return n}}(r),o=void 0!==i?i.nextSibling:null;n.setAttribute(Zk,"active"),n.setAttribute("data-styled-version","5.2.1");var a=hS();return a&&n.setAttribute("nonce",a),r.insertBefore(n,o),n},mS=function(){function e(e){var t=this.element=gS(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,r=0,n=t.length;r<n;r++){var i=t[r];if(i.ownerNode===e)return i}rS(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),vS=function(){function e(e){var t=this.element=gS(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t),n=this.nodes[e];return this.element.insertBefore(r,n||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),yS=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),bS=Jk,wS={isServer:!Jk,useCSSOMInjection:!eS},CS=function(){function e(e,t,r){void 0===e&&(e=Gk),void 0===t&&(t={}),this.options=qk({},wS,{},e),this.gs=t,this.names=new Map(r),!this.options.isServer&&Jk&&bS&&(bS=!1,function(e){for(var t=document.querySelectorAll(lS),r=0,n=t.length;r<n;r++){var i=t[r];i&&"active"!==i.getAttribute(Zk)&&(pS(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return sS(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,r){return void 0===r&&(r=!0),new e(qk({},this.options,{},t),this.gs,r&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(r=(t=this.options).isServer,n=t.useCSSOMInjection,i=t.target,e=r?new yS(i):n?new mS(i):new vS(i),new nS(e)));var e,t,r,n,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(sS(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},t.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(sS(e),r)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(sS(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),r=t.length,n="",i=0;i<r;i++){var o=cS(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(void 0!==a&&0!==s.length){var c=Zk+".g"+i+'[id="'+o+'"]',u="";void 0!==a&&a.forEach((function(e){e.length>0&&(u+=e+",")})),n+=""+s+c+'{content:"'+u+'"}/*!sc*/\n'}}}return n}(this)},e}(),ES=/(a)(d)/gi,kS=function(e){return String.fromCharCode(e+(e>25?39:97))};function SS(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=kS(t%52)+r;return(kS(t%52)+r).replace(ES,"$1-$2")}var _S=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},AS=function(e){return _S(5381,e)};function TS(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(Yk(r)&&!$k(r))return!1}return!0}var xS=AS("5.2.1"),IS=function(){function e(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&TS(e),this.componentId=t,this.baseHash=_S(xS,t),this.baseStyle=r,CS.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,r)),this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(n,this.staticRulesId))i.push(this.staticRulesId);else{var o=QS(this.rules,e,t,r).join(""),a=SS(_S(this.baseHash,o.length)>>>0);if(!t.hasNameForId(n,a)){var s=r(o,"."+a,void 0,n);t.insertRules(n,a,s)}i.push(a),this.staticRulesId=a}else{for(var c=this.rules.length,u=_S(this.baseHash,r.hash),l="",f=0;f<c;f++){var d=this.rules[f];if("string"==typeof d)l+=d;else if(d){var p=QS(d,e,t,r),h=Array.isArray(p)?p.join(""):p;u=_S(u,h+f),l+=h}}if(l){var g=SS(u>>>0);if(!t.hasNameForId(n,g)){var m=r(l,"."+g,void 0,n);t.insertRules(n,g,m)}i.push(g)}}return i.join(" ")},e}(),BS=/^\s*\/\/.*$/gm,RS=[":","[",".","#"];function PS(e){var t,r,n,i,o=void 0===e?Gk:e,a=o.options,s=void 0===a?Gk:a,c=o.plugins,u=void 0===c?Wk:c,l=new xE(s),f=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(r,n,i,o,a,s,c,u,l,f){switch(r){case 1:if(0===l&&64===n.charCodeAt(0))return e(n+";"),"";break;case 2:if(0===u)return n+"/*|*/";break;case 3:switch(u){case 102:case 112:return e(i[0]+n),"";default:return n+(0===f?"/*|*/":"")}case-2:n.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),p=function(e,n,o){return 0===n&&RS.includes(o[r.length])||o.match(i)?e:"."+t};function h(e,o,a,s){void 0===s&&(s="&");var c=e.replace(BS,""),u=o&&a?a+" "+o+" { "+c+" }":c;return t=s,r=o,n=new RegExp("\\"+r+"\\b","g"),i=new RegExp("(\\"+r+"\\b){2,}"),l(a||!o?"":o,u)}return l.use([].concat(u,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(r)>0&&(i[0]=i[0].replace(n,p))},d,function(e){if(-2===e){var t=f;return f=[],t}}])),h.hash=u.length?u.reduce((function(e,t){return t.name||rS(15),_S(e,t.name)}),5381).toString():"",h}var NS=Sw.createContext(),OS=(NS.Consumer,Sw.createContext()),DS=(OS.Consumer,new CS),LS=PS();function MS(){return Sw.useContext(NS)||DS}function US(){return Sw.useContext(OS)||LS}var jS=function(){function e(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=LS);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.toString=function(){return rS(12,String(r.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=LS),this.name+e.hash},e}(),FS=/([A-Z])/,VS=/([A-Z])/g,zS=/^ms-/,KS=function(e){return"-"+e.toLowerCase()};function qS(e){return FS.test(e)?e.replace(VS,KS).replace(zS,"-ms-"):e}var HS=function(e){return null==e||!1===e||""===e};function QS(e,t,r,n){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=QS(e[a],t,r,n))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return HS(e)?"":$k(e)?"."+e.styledComponentId:Yk(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:QS(e(t),t,r,n):e instanceof jS?r?(e.inject(r,n),e.getName(n)):e:Qk(e)?function e(t,r){var n,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!HS(t[a])&&(Qk(t[a])?o.push.apply(o,e(t[a],a)):Yk(t[a])?o.push(qS(a)+":",t[a],";"):o.push(qS(a)+": "+(n=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||n in IE?String(i).trim():i+"px")+";")));return r?[r+" {"].concat(o,["}"]):o}(e):e.toString();var c}function WS(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Yk(e)||Qk(e)?QS(Hk(Wk,[e].concat(r))):0===r.length&&1===e.length&&"string"==typeof e[0]?e:QS(Hk(e,r))}var GS=function(e,t,r){return void 0===r&&(r=Gk),e.theme!==r.theme&&e.theme||t||r.theme},YS=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,XS=/(^-|-$)/g;function $S(e){return e.replace(YS,"-").replace(XS,"")}var ZS=function(e){return SS(AS(e)>>>0)};function JS(e){return"string"==typeof e&&!0}var e_=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},t_=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function r_(e,t,r){var n=e[r];e_(t)&&e_(n)?n_(n,t):e[r]=t}function n_(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];for(var i=0,o=r;i<o.length;i++){var a=o[i];if(e_(a))for(var s in a)t_(s)&&r_(e,a[s],s)}return e}var i_=Sw.createContext();i_.Consumer;function o_(e){var t=Sw.useContext(i_),r=Sw.useMemo((function(){return function(e,t){return e?Yk(e)?e(t):Array.isArray(e)||"object"!=typeof e?rS(8):t?qk({},t,{},e):e:rS(14)}(e.theme,t)}),[e.theme,t]);return e.children?Sw.createElement(i_.Provider,{value:r},e.children):null}var a_={};function s_(e,t,r){var n=$k(e),i=!JS(e),o=t.attrs,a=void 0===o?Wk:o,s=t.componentId,c=void 0===s?function(e,t){var r="string"!=typeof e?"sc":$S(e);a_[r]=(a_[r]||0)+1;var n=r+"-"+ZS("5.2.1"+r+a_[r]);return t?t+"-"+n:n}(t.displayName,t.parentComponentId):s,u=t.displayName,l=void 0===u?function(e){return JS(e)?"styled."+e:"Styled("+Xk(e)+")"}(e):u,f=t.displayName&&t.componentId?$S(t.displayName)+"-"+t.componentId:t.componentId||c,d=n&&e.attrs?Array.prototype.concat(e.attrs,a).filter(Boolean):a,p=t.shouldForwardProp;n&&e.shouldForwardProp&&(p=t.shouldForwardProp?function(r,n){return e.shouldForwardProp(r,n)&&t.shouldForwardProp(r,n)}:e.shouldForwardProp);var h,g=new IS(r,f,n?e.componentStyle:void 0),m=g.isStatic&&0===a.length,v=function(e,t){return function(e,t,r,n){var i=e.attrs,o=e.componentStyle,a=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,u=e.styledComponentId,l=e.target,f=function(e,t,r){void 0===e&&(e=Gk);var n=qk({},t,{theme:e}),i={};return r.forEach((function(e){var t,r,o,a=e;for(t in Yk(a)&&(a=a(n)),a)n[t]=i[t]="className"===t?(r=i[t],o=a[t],r&&o?r+" "+o:r||o):a[t]})),[n,i]}(GS(t,Sw.useContext(i_),a)||Gk,t,i),d=f[0],p=f[1],h=function(e,t,r,n){var i=MS(),o=US();return t?e.generateAndInjectStyles(Gk,i,o):e.generateAndInjectStyles(r,i,o)}(o,n,d),g=r,m=p.$as||t.$as||p.as||t.as||l,v=JS(m),y=p!==t?qk({},t,{},p):t,b={};for(var w in y)"$"!==w[0]&&"as"!==w&&("forwardedAs"===w?b.as=y[w]:(c?c(w,PE):!v||PE(w))&&(b[w]=y[w]));return t.style&&p.style!==t.style&&(b.style=qk({},t.style,{},p.style)),b.className=Array.prototype.concat(s,u,h!==u?h:null,t.className,p.className).filter(Boolean).join(" "),b.ref=g,Sw.createElement(m,b)}(h,e,t,m)};return v.displayName=l,(h=Sw.forwardRef(v)).attrs=d,h.componentStyle=g,h.displayName=l,h.shouldForwardProp=p,h.foldedComponentIds=n?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Wk,h.styledComponentId=f,h.target=n?e.target:e,h.withComponent=function(e){var n=t.componentId,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(t,["componentId"]),o=n&&n+"-"+(JS(e)?e:$S(Xk(e)));return s_(e,qk({},i,{attrs:d,componentId:o}),r)},Object.defineProperty(h,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=n?n_({},e.defaultProps,t):t}}),h.toString=function(){return"."+h.styledComponentId},i&&Kk(h,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),h}var c_=function(e){return function e(t,r,n){if(void 0===n&&(n=Gk),!TE.isValidElementType(r))return rS(1,String(r));var i=function(){return t(r,n,WS.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,r,qk({},n,{},i))},i.attrs=function(i){return e(t,r,qk({},n,{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},i}(s_,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){c_[e]=c_(e)}));var u_=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=TS(e),CS.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,r,n){var i=n(QS(this.rules,t,r,n).join(""),""),o=this.componentId+e;r.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,r,n){e>2&&CS.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,n)},e}();function l_(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=WS.apply(void 0,[e].concat(r)),o="sc-global-"+ZS(JSON.stringify(i)),a=new u_(i,o);function s(e){var t=MS(),r=US(),n=Sw.useContext(i_),i=Sw.useRef(t.allocateGSInstance(o)).current;return Sw.useLayoutEffect((function(){return c(i,e,t,n,r),function(){return a.removeStyles(i,t)}}),[i,e,t,n,r]),null}function c(e,t,r,n,i){if(a.isStatic)a.renderStyles(e,tS,r,i);else{var o=qk({},t,{theme:GS(t,n,s.defaultProps)});a.renderStyles(e,o,r,i)}}return Sw.memo(s)}function f_(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var i=WS.apply(void 0,[e].concat(r)).join(""),o=ZS(i);return new jS(o,i)}var d_=r((function(e,t){var r,n,i,o,a;if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,c=null,u=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(e){throw setTimeout(u,0),e}},l=Date.now();t.unstable_now=function(){return Date.now()-l},r=function(e){null!==s?setTimeout(r,0,e):(s=e,setTimeout(u,0))},n=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},o=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var f=window.performance,d=window.Date,p=window.setTimeout,h=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof f&&"function"==typeof f.now)t.unstable_now=function(){return f.now()};else{var m=d.now();t.unstable_now=function(){return d.now()-m}}var v=!1,y=null,b=-1,w=5,C=0;o=function(){return t.unstable_now()>=C},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):w=0<e?Math.floor(1e3/e):5};var E=new MessageChannel,k=E.port2;E.port1.onmessage=function(){if(null!==y){var e=t.unstable_now();C=e+w;try{y(!0,e)?k.postMessage(null):(v=!1,y=null)}catch(e){throw k.postMessage(null),e}}else v=!1},r=function(e){y=e,v||(v=!0,k.postMessage(null))},n=function(e,r){b=p((function(){e(t.unstable_now())}),r)},i=function(){h(b),b=-1}}function S(e,t){var r=e.length;e.push(t);e:for(;;){var n=r-1>>>1,i=e[n];if(!(void 0!==i&&0<T(i,t)))break e;e[n]=t,e[r]=i,r=n}}function _(e){return void 0===(e=e[0])?null:e}function A(e){var t=e[0];if(void 0!==t){var r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length;n<i;){var o=2*(n+1)-1,a=e[o],s=o+1,c=e[s];if(void 0!==a&&0>T(a,r))void 0!==c&&0>T(c,a)?(e[n]=c,e[s]=r,n=s):(e[n]=a,e[o]=r,n=o);else{if(!(void 0!==c&&0>T(c,r)))break e;e[n]=c,e[s]=r,n=s}}}return t}return null}function T(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}var x=[],I=[],B=1,R=null,P=3,N=!1,O=!1,D=!1;function L(e){for(var t=_(I);null!==t;){if(null===t.callback)A(I);else{if(!(t.startTime<=e))break;A(I),t.sortIndex=t.expirationTime,S(x,t)}t=_(I)}}function M(e){if(D=!1,L(e),!O)if(null!==_(x))O=!0,r(U);else{var t=_(I);null!==t&&n(M,t.startTime-e)}}function U(e,r){O=!1,D&&(D=!1,i()),N=!0;var a=P;try{for(L(r),R=_(x);null!==R&&(!(R.expirationTime>r)||e&&!o());){var s=R.callback;if(null!==s){R.callback=null,P=R.priorityLevel;var c=s(R.expirationTime<=r);r=t.unstable_now(),"function"==typeof c?R.callback=c:R===_(x)&&A(x),L(r)}else A(x);R=_(x)}if(null!==R)var u=!0;else{var l=_(I);null!==l&&n(M,l.startTime-r),u=!1}return u}finally{R=null,P=a,N=!1}}function j(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var F=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||N||(O=!0,r(U))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return _(x)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var r=P;P=t;try{return e()}finally{P=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=P;P=e;try{return t()}finally{P=r}},t.unstable_scheduleCallback=function(e,o,a){var s=t.unstable_now();if("object"==typeof a&&null!==a){var c=a.delay;c="number"==typeof c&&0<c?s+c:s,a="number"==typeof a.timeout?a.timeout:j(e)}else a=j(e),c=s;return e={id:B++,callback:o,priorityLevel:e,startTime:c,expirationTime:a=c+a,sortIndex:-1},c>s?(e.sortIndex=c,S(I,e),null===_(x)&&e===_(I)&&(D?i():D=!0,n(M,c-s))):(e.sortIndex=a,S(x,e),O||N||(O=!0,r(U))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();L(e);var r=_(x);return r!==R&&null!==R&&null!==r&&null!==r.callback&&r.startTime<=e&&r.expirationTime<R.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=P;return function(){var r=P;P=t;try{return e.apply(this,arguments)}finally{P=r}}}})),p_=(r((function(e,t){})),r((function(e){e.exports=d_})));function h_(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!Sw)throw Error(h_(227));function g_(e,t,r,n,i,o,a,s,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(e){this.onError(e)}}var m_=!1,v_=null,y_=!1,b_=null,w_={onError:function(e){m_=!0,v_=e}};function C_(e,t,r,n,i,o,a,s,c){m_=!1,v_=null,g_.apply(w_,arguments)}function E_(e,t,r,n,i,o,a,s,c){if(C_.apply(this,arguments),m_){if(!m_)throw Error(h_(198));var u=v_;m_=!1,v_=null,y_||(y_=!0,b_=u)}}var k_=null,S_=null,__=null;function A_(e,t,r){var n=e.type||"unknown-event";e.currentTarget=__(r),E_(n,t,void 0,e),e.currentTarget=null}var T_=null,x_={};function I_(){if(T_)for(var e in x_){var t=x_[e],r=T_.indexOf(e);if(!(-1<r))throw Error(h_(96,e));if(!R_[r]){if(!t.extractEvents)throw Error(h_(97,e));for(var n in R_[r]=t,r=t.eventTypes){var i=void 0,o=r[n],a=t,s=n;if(P_.hasOwnProperty(s))throw Error(h_(99,s));P_[s]=o;var c=o.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&B_(c[i],a,s);i=!0}else o.registrationName?(B_(o.registrationName,a,s),i=!0):i=!1;if(!i)throw Error(h_(98,n,e))}}}}function B_(e,t,r){if(N_[e])throw Error(h_(100,e));N_[e]=t,O_[e]=t.eventTypes[r].dependencies}var R_=[],P_={},N_={},O_={};function D_(e){var t,r=!1;for(t in e)if(e.hasOwnProperty(t)){var n=e[t];if(!x_.hasOwnProperty(t)||x_[t]!==n){if(x_[t])throw Error(h_(102,t));x_[t]=n,r=!0}}r&&I_()}var L_=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),M_=null,U_=null,j_=null;function F_(e){if(e=S_(e)){if("function"!=typeof M_)throw Error(h_(280));var t=e.stateNode;t&&(t=k_(t),M_(e.stateNode,e.type,t))}}function V_(e){U_?j_?j_.push(e):j_=[e]:U_=e}function z_(){if(U_){var e=U_,t=j_;if(j_=U_=null,F_(e),t)for(e=0;e<t.length;e++)F_(t[e])}}function K_(e,t){return e(t)}function q_(e,t,r,n,i){return e(t,r,n,i)}function H_(){}var Q_=K_,W_=!1,G_=!1;function Y_(){null===U_&&null===j_||(H_(),z_())}function X_(e,t,r){if(G_)return e(t,r);G_=!0;try{return Q_(e,t,r)}finally{G_=!1,Y_()}}var $_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Z_=Object.prototype.hasOwnProperty,J_={},eA={};function tA(e){return!!Z_.call(eA,e)||!Z_.call(J_,e)&&($_.test(e)?eA[e]=!0:(J_[e]=!0,!1))}function rA(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function nA(e,t,r,n){if(null==t||rA(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function iA(e,t,r,n,i,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o}var oA={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){oA[e]=new iA(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];oA[t]=new iA(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){oA[e]=new iA(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){oA[e]=new iA(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){oA[e]=new iA(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){oA[e]=new iA(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){oA[e]=new iA(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){oA[e]=new iA(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){oA[e]=new iA(e,5,!1,e.toLowerCase(),null,!1)}));var aA=/[\-:]([a-z])/g;function sA(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(aA,sA);oA[t]=new iA(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(aA,sA);oA[t]=new iA(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(aA,sA);oA[t]=new iA(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){oA[e]=new iA(e,1,!1,e.toLowerCase(),null,!1)})),oA.xlinkHref=new iA("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){oA[e]=new iA(e,1,!1,e.toLowerCase(),null,!0)}));var cA=Sw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function uA(e,t,r,n){var i=oA.hasOwnProperty(t)?oA[t]:null;(null!==i?0===i.type:!n&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(nA(t,r,i,n)&&(r=null),n||null===i?tA(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}cA.hasOwnProperty("ReactCurrentDispatcher")||(cA.ReactCurrentDispatcher={current:null}),cA.hasOwnProperty("ReactCurrentBatchConfig")||(cA.ReactCurrentBatchConfig={suspense:null});var lA=/^(.*)[\\\/]/,fA="function"==typeof Symbol&&Symbol.for,dA=fA?Symbol.for("react.element"):60103,pA=fA?Symbol.for("react.portal"):60106,hA=fA?Symbol.for("react.fragment"):60107,gA=fA?Symbol.for("react.strict_mode"):60108,mA=fA?Symbol.for("react.profiler"):60114,vA=fA?Symbol.for("react.provider"):60109,yA=fA?Symbol.for("react.context"):60110,bA=fA?Symbol.for("react.concurrent_mode"):60111,wA=fA?Symbol.for("react.forward_ref"):60112,CA=fA?Symbol.for("react.suspense"):60113,EA=fA?Symbol.for("react.suspense_list"):60120,kA=fA?Symbol.for("react.memo"):60115,SA=fA?Symbol.for("react.lazy"):60116,_A=fA?Symbol.for("react.block"):60121,AA="function"==typeof Symbol&&Symbol.iterator;function TA(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=AA&&e[AA]||e["@@iterator"])?e:null}function xA(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}function IA(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case hA:return"Fragment";case pA:return"Portal";case mA:return"Profiler";case gA:return"StrictMode";case CA:return"Suspense";case EA:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case yA:return"Context.Consumer";case vA:return"Context.Provider";case wA:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case kA:return IA(e.type);case _A:return IA(e.render);case SA:if(e=1===e._status?e._result:null)return IA(e)}return null}function BA(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var r="";break e;default:var n=e._debugOwner,i=e._debugSource,o=IA(e.type);r=null,n&&(r=IA(n.type)),n=o,o="",i?o=" (at "+i.fileName.replace(lA,"")+":"+i.lineNumber+")":r&&(o=" (created by "+r+")"),r="\n    in "+(n||"Unknown")+o}t+=r,e=e.return}while(e);return t}function RA(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function PA(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function NA(e){var t=PA(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function OA(e){e._valueTracker||(e._valueTracker=NA(e))}function DA(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=PA(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function LA(e,t){var r=t.checked;return ab({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function MA(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=RA(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function UA(e,t){null!=(t=t.checked)&&uA(e,"checked",t,!1)}function jA(e,t){UA(e,t);var r=RA(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?VA(e,t.type,r):t.hasOwnProperty("defaultValue")&&VA(e,t.type,RA(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function FA(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function VA(e,t,r){"number"===t&&e.ownerDocument.activeElement===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}function zA(e){var t="";return Sw.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}function KA(e,t){return e=ab({children:void 0},t),(t=zA(t.children))&&(e.children=t),e}function qA(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+RA(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function HA(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(h_(91));return ab({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function QA(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(h_(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(h_(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:RA(r)}}function WA(e,t){var r=RA(t.value),n=RA(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function GA(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var YA={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function XA(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $A(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?XA(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ZA,JA,eT=(JA=function(e,t){if(e.namespaceURI!==YA.svg||"innerHTML"in e)e.innerHTML=t;else{for((ZA=ZA||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ZA.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return JA(e,t)}))}:JA);function tT(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}function rT(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var nT={animationend:rT("Animation","AnimationEnd"),animationiteration:rT("Animation","AnimationIteration"),animationstart:rT("Animation","AnimationStart"),transitionend:rT("Transition","TransitionEnd")},iT={},oT={};function aT(e){if(iT[e])return iT[e];if(!nT[e])return e;var t,r=nT[e];for(t in r)if(r.hasOwnProperty(t)&&t in oT)return iT[e]=r[t];return e}L_&&(oT=document.createElement("div").style,"AnimationEvent"in window||(delete nT.animationend.animation,delete nT.animationiteration.animation,delete nT.animationstart.animation),"TransitionEvent"in window||delete nT.transitionend.transition);var sT=aT("animationend"),cT=aT("animationiteration"),uT=aT("animationstart"),lT=aT("transitionend"),fT="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dT=new("function"==typeof WeakMap?WeakMap:Map);function pT(e){var t=dT.get(e);return void 0===t&&(t=new Map,dT.set(e,t)),t}function hT(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function gT(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function mT(e){if(hT(e)!==e)throw Error(h_(188))}function vT(e){var t=e.alternate;if(!t){if(null===(t=hT(e)))throw Error(h_(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(n=i.return)){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return mT(i),e;if(o===n)return mT(i),t;o=o.sibling}throw Error(h_(188))}if(r.return!==n.return)r=i,n=o;else{for(var a=!1,s=i.child;s;){if(s===r){a=!0,r=i,n=o;break}if(s===n){a=!0,n=i,r=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===r){a=!0,r=o,n=i;break}if(s===n){a=!0,n=o,r=i;break}s=s.sibling}if(!a)throw Error(h_(189))}}if(r.alternate!==n)throw Error(h_(190))}if(3!==r.tag)throw Error(h_(188));return r.stateNode.current===r?e:t}function yT(e){if(!(e=vT(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function bT(e,t){if(null==t)throw Error(h_(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function wT(e,t,r){Array.isArray(e)?e.forEach(t,r):e&&t.call(r,e)}var CT=null;function ET(e){if(e){var t=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(t))for(var n=0;n<t.length&&!e.isPropagationStopped();n++)A_(e,t[n],r[n]);else t&&A_(e,t,r);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function kT(e){if(null!==e&&(CT=bT(CT,e)),e=CT,CT=null,e){if(wT(e,ET),CT)throw Error(h_(95));if(y_)throw e=b_,y_=!1,b_=null,e}}function ST(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function _T(e){if(!L_)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var AT=[];function TT(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>AT.length&&AT.push(e)}function xT(e,t,r,n){if(AT.length){var i=AT.pop();return i.topLevelType=e,i.eventSystemFlags=n,i.nativeEvent=t,i.targetInst=r,i}return{topLevelType:e,eventSystemFlags:n,nativeEvent:t,targetInst:r,ancestors:[]}}function IT(e){var t=e.targetInst,r=t;do{if(!r){e.ancestors.push(r);break}var n=r;if(3===n.tag)n=n.stateNode.containerInfo;else{for(;n.return;)n=n.return;n=3!==n.tag?null:n.stateNode.containerInfo}if(!n)break;5!==(t=r.tag)&&6!==t||e.ancestors.push(r),r=Yx(n)}while(r);for(r=0;r<e.ancestors.length;r++){t=e.ancestors[r];var i=ST(e.nativeEvent);n=e.topLevelType;var o=e.nativeEvent,a=e.eventSystemFlags;0===r&&(a|=64);for(var s=null,c=0;c<R_.length;c++){var u=R_[c];u&&(u=u.extractEvents(n,t,o,i,a))&&(s=bT(s,u))}kT(s)}}function BT(e,t,r){if(!r.has(e)){switch(e){case"scroll":dx(t,"scroll",!0);break;case"focus":case"blur":dx(t,"focus",!0),dx(t,"blur",!0),r.set("blur",null),r.set("focus",null);break;case"cancel":case"close":_T(e)&&dx(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===fT.indexOf(e)&&fx(e,t)}r.set(e,null)}}var RT,PT,NT,OT=!1,DT=[],LT=null,MT=null,UT=null,jT=new Map,FT=new Map,VT=[],zT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),KT="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function qT(e,t){var r=pT(t);zT.forEach((function(e){BT(e,t,r)})),KT.forEach((function(e){BT(e,t,r)}))}function HT(e,t,r,n,i){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|r,nativeEvent:i,container:n}}function QT(e,t){switch(e){case"focus":case"blur":LT=null;break;case"dragenter":case"dragleave":MT=null;break;case"mouseover":case"mouseout":UT=null;break;case"pointerover":case"pointerout":jT.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":FT.delete(t.pointerId)}}function WT(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e=HT(t,r,n,i,o),null!==t&&(null!==(t=Xx(t))&&PT(t)),e):(e.eventSystemFlags|=n,e)}function GT(e,t,r,n,i){switch(t){case"focus":return LT=WT(LT,e,t,r,n,i),!0;case"dragenter":return MT=WT(MT,e,t,r,n,i),!0;case"mouseover":return UT=WT(UT,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return jT.set(o,WT(jT.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,FT.set(o,WT(FT.get(o)||null,e,t,r,n,i)),!0}return!1}function YT(e){var t=Yx(e.target);if(null!==t){var r=hT(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=gT(r)))return e.blockedOn=t,void p_.unstable_runWithPriority(e.priority,(function(){NT(r)}))}else if(3===t&&r.stateNode.hydrate)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function XT(e){if(null!==e.blockedOn)return!1;var t=mx(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var r=Xx(t);return null!==r&&PT(r),e.blockedOn=t,!1}return!0}function $T(e,t,r){XT(e)&&r.delete(t)}function ZT(){for(OT=!1;0<DT.length;){var e=DT[0];if(null!==e.blockedOn){null!==(e=Xx(e.blockedOn))&&RT(e);break}var t=mx(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:DT.shift()}null!==LT&&XT(LT)&&(LT=null),null!==MT&&XT(MT)&&(MT=null),null!==UT&&XT(UT)&&(UT=null),jT.forEach($T),FT.forEach($T)}function JT(e,t){e.blockedOn===t&&(e.blockedOn=null,OT||(OT=!0,p_.unstable_scheduleCallback(p_.unstable_NormalPriority,ZT)))}function ex(e){function t(t){return JT(t,e)}if(0<DT.length){JT(DT[0],e);for(var r=1;r<DT.length;r++){var n=DT[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==LT&&JT(LT,e),null!==MT&&JT(MT,e),null!==UT&&JT(UT,e),jT.forEach(t),FT.forEach(t),r=0;r<VT.length;r++)(n=VT[r]).blockedOn===e&&(n.blockedOn=null);for(;0<VT.length&&null===(r=VT[0]).blockedOn;)YT(r),null===r.blockedOn&&VT.shift()}var tx={},rx=new Map,nx=new Map,ix=["abort","abort",sT,"animationEnd",cT,"animationIteration",uT,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",lT,"transitionEnd","waiting","waiting"];function ox(e,t){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1],o="on"+(i[0].toUpperCase()+i.slice(1));o={phasedRegistrationNames:{bubbled:o,captured:o+"Capture"},dependencies:[n],eventPriority:t},nx.set(n,t),rx.set(n,o),tx[i]=o}}ox("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),ox("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),ox(ix,2);for(var ax="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),sx=0;sx<ax.length;sx++)nx.set(ax[sx],0);var cx=p_.unstable_UserBlockingPriority,ux=p_.unstable_runWithPriority,lx=!0;function fx(e,t){dx(t,e,!1)}function dx(e,t,r){var n=nx.get(t);switch(void 0===n?2:n){case 0:n=px.bind(null,t,1,e);break;case 1:n=hx.bind(null,t,1,e);break;default:n=gx.bind(null,t,1,e)}r?e.addEventListener(t,n,!0):e.addEventListener(t,n,!1)}function px(e,t,r,n){W_||H_();var i=gx,o=W_;W_=!0;try{q_(i,e,t,r,n)}finally{(W_=o)||Y_()}}function hx(e,t,r,n){ux(cx,gx.bind(null,e,t,r,n))}function gx(e,t,r,n){if(lx)if(0<DT.length&&-1<zT.indexOf(e))e=HT(null,e,t,r,n),DT.push(e);else{var i=mx(e,t,r,n);if(null===i)QT(e,n);else if(-1<zT.indexOf(e))e=HT(i,e,t,r,n),DT.push(e);else if(!GT(i,e,t,r,n)){QT(e,n),e=xT(e,n,null,t);try{X_(IT,e)}finally{TT(e)}}}}function mx(e,t,r,n){if(null!==(r=Yx(r=ST(n)))){var i=hT(r);if(null===i)r=null;else{var o=i.tag;if(13===o){if(null!==(r=gT(i)))return r;r=null}else if(3===o){if(i.stateNode.hydrate)return 3===i.tag?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null)}}e=xT(e,n,r,t);try{X_(IT,e)}finally{TT(e)}return null}var vx={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yx=["Webkit","ms","Moz","O"];function bx(e,t,r){return null==t||"boolean"==typeof t||""===t?"":r||"number"!=typeof t||0===t||vx.hasOwnProperty(e)&&vx[e]?(""+t).trim():t+"px"}function wx(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=bx(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(vx).forEach((function(e){yx.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vx[t]=vx[e]}))}));var Cx=ab({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ex(e,t){if(t){if(Cx[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(h_(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(h_(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(h_(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(h_(62,""))}}function kx(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sx=YA.html;function _x(e,t){var r=pT(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=O_[t];for(var n=0;n<t.length;n++)BT(t[n],e,r)}function Ax(){}function Tx(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function xx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ix(e,t){var r,n=xx(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xx(n)}}function Bx(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Bx(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Rx(){for(var e=window,t=Tx();t instanceof e.HTMLIFrameElement;){try{var r="string"==typeof t.contentWindow.location.href}catch(e){r=!1}if(!r)break;t=Tx((e=t.contentWindow).document)}return t}function Px(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var Nx="$",Ox="/$",Dx="$?",Lx="$!",Mx=null,Ux=null;function jx(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Fx(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Vx="function"==typeof setTimeout?setTimeout:void 0,zx="function"==typeof clearTimeout?clearTimeout:void 0;function Kx(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function qx(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if(r===Nx||r===Lx||r===Dx){if(0===t)return e;t--}else r===Ox&&t++}e=e.previousSibling}return null}var Hx=Math.random().toString(36).slice(2),Qx="__reactInternalInstance$"+Hx,Wx="__reactEventHandlers$"+Hx,Gx="__reactContainere$"+Hx;function Yx(e){var t=e[Qx];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Gx]||r[Qx]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=qx(e);null!==e;){if(r=e[Qx])return r;e=qx(e)}return t}r=(e=r).parentNode}return null}function Xx(e){return!(e=e[Qx]||e[Gx])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function $x(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(h_(33))}function Zx(e){return e[Wx]||null}function Jx(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function eI(e,t){var r=e.stateNode;if(!r)return null;var n=k_(r);if(!n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(h_(231,t,typeof r));return r}function tI(e,t,r){(t=eI(e,r.dispatchConfig.phasedRegistrationNames[t]))&&(r._dispatchListeners=bT(r._dispatchListeners,t),r._dispatchInstances=bT(r._dispatchInstances,e))}function rI(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,r=[];t;)r.push(t),t=Jx(t);for(t=r.length;0<t--;)tI(r[t],"captured",e);for(t=0;t<r.length;t++)tI(r[t],"bubbled",e)}}function nI(e,t,r){e&&r&&r.dispatchConfig.registrationName&&(t=eI(e,r.dispatchConfig.registrationName))&&(r._dispatchListeners=bT(r._dispatchListeners,t),r._dispatchInstances=bT(r._dispatchInstances,e))}function iI(e){e&&e.dispatchConfig.registrationName&&nI(e._targetInst,null,e)}function oI(e){wT(e,rI)}var aI=null,sI=null,cI=null;function uI(){if(cI)return cI;var e,t,r=sI,n=r.length,i="value"in aI?aI.value:aI.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var a=n-e;for(t=1;t<=a&&r[n-t]===i[o-t];t++);return cI=i.slice(e,1<t?1-t:void 0)}function lI(){return!0}function fI(){return!1}function dI(e,t,r,n){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=r,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(r):"target"===i?this.target=n:this[i]=r[i]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?lI:fI,this.isPropagationStopped=fI,this}function pI(e,t,r,n){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,r,n),i}return new this(e,t,r,n)}function hI(e){if(!(e instanceof this))throw Error(h_(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function gI(e){e.eventPool=[],e.getPooled=pI,e.release=hI}ab(dI.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=lI)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=lI)},persist:function(){this.isPersistent=lI},isPersistent:fI,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=fI,this._dispatchInstances=this._dispatchListeners=null}}),dI.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},dI.extend=function(e){function t(){}function r(){return n.apply(this,arguments)}var n=this;t.prototype=n.prototype;var i=new t;return ab(i,r.prototype),r.prototype=i,r.prototype.constructor=r,r.Interface=ab({},n.Interface,e),r.extend=n.extend,gI(r),r},gI(dI);var mI=dI.extend({data:null}),vI=dI.extend({data:null}),yI=[9,13,27,32],bI=L_&&"CompositionEvent"in window,wI=null;L_&&"documentMode"in document&&(wI=document.documentMode);var CI=L_&&"TextEvent"in window&&!wI,EI=L_&&(!bI||wI&&8<wI&&11>=wI),kI=String.fromCharCode(32),SI={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},_I=!1;function AI(e,t){switch(e){case"keyup":return-1!==yI.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function TI(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var xI=!1;function II(e,t){switch(e){case"compositionend":return TI(t);case"keypress":return 32!==t.which?null:(_I=!0,kI);case"textInput":return(e=t.data)===kI&&_I?null:e;default:return null}}function BI(e,t){if(xI)return"compositionend"===e||!bI&&AI(e,t)?(e=uI(),cI=sI=aI=null,xI=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return EI&&"ko"!==t.locale?null:t.data;default:return null}}var RI={eventTypes:SI,extractEvents:function(e,t,r,n){var i;if(bI)e:{switch(e){case"compositionstart":var o=SI.compositionStart;break e;case"compositionend":o=SI.compositionEnd;break e;case"compositionupdate":o=SI.compositionUpdate;break e}o=void 0}else xI?AI(e,r)&&(o=SI.compositionEnd):"keydown"===e&&229===r.keyCode&&(o=SI.compositionStart);return o?(EI&&"ko"!==r.locale&&(xI||o!==SI.compositionStart?o===SI.compositionEnd&&xI&&(i=uI()):(sI="value"in(aI=n)?aI.value:aI.textContent,xI=!0)),o=mI.getPooled(o,t,r,n),i?o.data=i:null!==(i=TI(r))&&(o.data=i),oI(o),i=o):i=null,(e=CI?II(e,r):BI(e,r))?((t=vI.getPooled(SI.beforeInput,t,r,n)).data=e,oI(t)):t=null,null===i?t:null===t?i:[i,t]}},PI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!PI[e.type]:"textarea"===t}var OI={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function DI(e,t,r){return(e=dI.getPooled(OI.change,e,t,r)).type="change",V_(r),oI(e),e}var LI=null,MI=null;function UI(e){kT(e)}function jI(e){if(DA($x(e)))return e}function FI(e,t){if("change"===e)return t}var VI=!1;function zI(){LI&&(LI.detachEvent("onpropertychange",KI),MI=LI=null)}function KI(e){if("value"===e.propertyName&&jI(MI))if(e=DI(MI,e,ST(e)),W_)kT(e);else{W_=!0;try{K_(UI,e)}finally{W_=!1,Y_()}}}function qI(e,t,r){"focus"===e?(zI(),MI=r,(LI=t).attachEvent("onpropertychange",KI)):"blur"===e&&zI()}function HI(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return jI(MI)}function QI(e,t){if("click"===e)return jI(t)}function WI(e,t){if("input"===e||"change"===e)return jI(t)}L_&&(VI=_T("input")&&(!document.documentMode||9<document.documentMode));var GI={eventTypes:OI,_isInputEventSupported:VI,extractEvents:function(e,t,r,n){var i=t?$x(t):window,o=i.nodeName&&i.nodeName.toLowerCase();if("select"===o||"input"===o&&"file"===i.type)var a=FI;else if(NI(i))if(VI)a=WI;else{a=HI;var s=qI}else(o=i.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=QI);if(a&&(a=a(e,t)))return DI(a,r,n);s&&s(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&VA(i,"number",i.value)}},YI=dI.extend({view:null,detail:null}),XI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $I(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=XI[e])&&!!t[e]}function ZI(){return $I}var JI=0,eB=0,tB=!1,rB=!1,nB=YI.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:ZI,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=JI;return JI=e.screenX,tB?"mousemove"===e.type?e.screenX-t:0:(tB=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=eB;return eB=e.screenY,rB?"mousemove"===e.type?e.screenY-t:0:(rB=!0,0)}}),iB=nB.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),oB={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},aB={eventTypes:oB,extractEvents:function(e,t,r,n,i){var o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(o&&0==(32&i)&&(r.relatedTarget||r.fromElement)||!a&&!o)return null;(o=n.window===n?n:(o=n.ownerDocument)?o.defaultView||o.parentWindow:window,a)?(a=t,null!==(t=(t=r.relatedTarget||r.toElement)?Yx(t):null)&&(t!==hT(t)||5!==t.tag&&6!==t.tag)&&(t=null)):a=null;if(a===t)return null;if("mouseout"===e||"mouseover"===e)var s=nB,c=oB.mouseLeave,u=oB.mouseEnter,l="mouse";else"pointerout"!==e&&"pointerover"!==e||(s=iB,c=oB.pointerLeave,u=oB.pointerEnter,l="pointer");if(e=null==a?o:$x(a),o=null==t?o:$x(t),(c=s.getPooled(c,a,r,n)).type=l+"leave",c.target=e,c.relatedTarget=o,(r=s.getPooled(u,t,r,n)).type=l+"enter",r.target=o,r.relatedTarget=e,l=t,(n=a)&&l)e:{for(u=l,a=0,e=s=n;e;e=Jx(e))a++;for(e=0,t=u;t;t=Jx(t))e++;for(;0<a-e;)s=Jx(s),a--;for(;0<e-a;)u=Jx(u),e--;for(;a--;){if(s===u||s===u.alternate)break e;s=Jx(s),u=Jx(u)}s=null}else s=null;for(u=s,s=[];n&&n!==u&&(null===(a=n.alternate)||a!==u);)s.push(n),n=Jx(n);for(n=[];l&&l!==u&&(null===(a=l.alternate)||a!==u);)n.push(l),l=Jx(l);for(l=0;l<s.length;l++)nI(s[l],"bubbled",c);for(l=n.length;0<l--;)nI(n[l],"captured",r);return 0==(64&i)?[c]:[c,r]}};function sB(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var cB="function"==typeof Object.is?Object.is:sB,uB=Object.prototype.hasOwnProperty;function lB(e,t){if(cB(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!uB.call(t,r[n])||!cB(e[r[n]],t[r[n]]))return!1;return!0}var fB=L_&&"documentMode"in document&&11>=document.documentMode,dB={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},pB=null,hB=null,gB=null,mB=!1;function vB(e,t){var r=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return mB||null==pB||pB!==Tx(r)?null:("selectionStart"in(r=pB)&&Px(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gB&&lB(gB,r)?null:(gB=r,(e=dI.getPooled(dB.select,hB,e,t)).type="select",e.target=pB,oI(e),e))}var yB={eventTypes:dB,extractEvents:function(e,t,r,n,i,o){if(!(o=!(i=o||(n.window===n?n.document:9===n.nodeType?n:n.ownerDocument)))){e:{i=pT(i),o=O_.onSelect;for(var a=0;a<o.length;a++)if(!i.has(o[a])){i=!1;break e}i=!0}o=!i}if(o)return null;switch(i=t?$x(t):window,e){case"focus":(NI(i)||"true"===i.contentEditable)&&(pB=i,hB=t,gB=null);break;case"blur":gB=hB=pB=null;break;case"mousedown":mB=!0;break;case"contextmenu":case"mouseup":case"dragend":return mB=!1,vB(r,n);case"selectionchange":if(fB)break;case"keydown":case"keyup":return vB(r,n)}return null}},bB=dI.extend({animationName:null,elapsedTime:null,pseudoElement:null}),wB=dI.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),CB=YI.extend({relatedTarget:null});function EB(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var kB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},SB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_B=YI.extend({key:function(e){if(e.key){var t=kB[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=EB(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?SB[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:ZI,charCode:function(e){return"keypress"===e.type?EB(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?EB(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),AB=nB.extend({dataTransfer:null}),TB=YI.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:ZI}),xB=dI.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),IB=nB.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),BB={eventTypes:tx,extractEvents:function(e,t,r,n){var i=rx.get(e);if(!i)return null;switch(e){case"keypress":if(0===EB(r))return null;case"keydown":case"keyup":e=_B;break;case"blur":case"focus":e=CB;break;case"click":if(2===r.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=nB;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=AB;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=TB;break;case sT:case cT:case uT:e=bB;break;case lT:e=xB;break;case"scroll":e=YI;break;case"wheel":e=IB;break;case"copy":case"cut":case"paste":e=wB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=iB;break;default:e=dI}return oI(t=e.getPooled(i,t,r,n)),t}};if(T_)throw Error(h_(101));T_=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),I_();var RB=Xx;k_=Zx,S_=RB,__=$x,D_({SimpleEventPlugin:BB,EnterLeaveEventPlugin:aB,ChangeEventPlugin:GI,SelectEventPlugin:yB,BeforeInputEventPlugin:RI});var PB=[],NB=-1;function OB(e){0>NB||(e.current=PB[NB],PB[NB]=null,NB--)}function DB(e,t){NB++,PB[NB]=e.current,e.current=t}var LB={},MB={current:LB},UB={current:!1},jB=LB;function FB(e,t){var r=e.type.contextTypes;if(!r)return LB;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function VB(e){return null!=(e=e.childContextTypes)}function zB(){OB(UB),OB(MB)}function KB(e,t,r){if(MB.current!==LB)throw Error(h_(168));DB(MB,t),DB(UB,r)}function qB(e,t,r){var n=e.stateNode;if(e=t.childContextTypes,"function"!=typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in e))throw Error(h_(108,IA(t)||"Unknown",i));return ab({},r,{},n)}function HB(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||LB,jB=MB.current,DB(MB,e),DB(UB,UB.current),!0}function QB(e,t,r){var n=e.stateNode;if(!n)throw Error(h_(169));r?(e=qB(e,t,jB),n.__reactInternalMemoizedMergedChildContext=e,OB(UB),OB(MB),DB(MB,e)):OB(UB),DB(UB,r)}var WB=p_.unstable_runWithPriority,GB=p_.unstable_scheduleCallback,YB=p_.unstable_cancelCallback,XB=p_.unstable_requestPaint,$B=p_.unstable_now,ZB=p_.unstable_getCurrentPriorityLevel,JB=p_.unstable_ImmediatePriority,eR=p_.unstable_UserBlockingPriority,tR=p_.unstable_NormalPriority,rR=p_.unstable_LowPriority,nR=p_.unstable_IdlePriority,iR={},oR=p_.unstable_shouldYield,aR=void 0!==XB?XB:function(){},sR=null,cR=null,uR=!1,lR=$B(),fR=1e4>lR?$B:function(){return $B()-lR};function dR(){switch(ZB()){case JB:return 99;case eR:return 98;case tR:return 97;case rR:return 96;case nR:return 95;default:throw Error(h_(332))}}function pR(e){switch(e){case 99:return JB;case 98:return eR;case 97:return tR;case 96:return rR;case 95:return nR;default:throw Error(h_(332))}}function hR(e,t){return e=pR(e),WB(e,t)}function gR(e,t,r){return e=pR(e),GB(e,t,r)}function mR(e){return null===sR?(sR=[e],cR=GB(JB,yR)):sR.push(e),iR}function vR(){if(null!==cR){var e=cR;cR=null,YB(e)}yR()}function yR(){if(!uR&&null!==sR){uR=!0;var e=0;try{var t=sR;hR(99,(function(){for(;e<t.length;e++){var r=t[e];do{r=r(!0)}while(null!==r)}})),sR=null}catch(t){throw null!==sR&&(sR=sR.slice(e+1)),GB(JB,vR),t}finally{uR=!1}}}function bR(e,t,r){return 1073741821-(1+((1073741821-e+t/10)/(r/=10)|0))*r}function wR(e,t){if(e&&e.defaultProps)for(var r in t=ab({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}var CR={current:null},ER=null,kR=null,SR=null;function _R(){SR=kR=ER=null}function AR(e){var t=CR.current;OB(CR),e.type._context._currentValue=t}function TR(e,t){for(;null!==e;){var r=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t);else{if(!(null!==r&&r.childExpirationTime<t))break;r.childExpirationTime=t}e=e.return}}function xR(e,t){ER=e,SR=kR=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(tN=!0),e.firstContext=null)}function IR(e,t){if(SR!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(SR=e,t=1073741823),t={context:e,observedBits:t,next:null},null===kR){if(null===ER)throw Error(h_(308));kR=t,ER.dependencies={expirationTime:0,firstContext:t,responders:null}}else kR=kR.next=t;return e._currentValue}var BR=!1;function RR(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function PR(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function NR(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function OR(e,t){if(null!==(e=e.updateQueue)){var r=(e=e.shared).pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}}function DR(e,t){var r=e.alternate;null!==r&&PR(r,e),null===(r=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=r.next,r.next=t)}function LR(e,t,r,n){var i=e.updateQueue;BR=!1;var o=i.baseQueue,a=i.shared.pending;if(null!==a){if(null!==o){var s=o.next;o.next=a.next,a.next=s}o=a,i.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=a))}if(null!==o){s=o.next;var c=i.baseState,u=0,l=null,f=null,d=null;if(null!==s)for(var p=s;;){if((a=p.expirationTime)<n){var h={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===d?(f=d=h,l=c):d=d.next=h,a>u&&(u=a)}else{null!==d&&(d=d.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),KO(a,p.suspenseConfig);e:{var g=e,m=p;switch(a=t,h=r,m.tag){case 1:if("function"==typeof(g=m.payload)){c=g.call(h,c,a);break e}c=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(a="function"==typeof(g=m.payload)?g.call(h,c,a):g))break e;c=ab({},c,a);break e;case 2:BR=!0}}null!==p.callback&&(e.effectTag|=32,null===(a=i.effects)?i.effects=[p]:a.push(p))}if(null===(p=p.next)||p===s){if(null===(a=i.shared.pending))break;p=o.next=a.next,a.next=s,i.baseQueue=o=a,i.shared.pending=null}}null===d?l=c:d.next=f,i.baseState=l,i.baseQueue=d,qO(u),e.expirationTime=u,e.memoizedState=c}}function MR(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=i,i=r,"function"!=typeof n)throw Error(h_(191,n));n.call(i)}}}var UR=cA.ReactCurrentBatchConfig,jR=(new Sw.Component).refs;function FR(e,t,r,n){r=null==(r=r(n,t=e.memoizedState))?t:ab({},t,r),e.memoizedState=r,0===e.expirationTime&&(e.updateQueue.baseState=r)}var VR={isMounted:function(e){return!!(e=e._reactInternalFiber)&&hT(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternalFiber;var n=IO(),i=UR.suspense;(i=NR(n=BO(n,e,i),i)).payload=t,null!=r&&(i.callback=r),OR(e,i),RO(e,n)},enqueueReplaceState:function(e,t,r){e=e._reactInternalFiber;var n=IO(),i=UR.suspense;(i=NR(n=BO(n,e,i),i)).tag=1,i.payload=t,null!=r&&(i.callback=r),OR(e,i),RO(e,n)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var r=IO(),n=UR.suspense;(n=NR(r=BO(r,e,n),n)).tag=2,null!=t&&(n.callback=t),OR(e,n),RO(e,r)}};function zR(e,t,r,n,i,o,a){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!lB(r,n)||!lB(i,o))}function KR(e,t,r){var n=!1,i=LB,o=t.contextType;return"object"==typeof o&&null!==o?o=IR(o):(i=VB(t)?jB:MB.current,o=(n=null!=(n=t.contextTypes))?FB(e,i):LB),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=VR,e.stateNode=t,t._reactInternalFiber=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function qR(e,t,r,n){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&VR.enqueueReplaceState(t,t.state,null)}function HR(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=jR,RR(e);var o=t.contextType;"object"==typeof o&&null!==o?i.context=IR(o):(o=VB(t)?jB:MB.current,i.context=FB(e,o)),LR(e,r,i,n),i.state=e.memoizedState,"function"==typeof(o=t.getDerivedStateFromProps)&&(FR(e,t,o,r),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&VR.enqueueReplaceState(i,i.state,null),LR(e,r,i,n),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var QR=Array.isArray;function WR(e,t,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(h_(309));var n=r.stateNode}if(!n)throw Error(h_(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=n.refs;t===jR&&(t=n.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(h_(284));if(!r._owner)throw Error(h_(290,e))}return e}function GR(e,t){if("textarea"!==e.type)throw Error(h_(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function YR(e){function t(t,r){if(e){var n=t.lastEffect;null!==n?(n.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r,r.nextEffect=null,r.effectTag=8}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=dD(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.effectTag=2,r):n:(t.effectTag=2,r):r}function a(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,r,n){return null===t||6!==t.tag?((t=gD(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function c(e,t,r,n){return null!==t&&t.elementType===r.type?((n=i(t,r.props)).ref=WR(e,t,r),n.return=e,n):((n=pD(r.type,r.key,r.props,null,e.mode,n)).ref=WR(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=mD(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function l(e,t,r,n,o){return null===t||7!==t.tag?((t=hD(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function f(e,t,r){if("string"==typeof t||"number"==typeof t)return(t=gD(""+t,e.mode,r)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case dA:return(r=pD(t.type,t.key,t.props,null,e.mode,r)).ref=WR(e,null,t),r.return=e,r;case pA:return(t=mD(t,e.mode,r)).return=e,t}if(QR(t)||TA(t))return(t=hD(t,e.mode,r,null)).return=e,t;GR(e,t)}return null}function d(e,t,r,n){var i=null!==t?t.key:null;if("string"==typeof r||"number"==typeof r)return null!==i?null:s(e,t,""+r,n);if("object"==typeof r&&null!==r){switch(r.$$typeof){case dA:return r.key===i?r.type===hA?l(e,t,r.props.children,n,i):c(e,t,r,n):null;case pA:return r.key===i?u(e,t,r,n):null}if(QR(r)||TA(r))return null!==i?null:l(e,t,r,n,null);GR(e,r)}return null}function p(e,t,r,n,i){if("string"==typeof n||"number"==typeof n)return s(t,e=e.get(r)||null,""+n,i);if("object"==typeof n&&null!==n){switch(n.$$typeof){case dA:return e=e.get(null===n.key?r:n.key)||null,n.type===hA?l(t,e,n.props.children,i,n.key):c(t,e,n,i);case pA:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i)}if(QR(n)||TA(n))return l(t,e=e.get(r)||null,n,i,null);GR(t,n)}return null}function h(i,a,s,c){for(var u=null,l=null,h=a,g=a=0,m=null;null!==h&&g<s.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=d(i,h,s[g],c);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),a=o(v,a,g),null===l?u=v:l.sibling=v,l=v,h=m}if(g===s.length)return r(i,h),u;if(null===h){for(;g<s.length;g++)null!==(h=f(i,s[g],c))&&(a=o(h,a,g),null===l?u=h:l.sibling=h,l=h);return u}for(h=n(i,h);g<s.length;g++)null!==(m=p(h,i,g,s[g],c))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),a=o(m,a,g),null===l?u=m:l.sibling=m,l=m);return e&&h.forEach((function(e){return t(i,e)})),u}function g(i,a,s,c){var u=TA(s);if("function"!=typeof u)throw Error(h_(150));if(null==(s=u.call(s)))throw Error(h_(151));for(var l=u=null,h=a,g=a=0,m=null,v=s.next();null!==h&&!v.done;g++,v=s.next()){h.index>g?(m=h,h=null):m=h.sibling;var y=d(i,h,v.value,c);if(null===y){null===h&&(h=m);break}e&&h&&null===y.alternate&&t(i,h),a=o(y,a,g),null===l?u=y:l.sibling=y,l=y,h=m}if(v.done)return r(i,h),u;if(null===h){for(;!v.done;g++,v=s.next())null!==(v=f(i,v.value,c))&&(a=o(v,a,g),null===l?u=v:l.sibling=v,l=v);return u}for(h=n(i,h);!v.done;g++,v=s.next())null!==(v=p(h,i,g,v.value,c))&&(e&&null!==v.alternate&&h.delete(null===v.key?g:v.key),a=o(v,a,g),null===l?u=v:l.sibling=v,l=v);return e&&h.forEach((function(e){return t(i,e)})),u}return function(e,n,o,s){var c="object"==typeof o&&null!==o&&o.type===hA&&null===o.key;c&&(o=o.props.children);var u="object"==typeof o&&null!==o;if(u)switch(o.$$typeof){case dA:e:{for(u=o.key,c=n;null!==c;){if(c.key===u){switch(c.tag){case 7:if(o.type===hA){r(e,c.sibling),(n=i(c,o.props.children)).return=e,e=n;break e}break;default:if(c.elementType===o.type){r(e,c.sibling),(n=i(c,o.props)).ref=WR(e,c,o),n.return=e,e=n;break e}}r(e,c);break}t(e,c),c=c.sibling}o.type===hA?((n=hD(o.props.children,e.mode,s,o.key)).return=e,e=n):((s=pD(o.type,o.key,o.props,null,e.mode,s)).ref=WR(e,n,o),s.return=e,e=s)}return a(e);case pA:e:{for(c=o.key;null!==n;){if(n.key===c){if(4===n.tag&&n.stateNode.containerInfo===o.containerInfo&&n.stateNode.implementation===o.implementation){r(e,n.sibling),(n=i(n,o.children||[])).return=e,e=n;break e}r(e,n);break}t(e,n),n=n.sibling}(n=mD(o,e.mode,s)).return=e,e=n}return a(e)}if("string"==typeof o||"number"==typeof o)return o=""+o,null!==n&&6===n.tag?(r(e,n.sibling),(n=i(n,o)).return=e,e=n):(r(e,n),(n=gD(o,e.mode,s)).return=e,e=n),a(e);if(QR(o))return h(e,n,o,s);if(TA(o))return g(e,n,o,s);if(u&&GR(e,o),void 0===o&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(h_(152,e.displayName||e.name||"Component"))}return r(e,n)}}var XR=YR(!0),$R=YR(!1),ZR={},JR={current:ZR},eP={current:ZR},tP={current:ZR};function rP(e){if(e===ZR)throw Error(h_(174));return e}function nP(e,t){switch(DB(tP,t),DB(eP,e),DB(JR,ZR),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:$A(null,"");break;default:t=$A(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}OB(JR),DB(JR,t)}function iP(){OB(JR),OB(eP),OB(tP)}function oP(e){rP(tP.current);var t=rP(JR.current),r=$A(t,e.type);t!==r&&(DB(eP,e),DB(JR,r))}function aP(e){eP.current===e&&(OB(JR),OB(eP))}var sP={current:0};function cP(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||r.data===Dx||r.data===Lx))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function uP(e,t){return{responder:e,props:t}}var lP=cA.ReactCurrentDispatcher,fP=cA.ReactCurrentBatchConfig,dP=0,pP=null,hP=null,gP=null,mP=!1;function vP(){throw Error(h_(321))}function yP(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!cB(e[r],t[r]))return!1;return!0}function bP(e,t,r,n,i,o){if(dP=o,pP=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,lP.current=null===e||null===e.memoizedState?zP:KP,e=r(n,i),t.expirationTime===dP){o=0;do{if(t.expirationTime=0,!(25>o))throw Error(h_(301));o+=1,gP=hP=null,t.updateQueue=null,lP.current=qP,e=r(n,i)}while(t.expirationTime===dP)}if(lP.current=VP,t=null!==hP&&null!==hP.next,dP=0,gP=hP=pP=null,mP=!1,t)throw Error(h_(300));return e}function wP(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===gP?pP.memoizedState=gP=e:gP=gP.next=e,gP}function CP(){if(null===hP){var e=pP.alternate;e=null!==e?e.memoizedState:null}else e=hP.next;var t=null===gP?pP.memoizedState:gP.next;if(null!==t)gP=t,hP=e;else{if(null===e)throw Error(h_(310));e={memoizedState:(hP=e).memoizedState,baseState:hP.baseState,baseQueue:hP.baseQueue,queue:hP.queue,next:null},null===gP?pP.memoizedState=gP=e:gP=gP.next=e}return gP}function EP(e,t){return"function"==typeof t?t(e):t}function kP(e){var t=CP(),r=t.queue;if(null===r)throw Error(h_(311));r.lastRenderedReducer=e;var n=hP,i=n.baseQueue,o=r.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}n.baseQueue=i=o,r.pending=null}if(null!==i){i=i.next,n=n.baseState;var s=a=o=null,c=i;do{var u=c.expirationTime;if(u<dP){var l={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(a=s=l,o=n):s=s.next=l,u>pP.expirationTime&&(pP.expirationTime=u,qO(u))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),KO(u,c.suspenseConfig),n=c.eagerReducer===e?c.eagerState:e(n,c.action);c=c.next}while(null!==c&&c!==i);null===s?o=n:s.next=a,cB(n,t.memoizedState)||(tN=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=s,r.lastRenderedState=n}return[t.memoizedState,r.dispatch]}function SP(e){var t=CP(),r=t.queue;if(null===r)throw Error(h_(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(null!==i){r.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);cB(o,t.memoizedState)||(tN=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function _P(e){var t=wP();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:EP,lastRenderedState:e}).dispatch=FP.bind(null,pP,e),[t.memoizedState,e]}function AP(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=pP.updateQueue)?(t={lastEffect:null},pP.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function TP(){return CP().memoizedState}function xP(e,t,r,n){var i=wP();pP.effectTag|=e,i.memoizedState=AP(1|t,r,void 0,void 0===n?null:n)}function IP(e,t,r,n){var i=CP();n=void 0===n?null:n;var o=void 0;if(null!==hP){var a=hP.memoizedState;if(o=a.destroy,null!==n&&yP(n,a.deps))return void AP(t,r,o,n)}pP.effectTag|=e,i.memoizedState=AP(1|t,r,o,n)}function BP(e,t){return xP(516,4,e,t)}function RP(e,t){return IP(516,4,e,t)}function PP(e,t){return IP(4,2,e,t)}function NP(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function OP(e,t,r){return r=null!=r?r.concat([e]):null,IP(4,2,NP.bind(null,t,e),r)}function DP(){}function LP(e,t){return wP().memoizedState=[e,void 0===t?null:t],e}function MP(e,t){var r=CP();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&yP(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function UP(e,t){var r=CP();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&yP(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function jP(e,t,r){var n=dR();hR(98>n?98:n,(function(){e(!0)})),hR(97<n?97:n,(function(){var n=fP.suspense;fP.suspense=void 0===t?null:t;try{e(!1),r()}finally{fP.suspense=n}}))}function FP(e,t,r){var n=IO(),i=UR.suspense;i={expirationTime:n=BO(n,e,i),suspenseConfig:i,action:r,eagerReducer:null,eagerState:null,next:null};var o=t.pending;if(null===o?i.next=i:(i.next=o.next,o.next=i),t.pending=i,o=e.alternate,e===pP||null!==o&&o===pP)mP=!0,i.expirationTime=dP,pP.expirationTime=dP;else{if(0===e.expirationTime&&(null===o||0===o.expirationTime)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,r);if(i.eagerReducer=o,i.eagerState=s,cB(s,a))return}catch(e){}RO(e,n)}}var VP={readContext:IR,useCallback:vP,useContext:vP,useEffect:vP,useImperativeHandle:vP,useLayoutEffect:vP,useMemo:vP,useReducer:vP,useRef:vP,useState:vP,useDebugValue:vP,useResponder:vP,useDeferredValue:vP,useTransition:vP},zP={readContext:IR,useCallback:LP,useContext:IR,useEffect:BP,useImperativeHandle:function(e,t,r){return r=null!=r?r.concat([e]):null,xP(4,2,NP.bind(null,t,e),r)},useLayoutEffect:function(e,t){return xP(4,2,e,t)},useMemo:function(e,t){var r=wP();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=wP();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e=(e=n.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=FP.bind(null,pP,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},wP().memoizedState=e},useState:_P,useDebugValue:DP,useResponder:uP,useDeferredValue:function(e,t){var r=_P(e),n=r[0],i=r[1];return BP((function(){var r=fP.suspense;fP.suspense=void 0===t?null:t;try{i(e)}finally{fP.suspense=r}}),[e,t]),n},useTransition:function(e){var t=_P(!1),r=t[0];return t=t[1],[LP(jP.bind(null,t,e),[t,e]),r]}},KP={readContext:IR,useCallback:MP,useContext:IR,useEffect:RP,useImperativeHandle:OP,useLayoutEffect:PP,useMemo:UP,useReducer:kP,useRef:TP,useState:function(){return kP(EP)},useDebugValue:DP,useResponder:uP,useDeferredValue:function(e,t){var r=kP(EP),n=r[0],i=r[1];return RP((function(){var r=fP.suspense;fP.suspense=void 0===t?null:t;try{i(e)}finally{fP.suspense=r}}),[e,t]),n},useTransition:function(e){var t=kP(EP),r=t[0];return t=t[1],[MP(jP.bind(null,t,e),[t,e]),r]}},qP={readContext:IR,useCallback:MP,useContext:IR,useEffect:RP,useImperativeHandle:OP,useLayoutEffect:PP,useMemo:UP,useReducer:SP,useRef:TP,useState:function(){return SP(EP)},useDebugValue:DP,useResponder:uP,useDeferredValue:function(e,t){var r=SP(EP),n=r[0],i=r[1];return RP((function(){var r=fP.suspense;fP.suspense=void 0===t?null:t;try{i(e)}finally{fP.suspense=r}}),[e,t]),n},useTransition:function(e){var t=SP(EP),r=t[0];return t=t[1],[MP(jP.bind(null,t,e),[t,e]),r]}},HP=null,QP=null,WP=!1;function GP(e,t){var r=uD(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=t,r.return=e,r.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=r,e.lastEffect=r):e.firstEffect=e.lastEffect=r}function YP(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function XP(e){if(WP){var t=QP;if(t){var r=t;if(!YP(e,t)){if(!(t=Kx(r.nextSibling))||!YP(e,t))return e.effectTag=-1025&e.effectTag|2,WP=!1,void(HP=e);GP(HP,r)}HP=e,QP=Kx(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,WP=!1,HP=e}}function $P(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;HP=e}function ZP(e){if(e!==HP)return!1;if(!WP)return $P(e),WP=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Fx(t,e.memoizedProps))for(t=QP;t;)GP(e,t),t=Kx(t.nextSibling);if($P(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(h_(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if(r===Ox){if(0===t){QP=Kx(e.nextSibling);break e}t--}else r!==Nx&&r!==Lx&&r!==Dx||t++}e=e.nextSibling}QP=null}}else QP=HP?Kx(e.stateNode.nextSibling):null;return!0}function JP(){QP=HP=null,WP=!1}var eN=cA.ReactCurrentOwner,tN=!1;function rN(e,t,r,n){t.child=null===e?$R(t,null,r,n):XR(t,e.child,r,n)}function nN(e,t,r,n,i){r=r.render;var o=t.ref;return xR(t,i),n=bP(e,t,r,n,o,i),null===e||tN?(t.effectTag|=1,rN(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),wN(e,t,i))}function iN(e,t,r,n,i,o){if(null===e){var a=r.type;return"function"!=typeof a||lD(a)||void 0!==a.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=pD(r.type,null,n,null,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,oN(e,t,a,n,i,o))}return a=e.child,i<o&&(i=a.memoizedProps,(r=null!==(r=r.compare)?r:lB)(i,n)&&e.ref===t.ref)?wN(e,t,o):(t.effectTag|=1,(e=dD(a,n)).ref=t.ref,e.return=t,t.child=e)}function oN(e,t,r,n,i,o){return null!==e&&lB(e.memoizedProps,n)&&e.ref===t.ref&&(tN=!1,i<o)?(t.expirationTime=e.expirationTime,wN(e,t,o)):sN(e,t,r,n,o)}function aN(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.effectTag|=128)}function sN(e,t,r,n,i){var o=VB(r)?jB:MB.current;return o=FB(t,o),xR(t,i),r=bP(e,t,r,n,o,i),null===e||tN?(t.effectTag|=1,rN(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),wN(e,t,i))}function cN(e,t,r,n,i){if(VB(r)){var o=!0;HB(t)}else o=!1;if(xR(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),KR(t,r,n),HR(t,r,n,i),n=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var c=a.context,u=r.contextType;"object"==typeof u&&null!==u?u=IR(u):u=FB(t,u=VB(r)?jB:MB.current);var l=r.getDerivedStateFromProps,f="function"==typeof l||"function"==typeof a.getSnapshotBeforeUpdate;f||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||c!==u)&&qR(t,a,n,u),BR=!1;var d=t.memoizedState;a.state=d,LR(t,n,a,i),c=t.memoizedState,s!==n||d!==c||UB.current||BR?("function"==typeof l&&(FR(t,r,l,n),c=t.memoizedState),(s=BR||zR(t,r,s,n,d,c,u))?(f||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||("function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"==typeof a.componentDidMount&&(t.effectTag|=4)):("function"==typeof a.componentDidMount&&(t.effectTag|=4),t.memoizedProps=n,t.memoizedState=c),a.props=n,a.state=c,a.context=u,n=s):("function"==typeof a.componentDidMount&&(t.effectTag|=4),n=!1)}else a=t.stateNode,PR(e,t),s=t.memoizedProps,a.props=t.type===t.elementType?s:wR(t.type,s),c=a.context,"object"==typeof(u=r.contextType)&&null!==u?u=IR(u):u=FB(t,u=VB(r)?jB:MB.current),(f="function"==typeof(l=r.getDerivedStateFromProps)||"function"==typeof a.getSnapshotBeforeUpdate)||"function"!=typeof a.UNSAFE_componentWillReceiveProps&&"function"!=typeof a.componentWillReceiveProps||(s!==n||c!==u)&&qR(t,a,n,u),BR=!1,c=t.memoizedState,a.state=c,LR(t,n,a,i),d=t.memoizedState,s!==n||c!==d||UB.current||BR?("function"==typeof l&&(FR(t,r,l,n),d=t.memoizedState),(l=BR||zR(t,r,s,n,c,d,u))?(f||"function"!=typeof a.UNSAFE_componentWillUpdate&&"function"!=typeof a.componentWillUpdate||("function"==typeof a.componentWillUpdate&&a.componentWillUpdate(n,d,u),"function"==typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,d,u)),"function"==typeof a.componentDidUpdate&&(t.effectTag|=4),"function"==typeof a.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=n,t.memoizedState=d),a.props=n,a.state=d,a.context=u,n=l):("function"!=typeof a.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),n=!1);return uN(e,t,r,n,o,i)}function uN(e,t,r,n,i,o){aN(e,t);var a=0!=(64&t.effectTag);if(!n&&!a)return i&&QB(t,r,!1),wN(e,t,o);n=t.stateNode,eN.current=t;var s=a&&"function"!=typeof r.getDerivedStateFromError?null:n.render();return t.effectTag|=1,null!==e&&a?(t.child=XR(t,e.child,null,o),t.child=XR(t,null,s,o)):rN(e,t,s,o),t.memoizedState=n.state,i&&QB(t,r,!0),t.child}function lN(e){var t=e.stateNode;t.pendingContext?KB(0,t.pendingContext,t.pendingContext!==t.context):t.context&&KB(0,t.context,!1),nP(e,t.containerInfo)}var fN,dN,pN,hN,gN={dehydrated:null,retryTime:0};function mN(e,t,r){var n,i=t.mode,o=t.pendingProps,a=sP.current,s=!1;if((n=0!=(64&t.effectTag))||(n=0!=(2&a)&&(null===e||null!==e.memoizedState)),n?(s=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===o.fallback||!0===o.unstable_avoidThisFallback||(a|=1),DB(sP,1&a),null===e){if(void 0!==o.fallback&&XP(t),s){if(s=o.fallback,(o=hD(null,i,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(r=hD(s,i,r,null)).return=t,o.sibling=r,t.memoizedState=gN,t.child=o,r}return i=o.children,t.memoizedState=null,t.child=$R(t,null,i,r)}if(null!==e.memoizedState){if(i=(e=e.child).sibling,s){if(o=o.fallback,(r=dD(e,e.pendingProps)).return=t,0==(2&t.mode)&&(s=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(r.child=s;null!==s;)s.return=r,s=s.sibling;return(i=dD(i,o)).return=t,r.sibling=i,r.childExpirationTime=0,t.memoizedState=gN,t.child=r,i}return r=XR(t,e.child,o.children,r),t.memoizedState=null,t.child=r}if(e=e.child,s){if(s=o.fallback,(o=hD(null,i,0,null)).return=t,o.child=e,null!==e&&(e.return=o),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,o.child=e;null!==e;)e.return=o,e=e.sibling;return(r=hD(s,i,r,null)).return=t,o.sibling=r,r.effectTag|=2,o.childExpirationTime=0,t.memoizedState=gN,t.child=o,r}return t.memoizedState=null,t.child=XR(t,e,o.children,r)}function vN(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t),TR(e.return,t)}function yN(e,t,r,n,i,o){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailExpiration:0,tailMode:i,lastEffect:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailExpiration=0,a.tailMode=i,a.lastEffect=o)}function bN(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(rN(e,t,n.children,r),0!=(2&(n=sP.current)))n=1&n|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&vN(e,r);else if(19===e.tag)vN(e,r);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(DB(sP,n),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===cP(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),yN(t,!1,i,r,o,t.lastEffect);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===cP(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}yN(t,!0,r,null,o,t.lastEffect);break;case"together":yN(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function wN(e,t,r){null!==e&&(t.dependencies=e.dependencies);var n=t.expirationTime;if(0!==n&&qO(n),t.childExpirationTime<r)return null;if(null!==e&&t.child!==e.child)throw Error(h_(153));if(null!==t.child){for(r=dD(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=dD(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function CN(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function EN(e,t,r){var n=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return VB(t.type)&&zB(),null;case 3:return iP(),OB(UB),OB(MB),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||!ZP(t)||(t.effectTag|=4),dN(t),null;case 5:aP(t),r=rP(tP.current);var i=t.type;if(null!==e&&null!=t.stateNode)pN(e,t,i,n,r),e.ref!==t.ref&&(t.effectTag|=128);else{if(!n){if(null===t.stateNode)throw Error(h_(166));return null}if(e=rP(JR.current),ZP(t)){n=t.stateNode,i=t.type;var o=t.memoizedProps;switch(n[Qx]=t,n[Wx]=o,i){case"iframe":case"object":case"embed":fx("load",n);break;case"video":case"audio":for(e=0;e<fT.length;e++)fx(fT[e],n);break;case"source":fx("error",n);break;case"img":case"image":case"link":fx("error",n),fx("load",n);break;case"form":fx("reset",n),fx("submit",n);break;case"details":fx("toggle",n);break;case"input":MA(n,o),fx("invalid",n),_x(r,"onChange");break;case"select":n._wrapperState={wasMultiple:!!o.multiple},fx("invalid",n),_x(r,"onChange");break;case"textarea":QA(n,o),fx("invalid",n),_x(r,"onChange")}for(var a in Ex(i,o),e=null,o)if(o.hasOwnProperty(a)){var s=o[a];"children"===a?"string"==typeof s?n.textContent!==s&&(e=["children",s]):"number"==typeof s&&n.textContent!==""+s&&(e=["children",""+s]):N_.hasOwnProperty(a)&&null!=s&&_x(r,a)}switch(i){case"input":OA(n),FA(n,o,!0);break;case"textarea":OA(n),GA(n);break;case"select":case"option":break;default:"function"==typeof o.onClick&&(n.onclick=Ax)}r=e,t.updateQueue=r,null!==r&&(t.effectTag|=4)}else{switch(a=9===r.nodeType?r:r.ownerDocument,e===Sx&&(e=XA(i)),e===Sx?"script"===i?((e=a.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof n.is?e=a.createElement(i,{is:n.is}):(e=a.createElement(i),"select"===i&&(a=e,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):e=a.createElementNS(e,i),e[Qx]=t,e[Wx]=n,fN(e,t,!1,!1),t.stateNode=e,a=kx(i,n),i){case"iframe":case"object":case"embed":fx("load",e),s=n;break;case"video":case"audio":for(s=0;s<fT.length;s++)fx(fT[s],e);s=n;break;case"source":fx("error",e),s=n;break;case"img":case"image":case"link":fx("error",e),fx("load",e),s=n;break;case"form":fx("reset",e),fx("submit",e),s=n;break;case"details":fx("toggle",e),s=n;break;case"input":MA(e,n),s=LA(e,n),fx("invalid",e),_x(r,"onChange");break;case"option":s=KA(e,n);break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ab({},n,{value:void 0}),fx("invalid",e),_x(r,"onChange");break;case"textarea":QA(e,n),s=HA(e,n),fx("invalid",e),_x(r,"onChange");break;default:s=n}Ex(i,s);var c=s;for(o in c)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?wx(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&eT(e,u):"children"===o?"string"==typeof u?("textarea"!==i||""!==u)&&tT(e,u):"number"==typeof u&&tT(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(N_.hasOwnProperty(o)?null!=u&&_x(r,o):null!=u&&uA(e,o,u,a))}switch(i){case"input":OA(e),FA(e,n,!1);break;case"textarea":OA(e),GA(e);break;case"option":null!=n.value&&e.setAttribute("value",""+RA(n.value));break;case"select":e.multiple=!!n.multiple,null!=(r=n.value)?qA(e,!!n.multiple,r,!1):null!=n.defaultValue&&qA(e,!!n.multiple,n.defaultValue,!0);break;default:"function"==typeof s.onClick&&(e.onclick=Ax)}jx(i,n)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)hN(e,t,e.memoizedProps,n);else{if("string"!=typeof n&&null===t.stateNode)throw Error(h_(166));r=rP(tP.current),rP(JR.current),ZP(t)?(r=t.stateNode,n=t.memoizedProps,r[Qx]=t,r.nodeValue!==n&&(t.effectTag|=4)):((r=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[Qx]=t,t.stateNode=r)}return null;case 13:return OB(sP),n=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=r,t):(r=null!==n,n=!1,null===e?void 0!==t.memoizedProps.fallback&&ZP(t):(n=null!==(i=e.memoizedState),r||null===i||null!==(i=e.child.sibling)&&(null!==(o=t.firstEffect)?(t.firstEffect=i,i.nextEffect=o):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),r&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&sP.current)?uO===JN&&(uO=rO):(uO!==JN&&uO!==rO||(uO=nO),0!==hO&&null!==aO&&(bD(aO,cO),wD(aO,hO)))),(r||n)&&(t.effectTag|=4),null);case 4:return iP(),dN(t),null;case 10:return AR(t),null;case 17:return VB(t.type)&&zB(),null;case 19:if(OB(sP),null===(n=t.memoizedState))return null;if(i=0!=(64&t.effectTag),null===(o=n.rendering)){if(i)CN(n,!1);else if(uO!==JN||null!==e&&0!=(64&e.effectTag))for(o=t.child;null!==o;){if(null!==(e=cP(o))){for(t.effectTag|=64,CN(n,!1),null!==(i=e.updateQueue)&&(t.updateQueue=i,t.effectTag|=4),null===n.lastEffect&&(t.firstEffect=null),t.lastEffect=n.lastEffect,n=t.child;null!==n;)o=r,(i=n).effectTag&=2,i.nextEffect=null,i.firstEffect=null,i.lastEffect=null,null===(e=i.alternate)?(i.childExpirationTime=0,i.expirationTime=o,i.child=null,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null):(i.childExpirationTime=e.childExpirationTime,i.expirationTime=e.expirationTime,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,o=e.dependencies,i.dependencies=null===o?null:{expirationTime:o.expirationTime,firstContext:o.firstContext,responders:o.responders}),n=n.sibling;return DB(sP,1&sP.current|2),t.child}o=o.sibling}}else{if(!i)if(null!==(e=cP(o))){if(t.effectTag|=64,i=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.effectTag|=4),CN(n,!0),null===n.tail&&"hidden"===n.tailMode&&!o.alternate)return null!==(t=t.lastEffect=n.lastEffect)&&(t.nextEffect=null),null}else 2*fR()-n.renderingStartTime>n.tailExpiration&&1<r&&(t.effectTag|=64,i=!0,CN(n,!1),t.expirationTime=t.childExpirationTime=r-1);n.isBackwards?(o.sibling=t.child,t.child=o):(null!==(r=n.last)?r.sibling=o:t.child=o,n.last=o)}return null!==n.tail?(0===n.tailExpiration&&(n.tailExpiration=fR()+500),r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=t.lastEffect,n.renderingStartTime=fR(),r.sibling=null,t=sP.current,DB(sP,i?1&t|2:1&t),r):null}throw Error(h_(156,t.tag))}function kN(e){switch(e.tag){case 1:VB(e.type)&&zB();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(iP(),OB(UB),OB(MB),0!=(64&(t=e.effectTag)))throw Error(h_(285));return e.effectTag=-4097&t|64,e;case 5:return aP(e),null;case 13:return OB(sP),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return OB(sP),null;case 4:return iP(),null;case 10:return AR(e),null;default:return null}}function SN(e,t){return{value:e,source:t,stack:BA(t)}}fN=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},dN=function(){},pN=function(e,t,r,n,i){var o=e.memoizedProps;if(o!==n){var a,s,c=t.stateNode;switch(rP(JR.current),e=null,r){case"input":o=LA(c,o),n=LA(c,n),e=[];break;case"option":o=KA(c,o),n=KA(c,n),e=[];break;case"select":o=ab({},o,{value:void 0}),n=ab({},n,{value:void 0}),e=[];break;case"textarea":o=HA(c,o),n=HA(c,n),e=[];break;default:"function"!=typeof o.onClick&&"function"==typeof n.onClick&&(c.onclick=Ax)}for(a in Ex(r,n),r=null,o)if(!n.hasOwnProperty(a)&&o.hasOwnProperty(a)&&null!=o[a])if("style"===a)for(s in c=o[a])c.hasOwnProperty(s)&&(r||(r={}),r[s]="");else"dangerouslySetInnerHTML"!==a&&"children"!==a&&"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(N_.hasOwnProperty(a)?e||(e=[]):(e=e||[]).push(a,null));for(a in n){var u=n[a];if(c=null!=o?o[a]:void 0,n.hasOwnProperty(a)&&u!==c&&(null!=u||null!=c))if("style"===a)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(r||(r={}),r[s]=u[s])}else r||(e||(e=[]),e.push(a,r)),r=u;else"dangerouslySetInnerHTML"===a?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(a,u)):"children"===a?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(a,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&(N_.hasOwnProperty(a)?(null!=u&&_x(i,a),e||c===u||(e=[])):(e=e||[]).push(a,u))}r&&(e=e||[]).push("style",r),i=e,(t.updateQueue=i)&&(t.effectTag|=4)}},hN=function(e,t,r,n){r!==n&&(t.effectTag|=4)};var _N="function"==typeof WeakSet?WeakSet:Set;function AN(e,t){var r=t.source,n=t.stack;null===n&&null!==r&&(n=BA(r)),null!==r&&IA(r.type),t=t.value,null!==e&&1===e.tag&&IA(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function TN(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){rD(e,t)}}function xN(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){rD(e,t)}else t.current=null}function IN(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var r=e.memoizedProps,n=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?r:wR(t.type,r),n),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(h_(163))}function BN(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.destroy;r.destroy=void 0,void 0!==n&&n()}r=r.next}while(r!==t)}}function RN(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function PN(e,t,r){switch(r.tag){case 0:case 11:case 15:case 22:return void RN(3,r);case 1:if(e=r.stateNode,4&r.effectTag)if(null===t)e.componentDidMount();else{var n=r.elementType===r.type?t.memoizedProps:wR(r.type,t.memoizedProps);e.componentDidUpdate(n,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=r.updateQueue)&&MR(r,t,e));case 3:if(null!==(t=r.updateQueue)){if(e=null,null!==r.child)switch(r.child.tag){case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}MR(r,t,e)}return;case 5:return e=r.stateNode,void(null===t&&4&r.effectTag&&jx(r.type,r.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===r.memoizedState&&(r=r.alternate,null!==r&&(r=r.memoizedState,null!==r&&(r=r.dehydrated,null!==r&&ex(r)))));case 19:case 17:case 20:case 21:return}throw Error(h_(163))}function NN(e,t,r){switch("function"==typeof aD&&aD(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e.next;hR(97<r?97:r,(function(){var e=n;do{var r=e.destroy;if(void 0!==r){var i=t;try{r()}catch(e){rD(i,e)}}e=e.next}while(e!==n)}))}break;case 1:xN(t),"function"==typeof(r=t.stateNode).componentWillUnmount&&TN(t,r);break;case 5:xN(t);break;case 4:jN(e,t,r)}}function ON(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ON(t)}function DN(e){return 5===e.tag||3===e.tag||4===e.tag}function LN(e){e:{for(var t=e.return;null!==t;){if(DN(t)){var r=t;break e}t=t.return}throw Error(h_(160))}switch(t=r.stateNode,r.tag){case 5:var n=!1;break;case 3:case 4:t=t.containerInfo,n=!0;break;default:throw Error(h_(161))}16&r.effectTag&&(tT(t,""),r.effectTag&=-17);e:t:for(r=e;;){for(;null===r.sibling;){if(null===r.return||DN(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;5!==r.tag&&6!==r.tag&&18!==r.tag;){if(2&r.effectTag)continue t;if(null===r.child||4===r.tag)continue t;r.child.return=r,r=r.child}if(!(2&r.effectTag)){r=r.stateNode;break e}}n?MN(e,r,t):UN(e,r,t)}function MN(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!=(r=r._reactRootContainer)||null!==t.onclick||(t.onclick=Ax));else if(4!==n&&null!==(e=e.child))for(MN(e,t,r),e=e.sibling;null!==e;)MN(e,t,r),e=e.sibling}function UN(e,t,r){var n=e.tag,i=5===n||6===n;if(i)e=i?e.stateNode:e.stateNode.instance,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(UN(e,t,r),e=e.sibling;null!==e;)UN(e,t,r),e=e.sibling}function jN(e,t,r){for(var n,i,o=t,a=!1;;){if(!a){a=o.return;e:for(;;){if(null===a)throw Error(h_(160));switch(n=a.stateNode,a.tag){case 5:i=!1;break e;case 3:case 4:n=n.containerInfo,i=!0;break e}a=a.return}a=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,u=r,l=c;;)if(NN(s,l,u),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===c)break e;for(;null===l.sibling;){if(null===l.return||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}i?(s=n,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):n.removeChild(o.stateNode)}else if(4===o.tag){if(null!==o.child){n=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(NN(e,o,r),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(a=!1)}o.sibling.return=o.return,o=o.sibling}}function FN(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void BN(3,t);case 1:return;case 5:var r=t.stateNode;if(null!=r){var n=t.memoizedProps,i=null!==e?e.memoizedProps:n;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for(r[Wx]=n,"input"===e&&"radio"===n.type&&null!=n.name&&UA(r,n),kx(e,i),t=kx(e,n),i=0;i<o.length;i+=2){var a=o[i],s=o[i+1];"style"===a?wx(r,s):"dangerouslySetInnerHTML"===a?eT(r,s):"children"===a?tT(r,s):uA(r,a,s,t)}switch(e){case"input":jA(r,n);break;case"textarea":WA(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,null!=(e=n.value)?qA(r,!!n.multiple,e,!1):t!==!!n.multiple&&(null!=n.defaultValue?qA(r,!!n.multiple,n.defaultValue,!0):qA(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(h_(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,ex(t.containerInfo)));case 12:return;case 13:if(r=t,null===t.memoizedState?n=!1:(n=!0,r=t.child,mO=fR()),null!==r)e:for(e=r;;){if(5===e.tag)o=e.stateNode,n?"function"==typeof(o=o.style).setProperty?o.setProperty("display","none","important"):o.display="none":(o=e.stateNode,i=null!=(i=e.memoizedProps.style)&&i.hasOwnProperty("display")?i.display:null,o.style.display=bx("display",i));else if(6===e.tag)e.stateNode.nodeValue=n?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(o=e.child.sibling).return=e,e=o;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===r)break;for(;null===e.sibling;){if(null===e.return||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void VN(t);case 19:return void VN(t);case 17:return}throw Error(h_(163))}function VN(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new _N),t.forEach((function(t){var n=iD.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}var zN="function"==typeof WeakMap?WeakMap:Map;function KN(e,t,r){(r=NR(r,null)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){bO||(bO=!0,wO=n),AN(e,t)},r}function qN(e,t,r){(r=NR(r,null)).tag=3;var n=e.type.getDerivedStateFromError;if("function"==typeof n){var i=t.value;r.payload=function(){return AN(e,t),n(i)}}var o=e.stateNode;return null!==o&&"function"==typeof o.componentDidCatch&&(r.callback=function(){"function"!=typeof n&&(null===CO?CO=new Set([this]):CO.add(this),AN(e,t));var r=t.stack;this.componentDidCatch(t.value,{componentStack:null!==r?r:""})}),r}var HN,QN=Math.ceil,WN=cA.ReactCurrentDispatcher,GN=cA.ReactCurrentOwner,YN=0,XN=8,$N=16,ZN=32,JN=0,eO=1,tO=2,rO=3,nO=4,iO=5,oO=YN,aO=null,sO=null,cO=0,uO=JN,lO=null,fO=1073741823,dO=1073741823,pO=null,hO=0,gO=!1,mO=0,vO=500,yO=null,bO=!1,wO=null,CO=null,EO=!1,kO=null,SO=90,_O=null,AO=0,TO=null,xO=0;function IO(){return(oO&($N|ZN))!==YN?1073741821-(fR()/10|0):0!==xO?xO:xO=1073741821-(fR()/10|0)}function BO(e,t,r){if(0==(2&(t=t.mode)))return 1073741823;var n=dR();if(0==(4&t))return 99===n?1073741823:1073741822;if((oO&$N)!==YN)return cO;if(null!==r)e=bR(e,0|r.timeoutMs||5e3,250);else switch(n){case 99:e=1073741823;break;case 98:e=bR(e,150,100);break;case 97:case 96:e=bR(e,5e3,250);break;case 95:e=2;break;default:throw Error(h_(326))}return null!==aO&&e===cO&&--e,e}function RO(e,t){if(50<AO)throw AO=0,TO=null,Error(h_(185));if(null!==(e=PO(e,t))){var r=dR();1073741823===t?(oO&XN)!==YN&&(oO&($N|ZN))===YN?LO(e):(OO(e),oO===YN&&vR()):OO(e),(4&oO)===YN||98!==r&&99!==r||(null===_O?_O=new Map([[e,t]]):(void 0===(r=_O.get(e))||r>t)&&_O.set(e,t))}}function PO(e,t){e.expirationTime<t&&(e.expirationTime=t);var r=e.alternate;null!==r&&r.expirationTime<t&&(r.expirationTime=t);var n=e.return,i=null;if(null===n&&3===e.tag)i=e.stateNode;else for(;null!==n;){if(r=n.alternate,n.childExpirationTime<t&&(n.childExpirationTime=t),null!==r&&r.childExpirationTime<t&&(r.childExpirationTime=t),null===n.return&&3===n.tag){i=n.stateNode;break}n=n.return}return null!==i&&(aO===i&&(qO(t),uO===nO&&bD(i,cO)),wD(i,t)),i}function NO(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!yD(e,t=e.firstPendingTime))return t;var r=e.lastPingedTime;return 2>=(e=r>(e=e.nextKnownPendingLevel)?r:e)&&t!==e?0:e}function OO(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=mR(LO.bind(null,e));else{var t=NO(e),r=e.callbackNode;if(0===t)null!==r&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var n=IO();if(1073741823===t?n=99:1===t||2===t?n=95:n=0>=(n=10*(1073741821-t)-10*(1073741821-n))?99:250>=n?98:5250>=n?97:95,null!==r){var i=e.callbackPriority;if(e.callbackExpirationTime===t&&i>=n)return;r!==iR&&YB(r)}e.callbackExpirationTime=t,e.callbackPriority=n,t=1073741823===t?mR(LO.bind(null,e)):gR(n,DO.bind(null,e),{timeout:10*(1073741821-t)-fR()}),e.callbackNode=t}}}function DO(e,t){if(xO=0,t)return CD(e,t=IO()),OO(e),null;var r=NO(e);if(0!==r){if(t=e.callbackNode,(oO&($N|ZN))!==YN)throw Error(h_(327));if(JO(),e===aO&&r===cO||FO(e,r),null!==sO){var n=oO;oO|=$N;for(var i=zO();;)try{QO();break}catch(t){VO(e,t)}if(_R(),oO=n,WN.current=i,uO===eO)throw t=lO,FO(e,r),bD(e,r),OO(e),t;if(null===sO)switch(i=e.finishedWork=e.current.alternate,e.finishedExpirationTime=r,n=uO,aO=null,n){case JN:case eO:throw Error(h_(345));case tO:CD(e,2<r?2:r);break;case rO:if(bD(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=YO(i)),1073741823===fO&&10<(i=mO+vO-fR())){if(gO){var o=e.lastPingedTime;if(0===o||o>=r){e.lastPingedTime=r,FO(e,r);break}}if(0!==(o=NO(e))&&o!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}e.timeoutHandle=Vx(XO.bind(null,e),i);break}XO(e);break;case nO:if(bD(e,r),r===(n=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=YO(i)),gO&&(0===(i=e.lastPingedTime)||i>=r)){e.lastPingedTime=r,FO(e,r);break}if(0!==(i=NO(e))&&i!==r)break;if(0!==n&&n!==r){e.lastPingedTime=n;break}if(1073741823!==dO?n=10*(1073741821-dO)-fR():1073741823===fO?n=0:(n=10*(1073741821-fO)-5e3,0>(n=(i=fR())-n)&&(n=0),(r=10*(1073741821-r)-i)<(n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*QN(n/1960))-n)&&(n=r)),10<n){e.timeoutHandle=Vx(XO.bind(null,e),n);break}XO(e);break;case iO:if(1073741823!==fO&&null!==pO){o=fO;var a=pO;if(0>=(n=0|a.busyMinDurationMs)?n=0:(i=0|a.busyDelayMs,n=(o=fR()-(10*(1073741821-o)-(0|a.timeoutMs||5e3)))<=i?0:i+n-o),10<n){bD(e,r),e.timeoutHandle=Vx(XO.bind(null,e),n);break}}XO(e);break;default:throw Error(h_(329))}if(OO(e),e.callbackNode===t)return DO.bind(null,e)}}return null}function LO(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,(oO&($N|ZN))!==YN)throw Error(h_(327));if(JO(),e===aO&&t===cO||FO(e,t),null!==sO){var r=oO;oO|=$N;for(var n=zO();;)try{HO();break}catch(t){VO(e,t)}if(_R(),oO=r,WN.current=n,uO===eO)throw r=lO,FO(e,t),bD(e,t),OO(e),r;if(null!==sO)throw Error(h_(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,aO=null,XO(e),OO(e)}return null}function MO(){if(null!==_O){var e=_O;_O=null,e.forEach((function(e,t){CD(t,e),OO(t)})),vR()}}function UO(e,t){var r=oO;oO|=1;try{return e(t)}finally{(oO=r)===YN&&vR()}}function jO(e,t){var r=oO;oO&=-2,oO|=XN;try{return e(t)}finally{(oO=r)===YN&&vR()}}function FO(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,zx(r)),null!==sO)for(r=sO.return;null!==r;){var n=r;switch(n.tag){case 1:null!=(n=n.type.childContextTypes)&&zB();break;case 3:iP(),OB(UB),OB(MB);break;case 5:aP(n);break;case 4:iP();break;case 13:case 19:OB(sP);break;case 10:AR(n)}r=r.return}aO=e,sO=dD(e.current,null),cO=t,uO=JN,lO=null,dO=fO=1073741823,pO=null,hO=0,gO=!1}function VO(e,t){for(;;){try{if(_R(),lP.current=VP,mP)for(var r=pP.memoizedState;null!==r;){var n=r.queue;null!==n&&(n.pending=null),r=r.next}if(dP=0,gP=hP=pP=null,mP=!1,null===sO||null===sO.return)return uO=eO,lO=t,sO=null;e:{var i=e,o=sO.return,a=sO,s=t;if(t=cO,a.effectTag|=2048,a.firstEffect=a.lastEffect=null,null!==s&&"object"==typeof s&&"function"==typeof s.then){var c=s;if(0==(2&a.mode)){var u=a.alternate;u?(a.updateQueue=u.updateQueue,a.memoizedState=u.memoizedState,a.expirationTime=u.expirationTime):(a.updateQueue=null,a.memoizedState=null)}var l=0!=(1&sP.current),f=o;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var h=f.memoizedProps;d=void 0!==h.fallback&&(!0!==h.unstable_avoidThisFallback||!l)}}if(d){var g=f.updateQueue;if(null===g){var m=new Set;m.add(c),f.updateQueue=m}else g.add(c);if(0==(2&f.mode)){if(f.effectTag|=64,a.effectTag&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=NR(1073741823,null);v.tag=2,OR(a,v)}a.expirationTime=1073741823;break e}s=void 0,a=t;var y=i.pingCache;if(null===y?(y=i.pingCache=new zN,s=new Set,y.set(c,s)):void 0===(s=y.get(c))&&(s=new Set,y.set(c,s)),!s.has(a)){s.add(a);var b=nD.bind(null,i,c,a);c.then(b,b)}f.effectTag|=4096,f.expirationTime=t;break e}f=f.return}while(null!==f);s=Error((IA(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+BA(a))}uO!==iO&&(uO=tO),s=SN(s,a),f=o;do{switch(f.tag){case 3:c=s,f.effectTag|=4096,f.expirationTime=t,DR(f,KN(f,c,t));break e;case 1:c=s;var w=f.type,C=f.stateNode;if(0==(64&f.effectTag)&&("function"==typeof w.getDerivedStateFromError||null!==C&&"function"==typeof C.componentDidCatch&&(null===CO||!CO.has(C)))){f.effectTag|=4096,f.expirationTime=t,DR(f,qN(f,c,t));break e}}f=f.return}while(null!==f)}sO=GO(sO)}catch(e){t=e;continue}break}}function zO(){var e=WN.current;return WN.current=VP,null===e?VP:e}function KO(e,t){e<fO&&2<e&&(fO=e),null!==t&&e<dO&&2<e&&(dO=e,pO=t)}function qO(e){e>hO&&(hO=e)}function HO(){for(;null!==sO;)sO=WO(sO)}function QO(){for(;null!==sO&&!oR();)sO=WO(sO)}function WO(e){var t=HN(e.alternate,e,cO);return e.memoizedProps=e.pendingProps,null===t&&(t=GO(e)),GN.current=null,t}function GO(e){sO=e;do{var t=sO.alternate;if(e=sO.return,0==(2048&sO.effectTag)){if(t=EN(t,sO,cO),1===cO||1!==sO.childExpirationTime){for(var r=0,n=sO.child;null!==n;){var i=n.expirationTime,o=n.childExpirationTime;i>r&&(r=i),o>r&&(r=o),n=n.sibling}sO.childExpirationTime=r}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=sO.firstEffect),null!==sO.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=sO.firstEffect),e.lastEffect=sO.lastEffect),1<sO.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=sO:e.firstEffect=sO,e.lastEffect=sO))}else{if(null!==(t=kN(sO)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=sO.sibling))return t;sO=e}while(null!==sO);return uO===JN&&(uO=iO),null}function YO(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function XO(e){var t=dR();return hR(99,$O.bind(null,e,t)),null}function $O(e,t){do{JO()}while(null!==kO);if((oO&($N|ZN))!==YN)throw Error(h_(327));var r=e.finishedWork,n=e.finishedExpirationTime;if(null===r)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,r===e.current)throw Error(h_(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var i=YO(r);if(e.firstPendingTime=i,n<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:n<=e.firstSuspendedTime&&(e.firstSuspendedTime=n-1),n<=e.lastPingedTime&&(e.lastPingedTime=0),n<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===aO&&(sO=aO=null,cO=0),1<r.effectTag?null!==r.lastEffect?(r.lastEffect.nextEffect=r,i=r.firstEffect):i=r:i=r.firstEffect,null!==i){var o=oO;oO|=ZN,GN.current=null,Mx=lx;var a=Rx();if(Px(a)){if("selectionStart"in a)var s={start:a.selectionStart,end:a.selectionEnd};else e:{var c=(s=(s=a.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(c&&0!==c.rangeCount){s=c.anchorNode;var u=c.anchorOffset,l=c.focusNode;c=c.focusOffset;try{s.nodeType,l.nodeType}catch(e){s=null;break e}var f=0,d=-1,p=-1,h=0,g=0,m=a,v=null;t:for(;;){for(var y;m!==s||0!==u&&3!==m.nodeType||(d=f+u),m!==l||0!==c&&3!==m.nodeType||(p=f+c),3===m.nodeType&&(f+=m.nodeValue.length),null!==(y=m.firstChild);)v=m,m=y;for(;;){if(m===a)break t;if(v===s&&++h===u&&(d=f),v===l&&++g===c&&(p=f),null!==(y=m.nextSibling))break;v=(m=v).parentNode}m=y}s=-1===d||-1===p?null:{start:d,end:p}}else s=null}s=s||{start:0,end:0}}else s=null;Ux={activeElementDetached:null,focusedElem:a,selectionRange:s},lx=!1,yO=i;do{try{ZO()}catch(e){if(null===yO)throw Error(h_(330));rD(yO,e),yO=yO.nextEffect}}while(null!==yO);yO=i;do{try{for(a=e,s=t;null!==yO;){var b=yO.effectTag;if(16&b&&tT(yO.stateNode,""),128&b){var w=yO.alternate;if(null!==w){var C=w.ref;null!==C&&("function"==typeof C?C(null):C.current=null)}}switch(1038&b){case 2:LN(yO),yO.effectTag&=-3;break;case 6:LN(yO),yO.effectTag&=-3,FN(yO.alternate,yO);break;case 1024:yO.effectTag&=-1025;break;case 1028:yO.effectTag&=-1025,FN(yO.alternate,yO);break;case 4:FN(yO.alternate,yO);break;case 8:jN(a,u=yO,s),ON(u)}yO=yO.nextEffect}}catch(e){if(null===yO)throw Error(h_(330));rD(yO,e),yO=yO.nextEffect}}while(null!==yO);if(C=Ux,w=Rx(),b=C.focusedElem,s=C.selectionRange,w!==b&&b&&b.ownerDocument&&Bx(b.ownerDocument.documentElement,b)){null!==s&&Px(b)&&(w=s.start,void 0===(C=s.end)&&(C=w),"selectionStart"in b?(b.selectionStart=w,b.selectionEnd=Math.min(C,b.value.length)):(C=(w=b.ownerDocument||document)&&w.defaultView||window).getSelection&&(C=C.getSelection(),u=b.textContent.length,a=Math.min(s.start,u),s=void 0===s.end?a:Math.min(s.end,u),!C.extend&&a>s&&(u=s,s=a,a=u),u=Ix(b,a),l=Ix(b,s),u&&l&&(1!==C.rangeCount||C.anchorNode!==u.node||C.anchorOffset!==u.offset||C.focusNode!==l.node||C.focusOffset!==l.offset)&&((w=w.createRange()).setStart(u.node,u.offset),C.removeAllRanges(),a>s?(C.addRange(w),C.extend(l.node,l.offset)):(w.setEnd(l.node,l.offset),C.addRange(w))))),w=[];for(C=b;C=C.parentNode;)1===C.nodeType&&w.push({element:C,left:C.scrollLeft,top:C.scrollTop});for("function"==typeof b.focus&&b.focus(),b=0;b<w.length;b++)(C=w[b]).element.scrollLeft=C.left,C.element.scrollTop=C.top}lx=!!Mx,Ux=Mx=null,e.current=r,yO=i;do{try{for(b=e;null!==yO;){var E=yO.effectTag;if(36&E&&PN(b,yO.alternate,yO),128&E){w=void 0;var k=yO.ref;if(null!==k){var S=yO.stateNode;switch(yO.tag){case 5:w=S;break;default:w=S}"function"==typeof k?k(w):k.current=w}}yO=yO.nextEffect}}catch(e){if(null===yO)throw Error(h_(330));rD(yO,e),yO=yO.nextEffect}}while(null!==yO);yO=null,aR(),oO=o}else e.current=r;if(EO)EO=!1,kO=e,SO=t;else for(yO=i;null!==yO;)t=yO.nextEffect,yO.nextEffect=null,yO=t;if(0===(t=e.firstPendingTime)&&(CO=null),1073741823===t?e===TO?AO++:(AO=0,TO=e):AO=0,"function"==typeof oD&&oD(r.stateNode,n),OO(e),bO)throw bO=!1,e=wO,wO=null,e;return(oO&XN)!==YN||vR(),null}function ZO(){for(;null!==yO;){var e=yO.effectTag;0!=(256&e)&&IN(yO.alternate,yO),0==(512&e)||EO||(EO=!0,gR(97,(function(){return JO(),null}))),yO=yO.nextEffect}}function JO(){if(90!==SO){var e=97<SO?97:SO;return SO=90,hR(e,eD)}}function eD(){if(null===kO)return!1;var e=kO;if(kO=null,(oO&($N|ZN))!==YN)throw Error(h_(331));var t=oO;for(oO|=ZN,e=e.current.firstEffect;null!==e;){try{var r=e;if(0!=(512&r.effectTag))switch(r.tag){case 0:case 11:case 15:case 22:BN(5,r),RN(5,r)}}catch(t){if(null===e)throw Error(h_(330));rD(e,t)}r=e.nextEffect,e.nextEffect=null,e=r}return oO=t,vR(),!0}function tD(e,t,r){OR(e,t=KN(e,t=SN(r,t),1073741823)),null!==(e=PO(e,1073741823))&&OO(e)}function rD(e,t){if(3===e.tag)tD(e,e,t);else for(var r=e.return;null!==r;){if(3===r.tag){tD(r,e,t);break}if(1===r.tag){var n=r.stateNode;if("function"==typeof r.type.getDerivedStateFromError||"function"==typeof n.componentDidCatch&&(null===CO||!CO.has(n))){OR(r,e=qN(r,e=SN(t,e),1073741823)),null!==(r=PO(r,1073741823))&&OO(r);break}}r=r.return}}function nD(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),aO===e&&cO===r?uO===nO||uO===rO&&1073741823===fO&&fR()-mO<vO?FO(e,cO):gO=!0:yD(e,r)&&(0!==(t=e.lastPingedTime)&&t<r||(e.lastPingedTime=r,OO(e)))}function iD(e,t){var r=e.stateNode;null!==r&&r.delete(t),0===(t=0)&&(t=BO(t=IO(),e,null)),null!==(e=PO(e,t))&&OO(e)}HN=function(e,t,r){var n=t.expirationTime;if(null!==e){var i=t.pendingProps;if(e.memoizedProps!==i||UB.current)tN=!0;else{if(n<r){switch(tN=!1,t.tag){case 3:lN(t),JP();break;case 5:if(oP(t),4&t.mode&&1!==r&&i.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:VB(t.type)&&HB(t);break;case 4:nP(t,t.stateNode.containerInfo);break;case 10:n=t.memoizedProps.value,i=t.type._context,DB(CR,i._currentValue),i._currentValue=n;break;case 13:if(null!==t.memoizedState)return 0!==(n=t.child.childExpirationTime)&&n>=r?mN(e,t,r):(DB(sP,1&sP.current),null!==(t=wN(e,t,r))?t.sibling:null);DB(sP,1&sP.current);break;case 19:if(n=t.childExpirationTime>=r,0!=(64&e.effectTag)){if(n)return bN(e,t,r);t.effectTag|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null),DB(sP,sP.current),!n)return null}return wN(e,t,r)}tN=!1}}else tN=!1;switch(t.expirationTime=0,t.tag){case 2:if(n=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,i=FB(t,MB.current),xR(t,r),i=bP(null,t,n,e,i,r),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,VB(n)){var o=!0;HB(t)}else o=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,RR(t);var a=n.getDerivedStateFromProps;"function"==typeof a&&FR(t,n,a,e),i.updater=VR,t.stateNode=i,i._reactInternalFiber=t,HR(t,n,e,r),t=uN(null,t,n,!0,o,r)}else t.tag=0,rN(null,t,i,r),t=t.child;return t;case 16:e:{if(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,xA(i),1!==i._status)throw i._result;switch(i=i._result,t.type=i,o=t.tag=fD(i),e=wR(i,e),o){case 0:t=sN(null,t,i,e,r);break e;case 1:t=cN(null,t,i,e,r);break e;case 11:t=nN(null,t,i,e,r);break e;case 14:t=iN(null,t,i,wR(i.type,e),n,r);break e}throw Error(h_(306,i,""))}return t;case 0:return n=t.type,i=t.pendingProps,sN(e,t,n,i=t.elementType===n?i:wR(n,i),r);case 1:return n=t.type,i=t.pendingProps,cN(e,t,n,i=t.elementType===n?i:wR(n,i),r);case 3:if(lN(t),n=t.updateQueue,null===e||null===n)throw Error(h_(282));if(n=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,PR(e,t),LR(t,n,null,r),(n=t.memoizedState.element)===i)JP(),t=wN(e,t,r);else{if((i=t.stateNode.hydrate)&&(QP=Kx(t.stateNode.containerInfo.firstChild),HP=t,i=WP=!0),i)for(r=$R(t,null,n,r),t.child=r;r;)r.effectTag=-3&r.effectTag|1024,r=r.sibling;else rN(e,t,n,r),JP();t=t.child}return t;case 5:return oP(t),null===e&&XP(t),n=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,Fx(n,i)?a=null:null!==o&&Fx(n,o)&&(t.effectTag|=16),aN(e,t),4&t.mode&&1!==r&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(rN(e,t,a,r),t=t.child),t;case 6:return null===e&&XP(t),null;case 13:return mN(e,t,r);case 4:return nP(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=XR(t,null,n,r):rN(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,nN(e,t,n,i=t.elementType===n?i:wR(n,i),r);case 7:return rN(e,t,t.pendingProps,r),t.child;case 8:case 12:return rN(e,t,t.pendingProps.children,r),t.child;case 10:e:{n=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value;var s=t.type._context;if(DB(CR,s._currentValue),s._currentValue=o,null!==a)if(s=a.value,0===(o=cB(s,o)?0:0|("function"==typeof n._calculateChangedBits?n._calculateChangedBits(s,o):1073741823))){if(a.children===i.children&&!UB.current){t=wN(e,t,r);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){a=s.child;for(var u=c.firstContext;null!==u;){if(u.context===n&&0!=(u.observedBits&o)){1===s.tag&&((u=NR(r,null)).tag=2,OR(s,u)),s.expirationTime<r&&(s.expirationTime=r),null!==(u=s.alternate)&&u.expirationTime<r&&(u.expirationTime=r),TR(s.return,r),c.expirationTime<r&&(c.expirationTime=r);break}u=u.next}}else a=10===s.tag&&s.type===t.type?null:s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}rN(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=(o=t.pendingProps).children,xR(t,r),n=n(i=IR(i,o.unstable_observedBits)),t.effectTag|=1,rN(e,t,n,r),t.child;case 14:return o=wR(i=t.type,t.pendingProps),iN(e,t,i,o=wR(i.type,o),n,r);case 15:return oN(e,t,t.type,t.pendingProps,n,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:wR(n,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,VB(n)?(e=!0,HB(t)):e=!1,xR(t,r),KR(t,n,i),HR(t,n,i,r),uN(null,t,n,!0,e,r);case 19:return bN(e,t,r)}throw Error(h_(156,t.tag))};var oD=null,aD=null;function sD(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var r=t.inject(e);oD=function(e){try{t.onCommitFiberRoot(r,e,void 0,64==(64&e.current.effectTag))}catch(e){}},aD=function(e){try{t.onCommitFiberUnmount(r,e)}catch(e){}}}catch(e){}return!0}function cD(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function uD(e,t,r,n){return new cD(e,t,r,n)}function lD(e){return!(!(e=e.prototype)||!e.isReactComponent)}function fD(e){if("function"==typeof e)return lD(e)?1:0;if(null!=e){if((e=e.$$typeof)===wA)return 11;if(e===kA)return 14}return 2}function dD(e,t){var r=e.alternate;return null===r?((r=uD(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.effectTag=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childExpirationTime=e.childExpirationTime,r.expirationTime=e.expirationTime,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function pD(e,t,r,n,i,o){var a=2;if(n=e,"function"==typeof e)lD(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case hA:return hD(r.children,i,o,t);case bA:a=8,i|=7;break;case gA:a=8,i|=1;break;case mA:return(e=uD(12,r,t,8|i)).elementType=mA,e.type=mA,e.expirationTime=o,e;case CA:return(e=uD(13,r,t,i)).type=CA,e.elementType=CA,e.expirationTime=o,e;case EA:return(e=uD(19,r,t,i)).elementType=EA,e.expirationTime=o,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case vA:a=10;break e;case yA:a=9;break e;case wA:a=11;break e;case kA:a=14;break e;case SA:a=16,n=null;break e;case _A:a=22;break e}throw Error(h_(130,null==e?e:typeof e,""))}return(t=uD(a,r,t,i)).elementType=e,t.type=n,t.expirationTime=o,t}function hD(e,t,r,n){return(e=uD(7,e,n,t)).expirationTime=r,e}function gD(e,t,r){return(e=uD(6,e,null,t)).expirationTime=r,e}function mD(e,t,r){return(t=uD(4,null!==e.children?e.children:[],e.key,t)).expirationTime=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function vD(e,t,r){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function yD(e,t){var r=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==r&&r>=t&&e<=t}function bD(e,t){var r=e.firstSuspendedTime,n=e.lastSuspendedTime;r<t&&(e.firstSuspendedTime=t),(n>t||0===r)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function wD(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var r=e.firstSuspendedTime;0!==r&&(t>=r?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function CD(e,t){var r=e.lastExpiredTime;(0===r||r>t)&&(e.lastExpiredTime=t)}function ED(e,t,r,n){var i=t.current,o=IO(),a=UR.suspense;o=BO(o,i,a);e:if(r){t:{if(hT(r=r._reactInternalFiber)!==r||1!==r.tag)throw Error(h_(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(VB(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(h_(171))}if(1===r.tag){var c=r.type;if(VB(c)){r=qB(r,c,s);break e}}r=s}else r=LB;return null===t.context?t.context=r:t.pendingContext=r,(t=NR(o,a)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),OR(i,t),RO(i,o),o}function kD(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function SD(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function _D(e,t){SD(e,t),(e=e.alternate)&&SD(e,t)}function AD(e,t,r){var n=new vD(e,t,r=null!=r&&!0===r.hydrate),i=uD(3,null,null,2===t?7:1===t?3:0);n.current=i,i.stateNode=n,RR(i),e[Gx]=n.current,r&&0!==t&&qT(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=n}function TD(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function xD(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var r;r=e.lastChild;)e.removeChild(r);return new AD(e,0,t?{hydrate:!0}:void 0)}function ID(e,t,r,n,i){var o=r._reactRootContainer;if(o){var a=o._internalRoot;if("function"==typeof i){var s=i;i=function(){var e=kD(a);s.call(e)}}ED(t,a,e,i)}else{if(o=r._reactRootContainer=xD(r,n),a=o._internalRoot,"function"==typeof i){var c=i;i=function(){var e=kD(a);c.call(e)}}jO((function(){ED(t,a,e,i)}))}return kD(a)}function BD(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:pA,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}function RD(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!TD(t))throw Error(h_(200));return BD(e,t,null,r)}AD.prototype.render=function(e){ED(e,this._internalRoot,null,null)},AD.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;ED(null,e,null,(function(){t[Gx]=null}))},RT=function(e){if(13===e.tag){var t=bR(IO(),150,100);RO(e,t),_D(e,t)}},PT=function(e){13===e.tag&&(RO(e,3),_D(e,3))},NT=function(e){if(13===e.tag){var t=IO();RO(e,t=BO(t,e,null)),_D(e,t)}},M_=function(e,t,r){switch(t){case"input":if(jA(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=Zx(n);if(!i)throw Error(h_(90));DA(n),jA(n,i)}}}break;case"textarea":WA(e,r);break;case"select":null!=(t=r.value)&&qA(e,!!r.multiple,t,!1)}},K_=UO,q_=function(e,t,r,n,i){var o=oO;oO|=4;try{return hR(98,e.bind(null,t,r,n,i))}finally{(oO=o)===YN&&vR()}},H_=function(){(oO&(1|$N|ZN))===YN&&(MO(),JO())},Q_=function(e,t){var r=oO;oO|=2;try{return e(t)}finally{(oO=r)===YN&&vR()}};var PD={Events:[Xx,$x,Zx,D_,P_,oI,function(e){wT(e,iI)},V_,z_,gx,kT,JO,{current:!1}]};!function(e){var t=e.findFiberByHostInstance;sD(ab({},e,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cA.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=yT(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null}))}({findFiberByHostInstance:Yx,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"});var ND=PD,OD=RD,DD=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(h_(188));throw Error(h_(268,Object.keys(e)))}return e=null===(e=yT(t))?null:e.stateNode},LD=function(e,t){if((oO&($N|ZN))!==YN)throw Error(h_(187));var r=oO;oO|=1;try{return hR(99,e.bind(null,t))}finally{oO=r,vR()}},MD=function(e,t,r){if(!TD(t))throw Error(h_(200));return ID(null,e,t,!0,r)},UD=function(e,t,r){if(!TD(t))throw Error(h_(200));return ID(null,e,t,!1,r)},jD=function(e){if(!TD(e))throw Error(h_(40));return!!e._reactRootContainer&&(jO((function(){ID(null,null,e,!1,(function(){e._reactRootContainer=null,e[Gx]=null}))})),!0)},FD=UO,VD=function(e,t){return RD(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},zD=function(e,t,r,n){if(!TD(r))throw Error(h_(200));if(null==e||void 0===e._reactInternalFiber)throw Error(h_(38));return ID(e,t,r,!1,n)},KD="16.14.0",qD={__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:ND,createPortal:OD,findDOMNode:DD,flushSync:LD,hydrate:MD,render:UD,unmountComponentAtNode:jD,unstable_batchedUpdates:FD,unstable_createPortal:VD,unstable_renderSubtreeIntoContainer:zD,version:KD},HD=0,QD=null,WD=null,GD=function(e){return e()},YD=function(){return null},XD=function(){return++HD},$D=function(){},ZD=function(e,t,r){return r()},JD=function(){},eL=function(e){return e},tL={__interactionsRef:QD,__subscriberRef:WD,unstable_clear:GD,unstable_getCurrent:YD,unstable_getThreadID:XD,unstable_subscribe:$D,unstable_trace:ZD,unstable_unsubscribe:JD,unstable_wrap:eL},rL=(r((function(e,t){})),r((function(e){e.exports=tL})),r((function(e,t){})),r((function(e){!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=qD}))),nL={not_supported:{code:"not_supported",msg:{en:"Camera is not well-supported on this device/browser. Please try another one.",vi:"Camera không được hỗ trợ. Vui lòng thử trình duyệt hoặc thiết bị khác."}},camera_timeout:{code:"camera_timeout",msg:{en:"Can't access camera. Please check camera permission, try again or try another browser/device",vi:"Không thể truy cập camera. Vui lòng kiểm tra quyền truy cập camera, đóng các tab/app khác đang sử dụng camera hoặc thử lại trên trình duyệt/thiết bị khác."}},wrong_orientation:{code:"wrong_orientation",msg:{en:"You are using landscape mode. Please rotate screen to portrait mode and retry.",vi:"Bạn đang sử dụng chế độ màn hình xoay ngang. Vui lòng quay màn hình theo chiều dọc và thực hiện lại."}},unable_to_load_model:{code:"unable_to_load_model",msg:{en:"Unable to load model on this device/browser. Please try another one.",vi:"Không thể load model. Vui lòng thử trình duyệt hoặc thiết bị khác."}},no_permission:{code:"no_permission",msg:{en:"Please grant the permission to access the camera.",vi:"Vui lòng cấp quyền để truy cập camera."}},no_face:{code:"no_face",msg:{en:"Face not found",vi:"Không tìm thấy khuôn mặt"}},partial_face:{code:"partial_face",msg:{en:"Face out of the box",vi:"Không tìm thấy toàn bộ khuôn mặt"}},multiple_faces:{code:"multiple_faces",msg:{en:"Too many faces",vi:"Quá nhiều khuôn mặt"}},face_too_small:{code:"face_too_small",msg:{en:"Face too small",vi:"Khuôn mặt quá nhỏ"}},face_too_large:{code:"face_too_large",msg:{en:"Face too large",vi:"Khuôn mặt quá to"}},face_out_of_box:{code:"face_out_of_box",msg:{en:"Face is out of box",vi:"Khuôn mặt không nằm trọn vẹn trong khung ảnh"}},liveness_too_fast:{code:"liveness_too_fast",msg:{en:"Please turn your face SLOWLY",vi:"Vui lòng quay CHẬM lại"}},liveness_terminated:{code:"liveness_terminated",msg:{en:"Please try again.",vi:"Vui lòng thực hiện lại."}},liveness_terminated_face_tracking:{code:"liveness_terminated_face_tracking",msg:{en:"You need to turn your face SLOWLY.\nPlease try again.",vi:"Bạn cần quay CHẬM lại.\nVui lòng thực hiện lại."}},liveness_terminated_no_face:{code:"liveness_terminated_no_face",msg:{en:"Your face was missing for too long.\nPlease try again.",vi:"Khuôn mặt không nằm trong khung hình.\nXin vui lòng thử lại."}},liveness_terminated_time_out:{code:"liveness_terminated_time_out",msg:{en:"You need to complete gestures as instructed within <%= x %> seconds.\nPlease try again.",vi:"Bạn cần hoàn thành động tác theo chỉ dẫn trong <%= x %> giây.\nXin vui lòng thử lại."}},card_sanity_not_good:{code:"card_sanity_not_good",msg:{en:"Card sanity not good",vi:"Card sanity chưa đạt"}},api_call_error:{code:"api_call_error",msg:{en:"Api call error",vi:"Lỗi call api"}},upload_error:{code:"upload_error",msg:{en:"Upload error",vi:"Lỗi upload"}},sanity_check_error:{code:"sanity_check_error",msg:{en:"Sanity check error",vi:"Lỗi check sanity"}},read_id_card_error:{code:"read_id_card_error",msg:{en:"Read id card error",vi:"Lỗi read id card"}},detect_id_tampering_error:{code:"detect_id_tampering_error",msg:{en:"Detect id tampering error",vi:"Lỗi detect id tampering"}},detect_id_card_error:{code:"detect_id_card_error",msg:{en:"Can't detect id card type",vi:"Không thể detect id card type"}},missing_front_id_card:{code:"missing_front_id_card",msg:{en:"Missing front id",vi:"Không tìm thấy front id"}},server_error:{code:"server_error",msg:"Server error"},client_web_setting_not_found:{code:"client_web_setting_not_found",msg:"Client Web Setting Not Found"},id_detector_validate_angle_error:{code:"id_detector_validate_angle_error",msg:{en:"Please place ID card straight, not tilted",vi:"Vui lòng đặt giấy tờ thẳng, không bị nghiêng khi chụp"}},id_detector_no_cards:{code:"id_detector_no_cards",msg:{en:"Please capture the <%= side %> side of ID card\n (occupy 50-95% of the frame)",vi:"Vui lòng chụp mặt <%= side %> của giấy tờ\n (chiếm 50-95% khung hình)"}},id_detector_card_too_small:{code:"id_detector_card_too_small",msg:{en:"Please move ID card CLOSER\n (occupy 50-95% of the frame)",vi:"Vui lòng đưa giấy tờ lại GẦN hơn\n (chiếm 50-95% khung hình)"}},id_detector_error_incomplete:{code:"id_detector_error_incomplete",msg:{en:"Please move ID card FARTHER\n (occupy 50-95% of the frame)",vi:"Vui lòng đưa giấy tờ ra XA hơn\n (chiếm 50-95% khung hình)"}},glare_detected:{code:"glare_detected",msg:{en:"Glare is detected. Please adjust the shooting angle",vi:"Ảnh bị chói / lóa. Vui lòng điều chỉnh góc chụp."}},id_detector_error_front_side_no_faces:{code:"id_detector_error_front_side_no_faces",msg:{en:"Please capture the front side of ID card",vi:"Vui lòng chụp mặt trước của giấy tờ"}},id_detector_error_front_side_multiple_faces:{code:"id_detector_error_front_side_multiple_faces",msg:{en:"Please capture the front side of one ID card only (remove other items out of the frame)",vi:"Vui lòng chụp mặt trước 1 giấy tờ duy nhất"}},id_detector_error_back_side_has_faces:{code:"id_detector_error_back_side_has_faces",msg:{en:"Please capture the back side of ID card",vi:"Vui lòng chụp mặt sau của giấy tờ"}},id_detector_error_blur:{code:"id_detector_error_blur",msg:{en:"Blurry photo detected. Please capture again for a clearer image",vi:"Ảnh bị mờ. Vui lòng chụp lại để có ảnh rõ nét hơn"}},not_frontal_face:{code:"not_frontal_face",msg:{en:"Please look straight to camera.",vi:"Vui lòng nhìn thẳng vào camera."}},not_readable:{code:"CameraInUseError",msg:{vi:"Camera đang được sử dụng bởi ứng dụng/tab khác.",en:"Camera already in use by another app/tab."}}},iL={FRONTAL:"frontal",LEFT:"left",RIGHT:"right",UP:"up",DOWN:"down"},oL=Object.freeze({__proto__:null,ErrorDuration:{SHORT:500,LONG:1500,TERMINATE:3e3},Errors:nL,FaceDirection:iL,Mode:{ACTIVE:"active",PASSIVE:"passive"},Messages:{REMAIN_TIME:{en:"Remaining time: <%= x %> seconds",vi:"Thời gian còn lại: <%= x %> giây"}},TrackLivenessEvents:{start_camera:"user_activity.start",show_warmup:"user_activity.show",capture_up_face:"user_activity.up",capture_left_face:"user_activity.left",capture_right_face:"user_activity.right",capture_frontal_face:"user_activity.frontal",finish_capture:"user_activity",finish_load_model:"sdk.load_model",show_alert:"sdk_ui.show_alert",liveness_detection_done:"sdk_mode.liveness"},IDCardSide:{FRONT:"front",BACK:"back"},IDCardType:{VN:"vn.national_id"},IDCardMessage:{REMAINING_TIME:{en:"Remaining time: <%= x %> seconds",vi:"Thời gian còn lại: <%= x %> giây"},TIMEOUT_INSTRUCTION:{en:"You need to take the picture within <%= x %> seconds.\nPlease try again.",vi:"Bạn cần hoàn thành việc chụp giấy tờ trong <%= x %> giây.\nVui lòng thử lại."}}});function aL(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function sL(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){aL(o,n,i,a,s,"next",e)}function s(e){aL(o,n,i,a,s,"throw",e)}a(void 0)}))}}function cL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function uL(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lL(){return(lL=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function fL(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dL(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?fL(Object(r),!0).forEach((function(t){uL(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fL(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pL(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function hL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||mL(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gL(e){return function(e){if(Array.isArray(e))return vL(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||mL(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function mL(e,t){if(e){if("string"==typeof e)return vL(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?vL(e,t):void 0}}function vL(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yL(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=mL(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}var bL=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i},wL=function(){this.__data__=[],this.size=0},CL=function(e,t){return e===t||e!=e&&t!=t},EL=function(e,t){for(var r=e.length;r--;)if(CL(e[r][0],t))return r;return-1},kL=Array.prototype.splice,SL=function(e){var t=this.__data__,r=EL(t,e);return!(r<0||(r==t.length-1?t.pop():kL.call(t,r,1),--this.size,0))},_L=function(e){var t=this.__data__,r=EL(t,e);return r<0?void 0:t[r][1]},AL=function(e){return EL(this.__data__,e)>-1},TL=function(e,t){var r=this.__data__,n=EL(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function xL(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xL.prototype.clear=wL,xL.prototype.delete=SL,xL.prototype.get=_L,xL.prototype.has=AL,xL.prototype.set=TL;var IL=xL,BL=function(){this.__data__=new IL,this.size=0},RL=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},PL=function(e){return this.__data__.get(e)},NL=function(e){return this.__data__.has(e)},OL="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function DL(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function LL(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return UL(null==t&&r.path)}},r.exports),r.exports}function ML(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach((function(r){var n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:function(){return e[r]}})})),t}function UL(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var jL,FL="object"==ky(OL)&&OL&&OL.Object===Object&&OL,VL="object"==("undefined"==typeof self?"undefined":ky(self))&&self&&self.Object===Object&&self,zL=FL||VL||Function("return this")(),KL=zL.Symbol,qL=Object.prototype,HL=qL.hasOwnProperty,QL=qL.toString,WL=KL?KL.toStringTag:void 0,GL=function(e){var t=HL.call(e,WL),r=e[WL];try{e[WL]=void 0;var n=!0}catch(e){}var i=QL.call(e);return n&&(t?e[WL]=r:delete e[WL]),i},YL=Object.prototype.toString,XL=function(e){return YL.call(e)},$L=KL?KL.toStringTag:void 0,ZL=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":$L&&$L in Object(e)?GL(e):XL(e)},JL=function(e){var t=ky(e);return null!=e&&("object"==t||"function"==t)},eM=function(e){if(!JL(e))return!1;var t=ZL(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},tM=zL["__core-js_shared__"],rM=(jL=/[^.]+$/.exec(tM&&tM.keys&&tM.keys.IE_PROTO||""))?"Symbol(src)_1."+jL:"",nM=function(e){return!!rM&&rM in e},iM=Function.prototype.toString,oM=function(e){if(null!=e){try{return iM.call(e)}catch(e){}try{return e+""}catch(e){}}return""},aM=/^\[object .+?Constructor\]$/,sM=Function.prototype,cM=Object.prototype,uM=sM.toString,lM=cM.hasOwnProperty,fM=RegExp("^"+uM.call(lM).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dM=function(e){return!(!JL(e)||nM(e))&&(eM(e)?fM:aM).test(oM(e))},pM=function(e,t){return null==e?void 0:e[t]},hM=function(e,t){var r=pM(e,t);return dM(r)?r:void 0},gM=hM(zL,"Map"),mM=hM(Object,"create"),vM=function(){this.__data__=mM?mM(null):{},this.size=0},yM=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},bM=Object.prototype.hasOwnProperty,wM=function(e){var t=this.__data__;if(mM){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return bM.call(t,e)?t[e]:void 0},CM=Object.prototype.hasOwnProperty,EM=function(e){var t=this.__data__;return mM?void 0!==t[e]:CM.call(t,e)},kM=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=mM&&void 0===t?"__lodash_hash_undefined__":t,this};function SM(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}SM.prototype.clear=vM,SM.prototype.delete=yM,SM.prototype.get=wM,SM.prototype.has=EM,SM.prototype.set=kM;var _M=SM,AM=function(){this.size=0,this.__data__={hash:new _M,map:new(gM||IL),string:new _M}},TM=function(e){var t=ky(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},xM=function(e,t){var r=e.__data__;return TM(t)?r["string"==typeof t?"string":"hash"]:r.map},IM=function(e){var t=xM(this,e).delete(e);return this.size-=t?1:0,t},BM=function(e){return xM(this,e).get(e)},RM=function(e){return xM(this,e).has(e)},PM=function(e,t){var r=xM(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function NM(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}NM.prototype.clear=AM,NM.prototype.delete=IM,NM.prototype.get=BM,NM.prototype.has=RM,NM.prototype.set=PM;var OM=NM,DM=function(e,t){var r=this.__data__;if(r instanceof IL){var n=r.__data__;if(!gM||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new OM(n)}return r.set(e,t),this.size=r.size,this};function LM(e){var t=this.__data__=new IL(e);this.size=t.size}LM.prototype.clear=BL,LM.prototype.delete=RL,LM.prototype.get=PL,LM.prototype.has=NL,LM.prototype.set=DM;var MM=LM,UM=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},jM=function(){try{var e=hM(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),FM=function(e,t,r){"__proto__"==t&&jM?jM(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},VM=Object.prototype.hasOwnProperty,zM=function(e,t,r){var n=e[t];VM.call(e,t)&&CL(n,r)&&(void 0!==r||t in e)||FM(e,t,r)},KM=function(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),i?FM(r,s,c):zM(r,s,c)}return r},qM=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},HM=function(e){return null!=e&&"object"==ky(e)},QM=function(e){return HM(e)&&"[object Arguments]"==ZL(e)},WM=Object.prototype,GM=WM.hasOwnProperty,YM=WM.propertyIsEnumerable,XM=QM(function(){return arguments}())?QM:function(e){return HM(e)&&GM.call(e,"callee")&&!YM.call(e,"callee")},$M=Array.isArray,ZM=function(){return!1},JM=LL((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r?zL.Buffer:void 0,o=(i?i.isBuffer:void 0)||ZM;e.exports=o})),eU=/^(?:0|[1-9]\d*)$/,tU=function(e,t){var r=ky(e);return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&eU.test(e))&&e>-1&&e%1==0&&e<t},rU=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},nU={};nU["[object Float32Array]"]=nU["[object Float64Array]"]=nU["[object Int8Array]"]=nU["[object Int16Array]"]=nU["[object Int32Array]"]=nU["[object Uint8Array]"]=nU["[object Uint8ClampedArray]"]=nU["[object Uint16Array]"]=nU["[object Uint32Array]"]=!0,nU["[object Arguments]"]=nU["[object Array]"]=nU["[object ArrayBuffer]"]=nU["[object Boolean]"]=nU["[object DataView]"]=nU["[object Date]"]=nU["[object Error]"]=nU["[object Function]"]=nU["[object Map]"]=nU["[object Number]"]=nU["[object Object]"]=nU["[object RegExp]"]=nU["[object Set]"]=nU["[object String]"]=nU["[object WeakMap]"]=!1;var iU=function(e){return HM(e)&&rU(e.length)&&!!nU[ZL(e)]},oU=function(e){return function(t){return e(t)}},aU=LL((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r&&FL.process,o=function(){try{return n&&n.require&&n.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o})),sU=aU&&aU.isTypedArray,cU=sU?oU(sU):iU,uU=Object.prototype.hasOwnProperty,lU=function(e,t){var r=$M(e),n=!r&&XM(e),i=!r&&!n&&JM(e),o=!r&&!n&&!i&&cU(e),a=r||n||i||o,s=a?qM(e.length,String):[],c=s.length;for(var u in e)!t&&!uU.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||tU(u,c))||s.push(u);return s},fU=Object.prototype,dU=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||fU)},pU=function(e,t){return function(r){return e(t(r))}},hU=pU(Object.keys,Object),gU=Object.prototype.hasOwnProperty,mU=function(e){if(!dU(e))return hU(e);var t=[];for(var r in Object(e))gU.call(e,r)&&"constructor"!=r&&t.push(r);return t},vU=function(e){return null!=e&&rU(e.length)&&!eM(e)},yU=function(e){return vU(e)?lU(e):mU(e)},bU=function(e,t){return e&&KM(t,yU(t),e)},wU=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},CU=Object.prototype.hasOwnProperty,EU=function(e){if(!JL(e))return wU(e);var t=dU(e),r=[];for(var n in e)("constructor"!=n||!t&&CU.call(e,n))&&r.push(n);return r},kU=function(e){return vU(e)?lU(e,!0):EU(e)},SU=function(e,t){return e&&KM(t,kU(t),e)},_U=LL((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r?zL.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=o?o(r):new e.constructor(r);return e.copy(n),n}})),AU=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},TU=function(e,t){for(var r=-1,n=null==e?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o},xU=function(){return[]},IU=Object.prototype.propertyIsEnumerable,BU=Object.getOwnPropertySymbols,RU=BU?function(e){return null==e?[]:(e=Object(e),TU(BU(e),(function(t){return IU.call(e,t)})))}:xU,PU=function(e,t){return KM(e,RU(e),t)},NU=function(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e},OU=pU(Object.getPrototypeOf,Object),DU=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)NU(t,RU(e)),e=OU(e);return t}:xU,LU=function(e,t){return KM(e,DU(e),t)},MU=function(e,t,r){var n=t(e);return $M(e)?n:NU(n,r(e))},UU=function(e){return MU(e,yU,RU)},jU=function(e){return MU(e,kU,DU)},FU=hM(zL,"DataView"),VU=hM(zL,"Promise"),zU=hM(zL,"Set"),KU=hM(zL,"WeakMap"),qU=oM(FU),HU=oM(gM),QU=oM(VU),WU=oM(zU),GU=oM(KU),YU=ZL;(FU&&"[object DataView]"!=YU(new FU(new ArrayBuffer(1)))||gM&&"[object Map]"!=YU(new gM)||VU&&"[object Promise]"!=YU(VU.resolve())||zU&&"[object Set]"!=YU(new zU)||KU&&"[object WeakMap]"!=YU(new KU))&&(YU=function(e){var t=ZL(e),r="[object Object]"==t?e.constructor:void 0,n=r?oM(r):"";if(n)switch(n){case qU:return"[object DataView]";case HU:return"[object Map]";case QU:return"[object Promise]";case WU:return"[object Set]";case GU:return"[object WeakMap]"}return t});var XU=YU,$U=Object.prototype.hasOwnProperty,ZU=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&$U.call(e,"index")&&(r.index=e.index,r.input=e.input),r},JU=zL.Uint8Array,ej=function(e){var t=new e.constructor(e.byteLength);return new JU(t).set(new JU(e)),t},tj=function(e,t){var r=t?ej(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)},rj=/\w*$/,nj=function(e){var t=new e.constructor(e.source,rj.exec(e));return t.lastIndex=e.lastIndex,t},ij=KL?KL.prototype:void 0,oj=ij?ij.valueOf:void 0,aj=function(e){return oj?Object(oj.call(e)):{}},sj=function(e,t){var r=t?ej(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},cj=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return ej(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return tj(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return sj(e,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return nj(e);case"[object Set]":return new n;case"[object Symbol]":return aj(e)}},uj=Object.create,lj=function(){function e(){}return function(t){if(!JL(t))return{};if(uj)return uj(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),fj=function(e){return"function"!=typeof e.constructor||dU(e)?{}:lj(OU(e))},dj=function(e){return HM(e)&&"[object Map]"==XU(e)},pj=aU&&aU.isMap,hj=pj?oU(pj):dj,gj=function(e){return HM(e)&&"[object Set]"==XU(e)},mj=aU&&aU.isSet,vj=mj?oU(mj):gj,yj={};yj["[object Arguments]"]=yj["[object Array]"]=yj["[object ArrayBuffer]"]=yj["[object DataView]"]=yj["[object Boolean]"]=yj["[object Date]"]=yj["[object Float32Array]"]=yj["[object Float64Array]"]=yj["[object Int8Array]"]=yj["[object Int16Array]"]=yj["[object Int32Array]"]=yj["[object Map]"]=yj["[object Number]"]=yj["[object Object]"]=yj["[object RegExp]"]=yj["[object Set]"]=yj["[object String]"]=yj["[object Symbol]"]=yj["[object Uint8Array]"]=yj["[object Uint8ClampedArray]"]=yj["[object Uint16Array]"]=yj["[object Uint32Array]"]=!0,yj["[object Error]"]=yj["[object Function]"]=yj["[object WeakMap]"]=!1;var bj=function e(t,r,n,i,o,a){var s,c=1&r,u=2&r,l=4&r;if(n&&(s=o?n(t,i,o,a):n(t)),void 0!==s)return s;if(!JL(t))return t;var f=$M(t);if(f){if(s=ZU(t),!c)return AU(t,s)}else{var d=XU(t),p="[object Function]"==d||"[object GeneratorFunction]"==d;if(JM(t))return _U(t,c);if("[object Object]"==d||"[object Arguments]"==d||p&&!o){if(s=u||p?{}:fj(t),!c)return u?LU(t,SU(s,t)):PU(t,bU(s,t))}else{if(!yj[d])return o?t:{};s=cj(t,d,c)}}a||(a=new MM);var h=a.get(t);if(h)return h;a.set(t,s),vj(t)?t.forEach((function(i){s.add(e(i,r,n,i,t,a))})):hj(t)&&t.forEach((function(i,o){s.set(o,e(i,r,n,o,t,a))}));var g=f?void 0:(l?u?jU:UU:u?kU:yU)(t);return UM(g||t,(function(i,o){g&&(i=t[o=i]),zM(s,o,e(i,r,n,o,t,a))})),s},wj=function(e){return"symbol"==ky(e)||HM(e)&&"[object Symbol]"==ZL(e)},Cj=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ej=/^\w*$/,kj=function(e,t){if($M(e))return!1;var r=ky(e);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!wj(e))||Ej.test(e)||!Cj.test(e)||null!=t&&e in Object(t)};function Sj(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Sj.Cache||OM),r}Sj.Cache=OM;var _j=Sj,Aj=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Tj=/\\(\\)?/g,xj=function(e){var t=_j((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Aj,(function(e,r,n,i){t.push(n?i.replace(Tj,"$1"):r||e)})),t}),(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}(),Ij=KL?KL.prototype:void 0,Bj=Ij?Ij.toString:void 0,Rj=function e(t){if("string"==typeof t)return t;if($M(t))return bL(t,e)+"";if(wj(t))return Bj?Bj.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},Pj=function(e){return null==e?"":Rj(e)},Nj=function(e,t){return $M(e)?e:kj(e,t)?[e]:xj(Pj(e))},Oj=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0},Dj=function(e){if("string"==typeof e||wj(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},Lj=function(e,t){for(var r=0,n=(t=Nj(t,e)).length;null!=e&&r<n;)e=e[Dj(t[r++])];return r&&r==n?e:void 0},Mj=function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o},Uj=function(e,t){return t.length<2?e:Lj(e,Mj(t,0,-1))},jj=function(e,t){return t=Nj(t,e),null==(e=Uj(e,t))||delete e[Dj(Oj(t))]},Fj=Function.prototype,Vj=Object.prototype,zj=Fj.toString,Kj=Vj.hasOwnProperty,qj=zj.call(Object),Hj=function(e){if(!HM(e)||"[object Object]"!=ZL(e))return!1;var t=OU(e);if(null===t)return!0;var r=Kj.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&zj.call(r)==qj},Qj=function(e){return Hj(e)?void 0:e},Wj=KL?KL.isConcatSpreadable:void 0,Gj=function(e){return $M(e)||XM(e)||!!(Wj&&e&&e[Wj])},Yj=function e(t,r,n,i,o){var a=-1,s=t.length;for(n||(n=Gj),o||(o=[]);++a<s;){var c=t[a];r>0&&n(c)?r>1?e(c,r-1,n,i,o):NU(o,c):i||(o[o.length]=c)}return o},Xj=function(e){return null!=e&&e.length?Yj(e,1):[]},$j=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},Zj=Math.max,Jj=function(e,t,r){return t=Zj(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=Zj(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),$j(e,this,s)}},eF=function(e){return function(){return e}},tF=jM?function(e,t){return jM(e,"toString",{configurable:!0,enumerable:!1,value:eF(t),writable:!0})}:function(e){return e},rF=Date.now,nF=function(e){var t=0,r=0;return function(){var n=rF(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(tF),iF=function(e){return nF(Jj(e,void 0,Xj),e+"")}((function(e,t){var r={};if(null==e)return r;var n=!1;t=bL(t,(function(t){return t=Nj(t,e),n||(n=t.length>1),t})),KM(e,jU(e),r),n&&(r=bj(r,7,Qj));for(var i=t.length;i--;)jj(r,t[i]);return r})),oF=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return dL(dL({blazefaceModelUrl:"https://storage.googleapis.com/tfhub-tfjs-modules/tensorflow/tfjs-model/blazeface/1/default/1/model.json",opencvUrl:"https://thaison-trustingsocial.github.io/web-sdk/assets/opencv.js",idCardModelUrl:"https://unpkg.com/@tsocial/tv_web_sdk_resources@1.0.0/models/id-card/tflite/qtf16_model_224x224.tflite"},iF(e,["tfScriptUrls"])),{},{tfScriptUrls:dL({tfUrl:"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.11.0",tfBackendWasmUrl:"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-wasm@3.11.0/dist/tf-backend-wasm.js",tfBackendCpuUrl:"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-cpu@3.11.0",tfBackendWebGlUrl:"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-webgl@3.11.0",tfLiteUrl:"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-tflite@0.0.1-alpha.7/dist/tf-tflite.min.js",blazefaceScriptUrl:"https://cdn.jsdelivr.net/npm/@tensorflow-models/blazeface@0.0.7"},null==e?void 0:e.tfScriptUrls)})};function aF(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.resourceRoot,r=e.initCustomUrls,n=void 0===r?{}:r;return t?dL(dL({blazefaceModelUrl:"".concat(t,"models/1.0.0/blazeface/model.json"),opencvUrl:"".concat(t,"opencv/3.4.0/cv.js"),idCardModelUrl:"".concat(t,"models/1.0.0/id_card/tflite/qtf16_model_224x224.tflite")},iF(n,["tfScriptUrls"])),{},{tfScriptUrls:dL({tfUrl:"".concat(t,"tfjs/3.11.0/tf.js"),tfBackendWasmUrl:"".concat(t,"tfjs/3.11.0/backend-wasm.js"),tfBackendCpuUrl:"".concat(t,"tfjs/3.11.0/backend-cpu.js"),tfBackendWebGlUrl:"".concat(t,"tfjs/3.11.0/backend-webgl.js"),tfLiteUrl:"".concat(t,"tflite/0.0.1-alpha.7/tflite.min.js"),blazefaceScriptUrl:"".concat(t,"blazeface/0.0.7/bf.js")},null==n?void 0:n.tfScriptUrls)}):oF(n)}var sF=Sw.createContext();function cF(e){var t=e.value,r=e.children,n=dL({},t),i=n.customUrls,o=n.resourceRoot;return o&&(n.customUrls=aF({resourceRoot:o,initCustomUrls:i})),Sw.createElement(sF.Provider,{value:n},r)}function uF(){var e=Sw.useContext(sF);if(void 0===e)throw new Error("useSDKSettings must be used within a SDKSettingsProvider");return e}cF.propTypes={value:SC.shape({lang:SC.string,assetRoot:SC.string,apiClient:SC.shape({}),customUrls:SC.shape({}),resourceRoot:SC.string}).isRequired,children:SC.node.isRequired};var lF,fF=Object.freeze({__proto__:null,SDKSettingsProvider:cF,useSDKSettings:uF}),dF=ML(Object.freeze({__proto__:null,default:{}})),pF=DL(LL((function(e,t){!function(e,t){t=t&&t.hasOwnProperty("default")?t.default:t;var r=function(){function e(e){this.httpClient=e}return e.prototype.request=function(e,t){return this.httpClient.post("/v1/read_id_card_info_sync",e,t)},e}(),n=function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};
/*! *****************************************************************************
	      Copyright (c) Microsoft Corporation. All rights reserved.
	      Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	      this file except in compliance with the License. You may obtain a copy of the
	      License at http://www.apache.org/licenses/LICENSE-2.0
	    
	      THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	      KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	      WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	      MERCHANTABLITY OR NON-INFRINGEMENT.
	    
	      See the Apache Version 2.0 License for specific language governing permissions
	      and limitations under the License.
	      ***************************************************************************** */function i(e,t,r,n){var i,o=arguments.length,a=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==("undefined"==typeof Reflect?"undefined":ky(Reflect))&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,r,a):i(t,r))||a);return o>3&&a&&Object.defineProperty(t,r,a),a}function o(e,t){if("object"==("undefined"==typeof Reflect?"undefined":ky(Reflect))&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function a(e,t,r,n){return new(r||(r=Promise))((function(i,o){function a(e){try{c(n.next(e))}catch(e){o(e)}}function s(e){try{c(n.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}c((n=n.apply(e,t||[])).next())}))}function s(e,t){var r,n,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var c=function(){function e(e){this.httpClient=e}return e.prototype.uploadImage=function(e){return this.httpClient.postFormData("/v1/images",e)},e.prototype.request=function(e){var t="application/pdf"===e.file.type;return this.httpClient.postFormData(t?"/v1/files":"/v1/images",e)},e.prototype.requestWithHeaders=function(e,t){return this.httpClient.postFormData("/v1/images",e,t)},e.prototype.download=function(e){return a(this,void 0,void 0,(function(){var t;return s(this,(function(r){switch(r.label){case 0:return[4,this.httpClient.downloadFile("/v1/images/"+e)];case 1:return t=r.sent(),[4,URL.createObjectURL(t)];case 2:return[2,r.sent()]}}))}))},e.prototype.updateMetadata=function(e,t){return this.httpClient.patch("/v1/images/"+e,t)},e}(),u=function(){function e(e){this.httpClient=e}return e.prototype.request=function(e,t){return this.httpClient.post("/v1/files",e,t)},e.prototype.uploadFile=function(e){return this.httpClient.postFormData("/v1/files",e)},e.prototype.requestWithHeaders=function(e,t){return this.httpClient.postFormData("/v1/files",e,t)},e}(),l=function(){function e(e){this.httpClient=e}return e.prototype.request=function(e,t){return this.httpClient.post("/v1/compare_faces_sync",e,t)},e}(),f=function(){function e(e){this.httpClient=e}return e.prototype.getClientSettings=function(){return this.httpClient.get("/v1/client_settings")},e.prototype.request=function(){return this.httpClient.get("/v1/client_settings")},e}(),d=function(){function e(e){this.httpClient=e}return e.prototype.request=function(e,t){return this.httpClient.post("/v1/verify_face_liveness_sync",e,t)},e}(),p=function(){function e(e){this.httpClient=e}return e.prototype.request=function(e,t){return this.httpClient.post("/v1/verify_id_card_sanity_sync",e,t)},e}(),h=function(){function e(e){this.httpClient=e}return e.prototype.request=function(e,t){return this.httpClient.post("/v1/verify_portrait_sanity_sync",e,t)},e}(),g=function(){function e(e){this.httpClient=e}return e.prototype.request=function(e,t){return this.httpClient.post("/v1/detect_id_card_tampering_sync",e,t)},e.prototype.requestWithAuthHeaders=function(e,t){return this.httpClient.post("/v1/detect_id_card_tampering_sync",e,t)},e}(),m=function(){function e(e){this.httpClient=e}return e.prototype.request=function(e,t){return this.httpClient.post("/v1/search_faces_sync",e,t)},e.prototype.indexFaces=function(e,t){return this.httpClient.post("/v1/index_faces_sync",e,t)},e.prototype.deleteFaces=function(e,t){return this.httpClient.post("/v1/delete_faces",e,t)},e.prototype.downloadFaceImage=function(e){return a(this,void 0,void 0,(function(){var t;return s(this,(function(r){switch(r.label){case 0:return[4,this.httpClient.downloadFile("/v1/face_images/"+e)];case 1:return t=r.sent(),[2,URL.createObjectURL(t)]}}))}))},e}(),v=function(){function e(e){this.httpClient=e}return e.prototype.request=function(e,t){return this.httpClient.postFormData("/v1/convert_pdf_sync",e,t)},e}(),y=function(){function e(e){this.httpClient=e}return e.prototype.request=function(e,t){return this.httpClient.post("/v1/ekyc_pdf",e,t)},e}(),b="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==OL?OL:"undefined"!=typeof self?self:{};function w(e,t){return e(t={exports:{}},t.exports),t.exports}var C=w((function(e){var t,r;t=b,r=function(){function e(e){var t=[];if(0===e.length)return"";if("string"!=typeof e[0])throw new TypeError("Url must be a string. Received "+e[0]);if(e[0].match(/^[^/:]+:\/*$/)&&e.length>1){var r=e.shift();e[0]=r+e[0]}e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(var n=0;n<e.length;n++){var i=e[n];if("string"!=typeof i)throw new TypeError("Url must be a string. Received "+i);""!==i&&(n>0&&(i=i.replace(/^[\/]+/,"")),i=n<e.length-1?i.replace(/[\/]+$/,""):i.replace(/[\/]+$/,"/"),t.push(i))}var o=t.join("/"),a=(o=o.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return a.shift()+(a.length>0?"?":"")+a.join("&")}return function(){return e("object"==ky(arguments[0])?arguments[0]:[].slice.call(arguments))}},e.exports?e.exports=r():t.urljoin=r()}));function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var k=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if("string"!=typeof e||0===e.length)return i;var o=/\+/g;e=e.split(t);var a=1e3;n&&"number"==typeof n.maxKeys&&(a=n.maxKeys);var s=e.length;a>0&&s>a&&(s=a);for(var c=0;c<s;++c){var u,l,f,d,p=e[c].replace(o,"%20"),h=p.indexOf(r);h>=0?(u=p.substr(0,h),l=p.substr(h+1)):(u=p,l=""),f=decodeURIComponent(u),d=decodeURIComponent(l),E(i,f)?Array.isArray(i[f])?i[f].push(d):i[f]=[i[f],d]:i[f]=d}return i},S=function(e){switch(ky(e)){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},_=function(e,t,r,n){return t=t||"&",r=r||"=",null===e&&(e=void 0),"object"==ky(e)?Object.keys(e).map((function(n){var i=encodeURIComponent(S(n))+r;return Array.isArray(e[n])?e[n].map((function(e){return i+encodeURIComponent(S(e))})).join(t):i+encodeURIComponent(S(e[n]))})).join(t):n?encodeURIComponent(S(n))+r+encodeURIComponent(S(e)):""},A=w((function(e,t){t.decode=t.parse=k,t.encode=t.stringify=_})),T=(A.decode,A.parse,A.encode,A.stringify),x=function(){function e(e){this.authorizer=e.authorizer,this.domain=e.domain,this.onError=e.onError,this.configHeaders=e.headers}return e.prototype.get=function(e,t,r){var n=new URL(this.resolveUrl(e));return t&&(n.search=T(t)),this.request(n.toString(),{requestPath:e,method:"GET",headers:r})},e.prototype.post=function(e,t,r){var i=this.resolveUrl(e);return this.request(i,{requestPath:e,method:"POST",body:JSON.stringify(t),headers:n({"Content-Type":"application/json"},r)})},e.prototype.postFormData=function(e,t,r){var n,i=t instanceof FormData?t:(n=t,Object.entries(n).reduce((function(e,t){var r=t[0],n=t[1];return Array.isArray(n)?n.forEach((function(t,i){return e.append(r+"["+i+"]",n)})):!(n instanceof Object)||n instanceof File||n instanceof Date||n instanceof Blob?e.append(r,n):Object.entries(n).forEach((function(t,i){return e.append(r+"["+i+"]",n[i])})),e}),new FormData)),o=this.resolveUrl(e);return this.request(o,{requestPath:e,method:"POST",body:i,headers:r})},e.prototype.patch=function(e,t,r){var i=this.resolveUrl(e);return this.request(i,{requestPath:e,method:"PATCH",body:JSON.stringify(t),headers:n({"Content-Type":"application/json"},r)})},e.prototype.delete=function(e,t,r){var i=this.resolveUrl(e);return this.request(i,{requestPath:e,method:"DELETE",body:JSON.stringify(t),headers:n({"Content-Type":"application/json"},r)})},e.prototype.downloadFile=function(e){var t=this.resolveUrl(e);return this.request(t,{requestPath:e,method:"GET"},"blob")},e.prototype.request=function(e,t,r){return void 0===r&&(r="json"),a(this,void 0,void 0,(function(){var i,o,a,c;return s(this,(function(s){switch(s.label){case 0:return i={},o={},this.authorizer&&(i=this.authorizer.getHeaders(t)),this.configHeaders&&(o=this.configHeaders),t.headers=n(n(n({},t.headers),i),o),[4,fetch(e,t)];case 1:return a=s.sent(),[4,"blob"===r?a.blob():a.json()];case 2:if((c=s.sent()).errors&&this.onError)throw this.onError(c.errors),c;return[2,c]}}))}))},e.prototype.resolveUrl=function(e){return C(this.domain,e)},e}(),I=function(){function e(e){this.mocks=e}return e.prototype.get=function(e,t){return this.findInMocks(e,t)},e.prototype.post=function(e,t){return this.findInMocks(e)},e.prototype.postFormData=function(e,t){return this.findInMocks(e)},e.prototype.patch=function(e,t){return this.findInMocks(e)},e.prototype.delete=function(e,t){return this.findInMocks(e)},e.prototype.downloadFile=function(e){return this.findInMocks(e)},e.prototype.resolveUrl=function(e){return this.mocks.resolveUrl?this.mocks.resolveUrl(e):e},e.prototype.findInMocks=function(e,t){return a(this,void 0,void 0,(function(){return s(this,(function(r){return this.mocks[e]?"function"==typeof this.mocks[e]?[2,Promise.resolve(this.mocks[e](t))]:[2,Promise.resolve(this.mocks[e])]:[2,Promise.reject(new Error(e+" is not presented in mocks"))]}))}))},e}(),B=w((function(e,t){var r;e.exports=r=r||function(e,t){var r=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),n={},i=n.lib={},o=i.Base={extend:function(e){var t=r(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=a<<24-(n+o)%4*8}else for(o=0;o<i;o+=4)t[n+o>>>2]=r[o>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r,n=[],i=function(t){t=t;var r=987654321,n=4294967295;return function(){var i=((r=36969*(65535&r)+(r>>16)&n)<<16)+(t=18e3*(65535&t)+(t>>16)&n)&n;return i/=4294967296,(i+=.5)*(e.random()>.5?1:-1)}},o=0;o<t;o+=4){var s=i(4294967296*(r||e.random()));r=987654071*s(),n.push(4294967296*s()|0)}return new a.init(n,t)}}),s=n.enc={},c=s.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new a.init(r,t/2)}},u=s.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new a.init(r,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},f=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,o=this.blockSize,s=i/(4*o),c=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,u=e.min(4*c,i);if(c){for(var l=0;l<c;l+=o)this._doProcessBlock(n,l);var f=n.splice(0,c);r.sigBytes-=u}return new a.init(f,u)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),d=(i.Hasher=f.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new d.HMAC.init(e,r).finalize(t)}}}),n.algo={});return n}(Math)})),R=w((function(e,t){var r,n,i;e.exports=(n=(r=i=B).lib.WordArray,r.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<r;s++)i.push(n.charAt(a>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return function(e,t,r){for(var i=[],o=0,a=0;a<t;a++)if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2,c=r[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=(s|c)<<24-o%4*8,o++}return n.create(i,o)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},i.enc.Base64)})),P=(w((function(e,t){var r;e.exports=(r=B,function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[],c=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;n<=r;n++)if(!(t%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)t(n)&&(i<8&&(s[i]=r(e.pow(n,.5))),c[i]=r(e.pow(n,1/3)),i++),n++}();var u=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],l=r[5],f=r[6],d=r[7],p=0;p<64;p++){if(p<16)u[p]=0|e[t+p];else{var h=u[p-15],g=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,m=u[p-2],v=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;u[p]=g+u[p-7]+v+u[p-16]}var y=n&i^n&o^i&o,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&f)+c[p]+u[p];d=f,f=l,l=s,s=a+w|0,a=o,o=i,i=n,n=w+(b+y)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+l|0,r[6]=r[6]+f|0,r[7]=r[7]+d|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),r.SHA256)})),w((function(e,t){var r,n,i;e.exports=(n=(r=B).lib.Base,i=r.enc.Utf8,void(r.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,c=a.words,u=0;u<r;u++)s[u]^=1549556828,c[u]^=909522486;o.sigBytes=a.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})))})),w((function(e,t){e.exports=B.HmacSHA256}))),N=function(){function e(e,t){this.accessKey=e,this.keySecret=t}return e.prototype.getHeaders=function(e){var t=function(e){function t(e){return e<10?"0"+e:e}return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+"T"+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+(0===(r=e.getTimezoneOffset())?"Z":(n=r>0?"-":"+",r=Math.abs(r),n+t(Math.floor(r/60))+":"+t(r%60)));var r,n}(new Date);return{Authorization:this.generateAuthorization(e.requestPath,e.method,t),"X-TV-Timestamp":t}},e.prototype.generateAuthorization=function(e,t,r){var n=this.computeStringToSign(e,t,r),i=R.stringify(this.computeSignature(n));return this.formatAuthToken("TV",i)},e.prototype.formatAuthToken=function(e,t){return e+" "+this.accessKey+":"+t},e.prototype.computeStringToSign=function(e,t,r){return t+"\n"+e+"\n"+r},e.prototype.computeSignature=function(e){return P(e,this.keySecret)},e}();function O(e){switch(e){case"testing":return"https://tv-testing.trustingsocial.com/api";case"staging":return"https://tv-staging.trustingsocial.com/api";case"production":return"https://vn-vision.trustingsocial.com/api";default:return e}}function D(e,t,r,n){void 0===r&&(r="production");var i=(void 0===n?{}:n).headers,o=new N(e,t),a=O(r);return new x({authorizer:o,domain:a,headers:i})}var L=function(){function e(e){void 0===e&&(e="production");var t=new x({domain:O(e)});this.imagesService=new c(t),this.detectIDTamperingService=new g(t)}return e.prototype.uploadImage=function(e,t){return this.imagesService.requestWithHeaders(e,t)},e.prototype.detectTampering=function(e,t){return this.detectIDTamperingService.requestWithAuthHeaders(e,t)},e}();function M(e){var t=e.headerIndex;return function(e,r,i){var o=i.value,c=n({},i);return c.value=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return a(this,void 0,void 0,(function(){var r,i,a,c;return s(this,(function(s){switch(s.label){case 0:return this.transactionEnabled?[4,this.transactionManager.begin()]:[3,4];case 1:return r=s.sent(),i=function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<r;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)n[i]=o[a];return n}(e),(a=n({},i[t]))["X-TV-Transaction"]=r,i[t]=a,[4,o.apply(this,i)];case 2:return c=s.sent(),[4,this.transactionManager.end()];case 3:return s.sent(),[2,c];case 4:return[4,o.apply(this,e)];case 5:return[2,s.sent()]}}))}))},c}}function U(e){return void 0===e&&(e={encryptedField:"data"}),function(t,r,i){var o=i.value,c=n({},i);return c.value=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return a(this,void 0,void 0,(function(){var r,n;return s(this,(function(i){switch(i.label){case 0:return[4,o.apply(this,t)];case 1:return r=i.sent(),this.encryptionEnabled&&"string"==typeof r[e.encryptedField]?(n=this.encryptionService.decrypt(r[e.encryptedField],{transactionID:this.transactionManager.currentTransactionID}),[2,JSON.parse(n)]):[2,r]}}))}))},c}}var j=function(){function e(e){this.httpClient=e,this.transactionID="",this.totalTransactions=0,this.currentTransaction=0}return Object.defineProperty(e.prototype,"currentTransactionID",{get:function(){return this.transactionID},enumerable:!0,configurable:!0}),e.prototype.begin=function(){return a(this,void 0,void 0,(function(){var e,t,r=this;return s(this,(function(n){switch(n.label){case 0:return e=this.totalTransactions++,[4,new Promise((function(t,n){var i=window.performance.now(),o=setInterval((function(){e===r.currentTransaction&&(clearInterval(o),t(!0)),window.performance.now()-i>=3e3&&(clearInterval(o),n(new Error("Transaction timeout")))}),100)}))];case 1:return n.sent(),[4,this.httpClient.post("/v1/transactions",{})];case 2:return t=n.sent().data,this.transactionID=t.id,[2,t.id]}}))}))},e.prototype.end=function(){return a(this,void 0,void 0,(function(){var e;return s(this,(function(t){switch(t.label){case 0:return[4,this.httpClient.post("/v1/transactions/"+this.transactionID+"/finish")];case 1:return e=t.sent(),this.transactionID="",this.currentTransaction++,[2,e]}}))}))},e}(),F={options:{usePureJavaScript:!1}},V={},z=V,K={};V.encode=function(e,t,r){if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');if(void 0!==r&&"number"!=typeof r)throw new TypeError('"maxline" must be a number.');var n="";if(e instanceof Uint8Array){var i=0,o=t.length,a=t.charAt(0),s=[0];for(i=0;i<e.length;++i){for(var c=0,u=e[i];c<s.length;++c)u+=s[c]<<8,s[c]=u%o,u=u/o|0;for(;u>0;)s.push(u%o),u=u/o|0}for(i=0;0===e[i]&&i<e.length-1;++i)n+=a;for(i=s.length-1;i>=0;--i)n+=t[s[i]]}else n=function(e,t){var r=0,n=t.length,i=t.charAt(0),o=[0];for(r=0;r<e.length();++r){for(var a=0,s=e.at(r);a<o.length;++a)s+=o[a]<<8,o[a]=s%n,s=s/n|0;for(;s>0;)o.push(s%n),s=s/n|0}var c="";for(r=0;0===e.at(r)&&r<e.length()-1;++r)c+=i;for(r=o.length-1;r>=0;--r)c+=t[o[r]];return c}(e,t);if(r){var l=new RegExp(".{1,"+r+"}","g");n=n.match(l).join("\r\n")}return n},V.decode=function(e,t){if("string"!=typeof e)throw new TypeError('"input" must be a string.');if("string"!=typeof t)throw new TypeError('"alphabet" must be a string.');var r=K[t];if(!r){r=K[t]=[];for(var n=0;n<t.length;++n)r[t.charCodeAt(n)]=n}e=e.replace(/\s/g,"");var i=t.length,o=t.charAt(0),a=[0];for(n=0;n<e.length;n++){var s=r[e.charCodeAt(n)];if(void 0===s)return;for(var c=0,u=s;c<a.length;++c)u+=a[c]*i,a[c]=255&u,u>>=8;for(;u>0;)a.push(255&u),u>>=8}for(var l=0;e[l]===o&&l<e.length-1;++l)a.push(0);return"undefined"!=typeof Buffer?Buffer.from(a.reverse()):new Uint8Array(a.reverse())},w((function(e){var t=e.exports=F.util=F.util||{};function r(e){if(8!==e&&16!==e&&24!==e&&32!==e)throw new Error("Only 8, 16, 24, or 32 bits supported: "+e)}function n(e){if(this.data="",this.read=0,"string"==typeof e)this.data=e;else if(t.isArrayBuffer(e)||t.isArrayBufferView(e))if("undefined"!=typeof Buffer&&e instanceof Buffer)this.data=e.toString("binary");else{var r=new Uint8Array(e);try{this.data=String.fromCharCode.apply(null,r)}catch(e){for(var i=0;i<r.length;++i)this.putByte(r[i])}}else(e instanceof n||"object"==ky(e)&&"string"==typeof e.data&&"number"==typeof e.read)&&(this.data=e.data,this.read=e.read);this._constructedStringLength=0}!function(){if("undefined"!=typeof process&&process.nextTick&&!process.browser)return t.nextTick=process.nextTick,void("function"==typeof setImmediate?t.setImmediate=setImmediate:t.setImmediate=t.nextTick);if("function"==typeof setImmediate)return t.setImmediate=function(){return setImmediate.apply(void 0,arguments)},void(t.nextTick=function(e){return setImmediate(e)});if(t.setImmediate=function(e){setTimeout(e,0)},"undefined"!=typeof window&&"function"==typeof window.postMessage){var e="forge.setImmediate",r=[];t.setImmediate=function(t){r.push(t),1===r.length&&window.postMessage(e,"*")},window.addEventListener("message",(function(t){if(t.source===window&&t.data===e){t.stopPropagation();var n=r.slice();r.length=0,n.forEach((function(e){e()}))}}),!0)}if("undefined"!=typeof MutationObserver){var n=Date.now(),i=!0,o=document.createElement("div");r=[],new MutationObserver((function(){var e=r.slice();r.length=0,e.forEach((function(e){e()}))})).observe(o,{attributes:!0});var a=t.setImmediate;t.setImmediate=function(e){Date.now()-n>15?(n=Date.now(),a(e)):(r.push(e),1===r.length&&o.setAttribute("a",i=!i))}}t.nextTick=t.setImmediate}(),t.isNodejs="undefined"!=typeof process&&process.versions&&process.versions.node,t.globalScope=t.isNodejs?b:"undefined"==typeof self?window:self,t.isArray=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},t.isArrayBuffer=function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer},t.isArrayBufferView=function(e){return e&&t.isArrayBuffer(e.buffer)&&void 0!==e.byteLength},t.ByteBuffer=n,t.ByteStringBuffer=n,t.ByteStringBuffer.prototype._optimizeConstructedString=function(e){this._constructedStringLength+=e,this._constructedStringLength>4096&&(this.data.substr(0,1),this._constructedStringLength=0)},t.ByteStringBuffer.prototype.length=function(){return this.data.length-this.read},t.ByteStringBuffer.prototype.isEmpty=function(){return this.length()<=0},t.ByteStringBuffer.prototype.putByte=function(e){return this.putBytes(String.fromCharCode(e))},t.ByteStringBuffer.prototype.fillWithByte=function(e,t){e=String.fromCharCode(e);for(var r=this.data;t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return this.data=r,this._optimizeConstructedString(t),this},t.ByteStringBuffer.prototype.putBytes=function(e){return this.data+=e,this._optimizeConstructedString(e.length),this},t.ByteStringBuffer.prototype.putString=function(e){return this.putBytes(t.encodeUtf8(e))},t.ByteStringBuffer.prototype.putInt16=function(e){return this.putBytes(String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},t.ByteStringBuffer.prototype.putInt24=function(e){return this.putBytes(String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},t.ByteStringBuffer.prototype.putInt32=function(e){return this.putBytes(String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e))},t.ByteStringBuffer.prototype.putInt16Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255))},t.ByteStringBuffer.prototype.putInt24Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255))},t.ByteStringBuffer.prototype.putInt32Le=function(e){return this.putBytes(String.fromCharCode(255&e)+String.fromCharCode(e>>8&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>24&255))},t.ByteStringBuffer.prototype.putInt=function(e,t){r(t);var n="";do{t-=8,n+=String.fromCharCode(e>>t&255)}while(t>0);return this.putBytes(n)},t.ByteStringBuffer.prototype.putSignedInt=function(e,t){return e<0&&(e+=2<<t-1),this.putInt(e,t)},t.ByteStringBuffer.prototype.putBuffer=function(e){return this.putBytes(e.getBytes())},t.ByteStringBuffer.prototype.getByte=function(){return this.data.charCodeAt(this.read++)},t.ByteStringBuffer.prototype.getInt16=function(){var e=this.data.charCodeAt(this.read)<<8^this.data.charCodeAt(this.read+1);return this.read+=2,e},t.ByteStringBuffer.prototype.getInt24=function(){var e=this.data.charCodeAt(this.read)<<16^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2);return this.read+=3,e},t.ByteStringBuffer.prototype.getInt32=function(){var e=this.data.charCodeAt(this.read)<<24^this.data.charCodeAt(this.read+1)<<16^this.data.charCodeAt(this.read+2)<<8^this.data.charCodeAt(this.read+3);return this.read+=4,e},t.ByteStringBuffer.prototype.getInt16Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8;return this.read+=2,e},t.ByteStringBuffer.prototype.getInt24Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16;return this.read+=3,e},t.ByteStringBuffer.prototype.getInt32Le=function(){var e=this.data.charCodeAt(this.read)^this.data.charCodeAt(this.read+1)<<8^this.data.charCodeAt(this.read+2)<<16^this.data.charCodeAt(this.read+3)<<24;return this.read+=4,e},t.ByteStringBuffer.prototype.getInt=function(e){r(e);var t=0;do{t=(t<<8)+this.data.charCodeAt(this.read++),e-=8}while(e>0);return t},t.ByteStringBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},t.ByteStringBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},t.ByteStringBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},t.ByteStringBuffer.prototype.at=function(e){return this.data.charCodeAt(this.read+e)},t.ByteStringBuffer.prototype.setAt=function(e,t){return this.data=this.data.substr(0,this.read+e)+String.fromCharCode(t)+this.data.substr(this.read+e+1),this},t.ByteStringBuffer.prototype.last=function(){return this.data.charCodeAt(this.data.length-1)},t.ByteStringBuffer.prototype.copy=function(){var e=t.createBuffer(this.data);return e.read=this.read,e},t.ByteStringBuffer.prototype.compact=function(){return this.read>0&&(this.data=this.data.slice(this.read),this.read=0),this},t.ByteStringBuffer.prototype.clear=function(){return this.data="",this.read=0,this},t.ByteStringBuffer.prototype.truncate=function(e){var t=Math.max(0,this.length()-e);return this.data=this.data.substr(this.read,t),this.read=0,this},t.ByteStringBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.length;++t){var r=this.data.charCodeAt(t);r<16&&(e+="0"),e+=r.toString(16)}return e},t.ByteStringBuffer.prototype.toString=function(){return t.decodeUtf8(this.bytes())},t.DataBuffer=function(e,r){r=r||{},this.read=r.readOffset||0,this.growSize=r.growSize||1024;var n=t.isArrayBuffer(e),i=t.isArrayBufferView(e);if(n||i)return this.data=n?new DataView(e):new DataView(e.buffer,e.byteOffset,e.byteLength),void(this.write="writeOffset"in r?r.writeOffset:this.data.byteLength);this.data=new DataView(new ArrayBuffer(0)),this.write=0,null!=e&&this.putBytes(e),"writeOffset"in r&&(this.write=r.writeOffset)},t.DataBuffer.prototype.length=function(){return this.write-this.read},t.DataBuffer.prototype.isEmpty=function(){return this.length()<=0},t.DataBuffer.prototype.accommodate=function(e,t){if(this.length()>=e)return this;t=Math.max(t||this.growSize,e);var r=new Uint8Array(this.data.buffer,this.data.byteOffset,this.data.byteLength),n=new Uint8Array(this.length()+t);return n.set(r),this.data=new DataView(n.buffer),this},t.DataBuffer.prototype.putByte=function(e){return this.accommodate(1),this.data.setUint8(this.write++,e),this},t.DataBuffer.prototype.fillWithByte=function(e,t){this.accommodate(t);for(var r=0;r<t;++r)this.data.setUint8(e);return this},t.DataBuffer.prototype.putBytes=function(e,r){if(t.isArrayBufferView(e)){var n=(i=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)).byteLength-i.byteOffset;return this.accommodate(n),new Uint8Array(this.data.buffer,this.write).set(i),this.write+=n,this}if(t.isArrayBuffer(e)){var i=new Uint8Array(e);return this.accommodate(i.byteLength),new Uint8Array(this.data.buffer).set(i,this.write),this.write+=i.byteLength,this}if(e instanceof t.DataBuffer||"object"==ky(e)&&"number"==typeof e.read&&"number"==typeof e.write&&t.isArrayBufferView(e.data))return i=new Uint8Array(e.data.byteLength,e.read,e.length()),this.accommodate(i.byteLength),new Uint8Array(e.data.byteLength,this.write).set(i),this.write+=i.byteLength,this;if(e instanceof t.ByteStringBuffer&&(e=e.data,r="binary"),r=r||"binary","string"==typeof e){var o;if("hex"===r)return this.accommodate(Math.ceil(e.length/2)),o=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.hex.decode(e,o,this.write),this;if("base64"===r)return this.accommodate(3*Math.ceil(e.length/4)),o=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.base64.decode(e,o,this.write),this;if("utf8"===r&&(e=t.encodeUtf8(e),r="binary"),"binary"===r||"raw"===r)return this.accommodate(e.length),o=new Uint8Array(this.data.buffer,this.write),this.write+=t.binary.raw.decode(o),this;if("utf16"===r)return this.accommodate(2*e.length),o=new Uint16Array(this.data.buffer,this.write),this.write+=t.text.utf16.encode(o),this;throw new Error("Invalid encoding: "+r)}throw Error("Invalid parameter: "+e)},t.DataBuffer.prototype.putBuffer=function(e){return this.putBytes(e),e.clear(),this},t.DataBuffer.prototype.putString=function(e){return this.putBytes(e,"utf16")},t.DataBuffer.prototype.putInt16=function(e){return this.accommodate(2),this.data.setInt16(this.write,e),this.write+=2,this},t.DataBuffer.prototype.putInt24=function(e){return this.accommodate(3),this.data.setInt16(this.write,e>>8&65535),this.data.setInt8(this.write,e>>16&255),this.write+=3,this},t.DataBuffer.prototype.putInt32=function(e){return this.accommodate(4),this.data.setInt32(this.write,e),this.write+=4,this},t.DataBuffer.prototype.putInt16Le=function(e){return this.accommodate(2),this.data.setInt16(this.write,e,!0),this.write+=2,this},t.DataBuffer.prototype.putInt24Le=function(e){return this.accommodate(3),this.data.setInt8(this.write,e>>16&255),this.data.setInt16(this.write,e>>8&65535,!0),this.write+=3,this},t.DataBuffer.prototype.putInt32Le=function(e){return this.accommodate(4),this.data.setInt32(this.write,e,!0),this.write+=4,this},t.DataBuffer.prototype.putInt=function(e,t){r(t),this.accommodate(t/8);do{t-=8,this.data.setInt8(this.write++,e>>t&255)}while(t>0);return this},t.DataBuffer.prototype.putSignedInt=function(e,t){return r(t),this.accommodate(t/8),e<0&&(e+=2<<t-1),this.putInt(e,t)},t.DataBuffer.prototype.getByte=function(){return this.data.getInt8(this.read++)},t.DataBuffer.prototype.getInt16=function(){var e=this.data.getInt16(this.read);return this.read+=2,e},t.DataBuffer.prototype.getInt24=function(){var e=this.data.getInt16(this.read)<<8^this.data.getInt8(this.read+2);return this.read+=3,e},t.DataBuffer.prototype.getInt32=function(){var e=this.data.getInt32(this.read);return this.read+=4,e},t.DataBuffer.prototype.getInt16Le=function(){var e=this.data.getInt16(this.read,!0);return this.read+=2,e},t.DataBuffer.prototype.getInt24Le=function(){var e=this.data.getInt8(this.read)^this.data.getInt16(this.read+1,!0)<<8;return this.read+=3,e},t.DataBuffer.prototype.getInt32Le=function(){var e=this.data.getInt32(this.read,!0);return this.read+=4,e},t.DataBuffer.prototype.getInt=function(e){r(e);var t=0;do{t=(t<<8)+this.data.getInt8(this.read++),e-=8}while(e>0);return t},t.DataBuffer.prototype.getSignedInt=function(e){var t=this.getInt(e),r=2<<e-2;return t>=r&&(t-=r<<1),t},t.DataBuffer.prototype.getBytes=function(e){var t;return e?(e=Math.min(this.length(),e),t=this.data.slice(this.read,this.read+e),this.read+=e):0===e?t="":(t=0===this.read?this.data:this.data.slice(this.read),this.clear()),t},t.DataBuffer.prototype.bytes=function(e){return void 0===e?this.data.slice(this.read):this.data.slice(this.read,this.read+e)},t.DataBuffer.prototype.at=function(e){return this.data.getUint8(this.read+e)},t.DataBuffer.prototype.setAt=function(e,t){return this.data.setUint8(e,t),this},t.DataBuffer.prototype.last=function(){return this.data.getUint8(this.write-1)},t.DataBuffer.prototype.copy=function(){return new t.DataBuffer(this)},t.DataBuffer.prototype.compact=function(){if(this.read>0){var e=new Uint8Array(this.data.buffer,this.read),t=new Uint8Array(e.byteLength);t.set(e),this.data=new DataView(t),this.write-=this.read,this.read=0}return this},t.DataBuffer.prototype.clear=function(){return this.data=new DataView(new ArrayBuffer(0)),this.read=this.write=0,this},t.DataBuffer.prototype.truncate=function(e){return this.write=Math.max(0,this.length()-e),this.read=Math.min(this.read,this.write),this},t.DataBuffer.prototype.toHex=function(){for(var e="",t=this.read;t<this.data.byteLength;++t){var r=this.data.getUint8(t);r<16&&(e+="0"),e+=r.toString(16)}return e},t.DataBuffer.prototype.toString=function(e){var r=new Uint8Array(this.data,this.read,this.length());if("binary"===(e=e||"utf8")||"raw"===e)return t.binary.raw.encode(r);if("hex"===e)return t.binary.hex.encode(r);if("base64"===e)return t.binary.base64.encode(r);if("utf8"===e)return t.text.utf8.decode(r);if("utf16"===e)return t.text.utf16.decode(r);throw new Error("Invalid encoding: "+e)},t.createBuffer=function(e,r){return r=r||"raw",void 0!==e&&"utf8"===r&&(e=t.encodeUtf8(e)),new t.ByteBuffer(e)},t.fillString=function(e,t){for(var r="";t>0;)1&t&&(r+=e),(t>>>=1)>0&&(e+=e);return r},t.xorBytes=function(e,t,r){for(var n="",i="",o="",a=0,s=0;r>0;--r,++a)i=e.charCodeAt(a)^t.charCodeAt(a),s>=10&&(n+=o,o="",s=0),o+=String.fromCharCode(i),++s;return n+o},t.hexToBytes=function(e){var t="",r=0;for(!0&e.length&&(r=1,t+=String.fromCharCode(parseInt(e[0],16)));r<e.length;r+=2)t+=String.fromCharCode(parseInt(e.substr(r,2),16));return t},t.bytesToHex=function(e){return t.createBuffer(e).toHex()},t.int32ToBytes=function(e){return String.fromCharCode(e>>24&255)+String.fromCharCode(e>>16&255)+String.fromCharCode(e>>8&255)+String.fromCharCode(255&e)};var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=[62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,64,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],a="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";t.encode64=function(e,t){for(var r,n,o,a="",s="",c=0;c<e.length;)r=e.charCodeAt(c++),n=e.charCodeAt(c++),o=e.charCodeAt(c++),a+=i.charAt(r>>2),a+=i.charAt((3&r)<<4|n>>4),isNaN(n)?a+="==":(a+=i.charAt((15&n)<<2|o>>6),a+=isNaN(o)?"=":i.charAt(63&o)),t&&a.length>t&&(s+=a.substr(0,t)+"\r\n",a=a.substr(t));return s+a},t.decode64=function(e){e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var t,r,n,i,a="",s=0;s<e.length;)t=o[e.charCodeAt(s++)-43],r=o[e.charCodeAt(s++)-43],n=o[e.charCodeAt(s++)-43],i=o[e.charCodeAt(s++)-43],a+=String.fromCharCode(t<<2|r>>4),64!==n&&(a+=String.fromCharCode((15&r)<<4|n>>2),64!==i&&(a+=String.fromCharCode((3&n)<<6|i)));return a},t.encodeUtf8=function(e){return unescape(encodeURIComponent(e))},t.decodeUtf8=function(e){return decodeURIComponent(escape(e))},t.binary={raw:{},hex:{},base64:{},base58:{},baseN:{encode:z.encode,decode:z.decode}},t.binary.raw.encode=function(e){return String.fromCharCode.apply(null,e)},t.binary.raw.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(e.length));for(var i=r=r||0,o=0;o<e.length;++o)n[i++]=e.charCodeAt(o);return t?i-r:n},t.binary.hex.encode=t.bytesToHex,t.binary.hex.decode=function(e,t,r){var n=t;n||(n=new Uint8Array(Math.ceil(e.length/2)));var i=0,o=r=r||0;for(1&e.length&&(i=1,n[o++]=parseInt(e[0],16));i<e.length;i+=2)n[o++]=parseInt(e.substr(i,2),16);return t?o-r:n},t.binary.base64.encode=function(e,t){for(var r,n,o,a="",s="",c=0;c<e.byteLength;)r=e[c++],n=e[c++],o=e[c++],a+=i.charAt(r>>2),a+=i.charAt((3&r)<<4|n>>4),isNaN(n)?a+="==":(a+=i.charAt((15&n)<<2|o>>6),a+=isNaN(o)?"=":i.charAt(63&o)),t&&a.length>t&&(s+=a.substr(0,t)+"\r\n",a=a.substr(t));return s+a},t.binary.base64.decode=function(e,t,r){var n,i,a,s,c=t;c||(c=new Uint8Array(3*Math.ceil(e.length/4))),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var u=0,l=r=r||0;u<e.length;)n=o[e.charCodeAt(u++)-43],i=o[e.charCodeAt(u++)-43],a=o[e.charCodeAt(u++)-43],s=o[e.charCodeAt(u++)-43],c[l++]=n<<2|i>>4,64!==a&&(c[l++]=(15&i)<<4|a>>2,64!==s&&(c[l++]=(3&a)<<6|s));return t?l-r:c.subarray(0,l)},t.binary.base58.encode=function(e,r){return t.binary.baseN.encode(e,a,r)},t.binary.base58.decode=function(e,r){return t.binary.baseN.decode(e,a,r)},t.text={utf8:{},utf16:{}},t.text.utf8.encode=function(e,r,n){e=t.encodeUtf8(e);var i=r;i||(i=new Uint8Array(e.length));for(var o=n=n||0,a=0;a<e.length;++a)i[o++]=e.charCodeAt(a);return r?o-n:i},t.text.utf8.decode=function(e){return t.decodeUtf8(String.fromCharCode.apply(null,e))},t.text.utf16.encode=function(e,t,r){var n=t;n||(n=new Uint8Array(2*e.length));for(var i=new Uint16Array(n.buffer),o=r=r||0,a=r,s=0;s<e.length;++s)i[a++]=e.charCodeAt(s),o+=2;return t?o-r:n},t.text.utf16.decode=function(e){return String.fromCharCode.apply(null,new Uint16Array(e.buffer))},t.deflate=function(e,r,n){if(r=t.decode64(e.deflate(t.encode64(r)).rval),n){var i=2;32&r.charCodeAt(1)&&(i=6),r=r.substring(i,r.length-4)}return r},t.inflate=function(e,r,n){var i=e.inflate(t.encode64(r)).rval;return null===i?null:t.decode64(i)};var s=function(e,r,n){if(!e)throw new Error("WebStorage not available.");var i;if(null===n?i=e.removeItem(r):(n=t.encode64(JSON.stringify(n)),i=e.setItem(r,n)),void 0!==i&&!0!==i.rval){var o=new Error(i.error.message);throw o.id=i.error.id,o.name=i.error.name,o}},c=function(e,r){if(!e)throw new Error("WebStorage not available.");var n=e.getItem(r);if(e.init)if(null===n.rval){if(n.error){var i=new Error(n.error.message);throw i.id=n.error.id,i.name=n.error.name,i}n=null}else n=n.rval;return null!==n&&(n=JSON.parse(t.decode64(n))),n},u=function(e,t,r,n){var i=c(e,t);null===i&&(i={}),i[r]=n,s(e,t,i)},l=function(e,t,r){var n=c(e,t);return null!==n&&(n=r in n?n[r]:null),n},f=function(e,t,r){var n=c(e,t);if(null!==n&&r in n){delete n[r];var i=!0;for(var o in n){i=!1;break}i&&(n=null),s(e,t,n)}},d=function(e,t){s(e,t,null)},p=function(e,t,r){var n,i=null;void 0===r&&(r=["web","flash"]);var o=!1,a=null;for(var s in r){n=r[s];try{if("flash"===n||"both"===n){if(null===t[0])throw new Error("Flash local storage not available.");i=e.apply(this,t),o="flash"===n}"web"!==n&&"both"!==n||(t[0]=localStorage,i=e.apply(this,t),o=!0)}catch(e){a=e}if(o)break}if(!o)throw a;return i};t.setItem=function(e,t,r,n,i){p(u,arguments,i)},t.getItem=function(e,t,r,n){return p(l,arguments,n)},t.removeItem=function(e,t,r,n){p(f,arguments,n)},t.clearItems=function(e,t,r){p(d,arguments,r)},t.parseUrl=function(e){var t=/^(https?):\/\/([^:&^\/]*):?(\d*)(.*)$/g;t.lastIndex=0;var r=t.exec(e),n=null===r?null:{full:e,scheme:r[1],host:r[2],port:r[3],path:r[4]};return n&&(n.fullHost=n.host,n.port?(80!==n.port&&"http"===n.scheme||443!==n.port&&"https"===n.scheme)&&(n.fullHost+=":"+n.port):"http"===n.scheme?n.port=80:"https"===n.scheme&&(n.port=443),n.full=n.scheme+"://"+n.fullHost),n};var h=null;t.getQueryVariables=function(e){var t,r=function(e){for(var t={},r=e.split("&"),n=0;n<r.length;n++){var i,o,a=r[n].indexOf("=");a>0?(i=r[n].substring(0,a),o=r[n].substring(a+1)):(i=r[n],o=null),i in t||(t[i]=[]),i in Object.prototype||null===o||t[i].push(unescape(o))}return t};return void 0===e?(null===h&&(h="undefined"!=typeof window&&window.location&&window.location.search?r(window.location.search.substring(1)):{}),t=h):t=r(e),t},t.parseFragment=function(e){var r=e,n="",i=e.indexOf("?");i>0&&(r=e.substring(0,i),n=e.substring(i+1));var o=r.split("/");return o.length>0&&""===o[0]&&o.shift(),{pathString:r,queryString:n,path:o,query:""===n?{}:t.getQueryVariables(n)}},t.makeRequest=function(e){var r=t.parseFragment(e),n={path:r.pathString,query:r.queryString,getPath:function(e){return void 0===e?r.path:r.path[e]},getQuery:function(e,t){var n;return void 0===e?n=r.query:(n=r.query[e])&&void 0!==t&&(n=n[t]),n},getQueryLast:function(e,t){var r=n.getQuery(e);return r?r[r.length-1]:t}};return n},t.makeLink=function(e,t,r){e=jQuery.isArray(e)?e.join("/"):e;var n=jQuery.param(t||{});return r=r||"",e+(n.length>0?"?"+n:"")+(r.length>0?"#"+r:"")},t.setPath=function(e,t,r){if("object"==ky(e)&&null!==e)for(var n=0,i=t.length;n<i;){var o=t[n++];if(n==i)e[o]=r;else{var a=o in e;(!a||a&&"object"!=ky(e[o])||a&&null===e[o])&&(e[o]={}),e=e[o]}}},t.getPath=function(e,t,r){for(var n=0,i=t.length,o=!0;o&&n<i&&"object"==ky(e)&&null!==e;){var a=t[n++];(o=a in e)&&(e=e[a])}return o?e:r},t.deletePath=function(e,t){if("object"==ky(e)&&null!==e)for(var r=0,n=t.length;r<n;){var i=t[r++];if(r==n)delete e[i];else{if(!(i in e)||"object"!=ky(e[i])||null===e[i])break;e=e[i]}}},t.isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},t.format=function(e){for(var t,r,n=/%./g,i=0,o=[],a=0;t=n.exec(e);){(r=e.substring(a,n.lastIndex-2)).length>0&&o.push(r),a=n.lastIndex;var s=t[0][1];switch(s){case"s":case"o":i<arguments.length?o.push(arguments[1+i++]):o.push("<?>");break;case"%":o.push("%");break;default:o.push("<%"+s+"?>")}}return o.push(e.substring(a)),o.join("")},t.formatNumber=function(e,t,r,n){var i=e,o=isNaN(t=Math.abs(t))?2:t,a=void 0===r?",":r,s=void 0===n?".":n,c=i<0?"-":"",u=parseInt(i=Math.abs(+i||0).toFixed(o),10)+"",l=u.length>3?u.length%3:0;return c+(l?u.substr(0,l)+s:"")+u.substr(l).replace(/(\d{3})(?=\d)/g,"$1"+s)+(o?a+Math.abs(i-u).toFixed(o).slice(2):"")},t.formatSize=function(e){return e>=1073741824?t.formatNumber(e/1073741824,2,".","")+" GiB":e>=1048576?t.formatNumber(e/1048576,2,".","")+" MiB":e>=1024?t.formatNumber(e/1024,0)+" KiB":t.formatNumber(e,0)+" bytes"},t.bytesFromIP=function(e){return-1!==e.indexOf(".")?t.bytesFromIPv4(e):-1!==e.indexOf(":")?t.bytesFromIPv6(e):null},t.bytesFromIPv4=function(e){if(4!==(e=e.split(".")).length)return null;for(var r=t.createBuffer(),n=0;n<e.length;++n){var i=parseInt(e[n],10);if(isNaN(i))return null;r.putByte(i)}return r.getBytes()},t.bytesFromIPv6=function(e){for(var r=0,n=2*(8-(e=e.split(":").filter((function(e){return 0===e.length&&++r,!0}))).length+r),i=t.createBuffer(),o=0;o<8;++o)if(e[o]&&0!==e[o].length){var a=t.hexToBytes(e[o]);a.length<2&&i.putByte(0),i.putBytes(a)}else i.fillWithByte(0,n),n=0;return i.getBytes()},t.bytesToIP=function(e){return 4===e.length?t.bytesToIPv4(e):16===e.length?t.bytesToIPv6(e):null},t.bytesToIPv4=function(e){if(4!==e.length)return null;for(var t=[],r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t.join(".")},t.bytesToIPv6=function(e){if(16!==e.length)return null;for(var r=[],n=[],i=0,o=0;o<e.length;o+=2){for(var a=t.bytesToHex(e[o]+e[o+1]);"0"===a[0]&&"0"!==a;)a=a.substr(1);if("0"===a){var s=n[n.length-1],c=r.length;s&&c===s.end+1?(s.end=c,s.end-s.start>n[i].end-n[i].start&&(i=n.length-1)):n.push({start:c,end:c})}r.push(a)}if(n.length>0){var u=n[i];u.end-u.start>0&&(r.splice(u.start,u.end-u.start+1,""),0===u.start&&r.unshift(""),7===u.end&&r.push(""))}return r.join(":")},t.estimateCores=function(e,r){if("function"==typeof e&&(r=e,e={}),e=e||{},"cores"in t&&!e.update)return r(null,t.cores);if("undefined"!=typeof navigator&&"hardwareConcurrency"in navigator&&navigator.hardwareConcurrency>0)return t.cores=navigator.hardwareConcurrency,r(null,t.cores);if("undefined"==typeof Worker)return t.cores=1,r(null,t.cores);if("undefined"==typeof Blob)return t.cores=2,r(null,t.cores);var n=URL.createObjectURL(new Blob(["(",function(){self.addEventListener("message",(function(e){var t=Date.now(),r=t+4;self.postMessage({st:t,et:r})}))}.toString(),")()"],{type:"application/javascript"}));!function e(i,o,a){if(0===o){var s=Math.floor(i.reduce((function(e,t){return e+t}),0)/i.length);return t.cores=Math.max(1,s),URL.revokeObjectURL(n),r(null,t.cores)}!function(e,t){for(var r=[],i=[],o=0;o<e;++o){var a=new Worker(n);a.addEventListener("message",(function(n){if(i.push(n.data),i.length===e){for(var o=0;o<e;++o)r[o].terminate();t(null,i)}})),r.push(a)}for(o=0;o<e;++o)r[o].postMessage(o)}(a,(function(t,r){i.push(function(e,t){for(var r=[],n=0;n<e;++n)for(var i=t[n],o=r[n]=[],a=0;a<e;++a)if(n!==a){var s=t[a];(i.st>s.st&&i.st<s.et||s.st>i.st&&s.st<i.et)&&o.push(a)}return r.reduce((function(e,t){return Math.max(e,t.length)}),0)}(a,r)),e(i,o-1,a)}))}([],5,16)}})),F.cipher=F.cipher||{},F.cipher.algorithms=F.cipher.algorithms||{},F.cipher.createCipher=function(e,t){var r=e;if("string"==typeof r&&(r=F.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new F.cipher.BlockCipher({algorithm:r,key:t,decrypt:!1})},F.cipher.createDecipher=function(e,t){var r=e;if("string"==typeof r&&(r=F.cipher.getAlgorithm(r))&&(r=r()),!r)throw new Error("Unsupported algorithm: "+e);return new F.cipher.BlockCipher({algorithm:r,key:t,decrypt:!0})},F.cipher.registerAlgorithm=function(e,t){e=e.toUpperCase(),F.cipher.algorithms[e]=t},F.cipher.getAlgorithm=function(e){return(e=e.toUpperCase())in F.cipher.algorithms?F.cipher.algorithms[e]:null};var q=F.cipher.BlockCipher=function(e){this.algorithm=e.algorithm,this.mode=this.algorithm.mode,this.blockSize=this.mode.blockSize,this._finish=!1,this._input=null,this.output=null,this._op=e.decrypt?this.mode.decrypt:this.mode.encrypt,this._decrypt=e.decrypt,this.algorithm.initialize(e)};function H(e,t){F.cipher.registerAlgorithm(e,(function(){return new F.aes.Algorithm(e,t)}))}q.prototype.start=function(e){e=e||{};var t={};for(var r in e)t[r]=e[r];t.decrypt=this._decrypt,this._finish=!1,this._input=F.util.createBuffer(),this.output=e.output||F.util.createBuffer(),this.mode.start(t)},q.prototype.update=function(e){for(e&&this._input.putBuffer(e);!this._op.call(this.mode,this._input,this.output,this._finish)&&!this._finish;);this._input.compact()},q.prototype.finish=function(e){!e||"ECB"!==this.mode.name&&"CBC"!==this.mode.name||(this.mode.pad=function(t){return e(this.blockSize,t,!1)},this.mode.unpad=function(t){return e(this.blockSize,t,!0)});var t={};return t.decrypt=this._decrypt,t.overflow=this._input.length()%this.blockSize,!(!this._decrypt&&this.mode.pad&&!this.mode.pad(this._input,t)||(this._finish=!0,this.update(),this._decrypt&&this.mode.unpad&&!this.mode.unpad(this.output,t)||this.mode.afterFinish&&!this.mode.afterFinish(this.output,t)))},w((function(e){F.cipher=F.cipher||{};var t=e.exports=F.cipher.modes=F.cipher.modes||{};function r(e,t){if("string"==typeof e&&(e=F.util.createBuffer(e)),F.util.isArray(e)&&e.length>4){var r=e;e=F.util.createBuffer();for(var n=0;n<r.length;++n)e.putByte(r[n])}if(e.length()<t)throw new Error("Invalid IV length; got "+e.length()+" bytes and expected "+t+" bytes.");if(!F.util.isArray(e)){var i=[],o=t/4;for(n=0;n<o;++n)i.push(e.getInt32());e=i}return e}function n(e){e[e.length-1]=e[e.length-1]+1&4294967295}function i(e){return[e/4294967296|0,4294967295&e]}t.ecb=function(e){e=e||{},this.name="ECB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},t.ecb.prototype.start=function(e){},t.ecb.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},t.ecb.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)t.putInt32(this._outBlock[n])},t.ecb.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},t.ecb.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2||(e.truncate(n),0))},t.cbc=function(e){e=e||{},this.name="CBC",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints)},t.cbc.prototype.start=function(e){if(null===e.iv){if(!this._prev)throw new Error("Invalid IV parameter.");this._iv=this._prev.slice(0)}else{if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=r(e.iv,this.blockSize),this._prev=this._iv.slice(0)}},t.cbc.prototype.encrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=this._prev[n]^e.getInt32();for(this.cipher.encrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)t.putInt32(this._outBlock[n]);this._prev=this._outBlock},t.cbc.prototype.decrypt=function(e,t,r){if(e.length()<this.blockSize&&!(r&&e.length()>0))return!0;for(var n=0;n<this._ints;++n)this._inBlock[n]=e.getInt32();for(this.cipher.decrypt(this._inBlock,this._outBlock),n=0;n<this._ints;++n)t.putInt32(this._prev[n]^this._outBlock[n]);this._prev=this._inBlock.slice(0)},t.cbc.prototype.pad=function(e,t){var r=e.length()===this.blockSize?this.blockSize:this.blockSize-e.length();return e.fillWithByte(r,r),!0},t.cbc.prototype.unpad=function(e,t){if(t.overflow>0)return!1;var r=e.length(),n=e.at(r-1);return!(n>this.blockSize<<2||(e.truncate(n),0))},t.cfb=function(e){e=e||{},this.name="CFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialBlock=new Array(this._ints),this._partialOutput=F.util.createBuffer(),this._partialBytes=0},t.cfb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=r(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},t.cfb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32()^this._outBlock[i],t.putInt32(this._inBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;for(o>0&&(o=this.blockSize-o),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32()^this._outBlock[i],this._partialOutput.putInt32(this._partialBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},t.cfb.prototype.decrypt=function(e,t,r){var n=e.length();if(0===n)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)this._inBlock[i]=e.getInt32(),t.putInt32(this._inBlock[i]^this._outBlock[i]);else{var o=(this.blockSize-n)%this.blockSize;for(o>0&&(o=this.blockSize-o),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialBlock[i]=e.getInt32(),this._partialOutput.putInt32(this._partialBlock[i]^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._partialBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},t.ofb=function(e){e=e||{},this.name="OFB",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=F.util.createBuffer(),this._partialBytes=0},t.ofb.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=r(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},t.ofb.prototype.encrypt=function(e,t,r){var n=e.length();if(0===e.length())return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&n>=this.blockSize)for(var i=0;i<this._ints;++i)t.putInt32(e.getInt32()^this._outBlock[i]),this._inBlock[i]=this._outBlock[i];else{var o=(this.blockSize-n)%this.blockSize;for(o>0&&(o=this.blockSize-o),this._partialOutput.clear(),i=0;i<this._ints;++i)this._partialOutput.putInt32(e.getInt32()^this._outBlock[i]);if(o>0)e.read-=this.blockSize;else for(i=0;i<this._ints;++i)this._inBlock[i]=this._outBlock[i];if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),o>0&&!r)return t.putBytes(this._partialOutput.getBytes(o-this._partialBytes)),this._partialBytes=o,!0;t.putBytes(this._partialOutput.getBytes(n-this._partialBytes)),this._partialBytes=0}},t.ofb.prototype.decrypt=t.ofb.prototype.encrypt,t.ctr=function(e){e=e||{},this.name="CTR",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=null,this._outBlock=new Array(this._ints),this._partialOutput=F.util.createBuffer(),this._partialBytes=0},t.ctr.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");this._iv=r(e.iv,this.blockSize),this._inBlock=this._iv.slice(0),this._partialBytes=0},t.ctr.prototype.encrypt=function(e,t,r){var i=e.length();if(0===i)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&i>=this.blockSize)for(var o=0;o<this._ints;++o)t.putInt32(e.getInt32()^this._outBlock[o]);else{var a=(this.blockSize-i)%this.blockSize;for(a>0&&(a=this.blockSize-a),this._partialOutput.clear(),o=0;o<this._ints;++o)this._partialOutput.putInt32(e.getInt32()^this._outBlock[o]);if(a>0&&(e.read-=this.blockSize),this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}n(this._inBlock)},t.ctr.prototype.decrypt=t.ctr.prototype.encrypt,t.gcm=function(e){e=e||{},this.name="GCM",this.cipher=e.cipher,this.blockSize=e.blockSize||16,this._ints=this.blockSize/4,this._inBlock=new Array(this._ints),this._outBlock=new Array(this._ints),this._partialOutput=F.util.createBuffer(),this._partialBytes=0,this._R=3774873600},t.gcm.prototype.start=function(e){if(!("iv"in e))throw new Error("Invalid IV parameter.");var t,r=F.util.createBuffer(e.iv);if(this._cipherLength=0,t="additionalData"in e?F.util.createBuffer(e.additionalData):F.util.createBuffer(),this._tagLength="tagLength"in e?e.tagLength:128,this._tag=null,e.decrypt&&(this._tag=F.util.createBuffer(e.tag).getBytes(),this._tag.length!==this._tagLength/8))throw new Error("Authentication tag does not match tag length.");this._hashBlock=new Array(this._ints),this.tag=null,this._hashSubkey=new Array(this._ints),this.cipher.encrypt([0,0,0,0],this._hashSubkey),this.componentBits=4,this._m=this.generateHashTable(this._hashSubkey,this.componentBits);var o=r.length();if(12===o)this._j0=[r.getInt32(),r.getInt32(),r.getInt32(),1];else{for(this._j0=[0,0,0,0];r.length()>0;)this._j0=this.ghash(this._hashSubkey,this._j0,[r.getInt32(),r.getInt32(),r.getInt32(),r.getInt32()]);this._j0=this.ghash(this._hashSubkey,this._j0,[0,0].concat(i(8*o)))}this._inBlock=this._j0.slice(0),n(this._inBlock),this._partialBytes=0,t=F.util.createBuffer(t),this._aDataLength=i(8*t.length());var a=t.length()%this.blockSize;for(a&&t.fillWithByte(0,this.blockSize-a),this._s=[0,0,0,0];t.length()>0;)this._s=this.ghash(this._hashSubkey,this._s,[t.getInt32(),t.getInt32(),t.getInt32(),t.getInt32()])},t.gcm.prototype.encrypt=function(e,t,r){var i=e.length();if(0===i)return!0;if(this.cipher.encrypt(this._inBlock,this._outBlock),0===this._partialBytes&&i>=this.blockSize){for(var o=0;o<this._ints;++o)t.putInt32(this._outBlock[o]^=e.getInt32());this._cipherLength+=this.blockSize}else{var a=(this.blockSize-i)%this.blockSize;for(a>0&&(a=this.blockSize-a),this._partialOutput.clear(),o=0;o<this._ints;++o)this._partialOutput.putInt32(e.getInt32()^this._outBlock[o]);if(a<=0||r){if(r){var s=i%this.blockSize;this._cipherLength+=s,this._partialOutput.truncate(this.blockSize-s)}else this._cipherLength+=this.blockSize;for(o=0;o<this._ints;++o)this._outBlock[o]=this._partialOutput.getInt32();this._partialOutput.read-=this.blockSize}if(this._partialBytes>0&&this._partialOutput.getBytes(this._partialBytes),a>0&&!r)return e.read-=this.blockSize,t.putBytes(this._partialOutput.getBytes(a-this._partialBytes)),this._partialBytes=a,!0;t.putBytes(this._partialOutput.getBytes(i-this._partialBytes)),this._partialBytes=0}this._s=this.ghash(this._hashSubkey,this._s,this._outBlock),n(this._inBlock)},t.gcm.prototype.decrypt=function(e,t,r){var i=e.length();if(i<this.blockSize&&!(r&&i>0))return!0;this.cipher.encrypt(this._inBlock,this._outBlock),n(this._inBlock),this._hashBlock[0]=e.getInt32(),this._hashBlock[1]=e.getInt32(),this._hashBlock[2]=e.getInt32(),this._hashBlock[3]=e.getInt32(),this._s=this.ghash(this._hashSubkey,this._s,this._hashBlock);for(var o=0;o<this._ints;++o)t.putInt32(this._outBlock[o]^this._hashBlock[o]);i<this.blockSize?this._cipherLength+=i%this.blockSize:this._cipherLength+=this.blockSize},t.gcm.prototype.afterFinish=function(e,t){var r=!0;t.decrypt&&t.overflow&&e.truncate(this.blockSize-t.overflow),this.tag=F.util.createBuffer();var n=this._aDataLength.concat(i(8*this._cipherLength));this._s=this.ghash(this._hashSubkey,this._s,n);var o=[];this.cipher.encrypt(this._j0,o);for(var a=0;a<this._ints;++a)this.tag.putInt32(this._s[a]^o[a]);return this.tag.truncate(this.tag.length()%(this._tagLength/8)),t.decrypt&&this.tag.bytes()!==this._tag&&(r=!1),r},t.gcm.prototype.multiply=function(e,t){for(var r=[0,0,0,0],n=t.slice(0),i=0;i<128;++i)e[i/32|0]&1<<31-i%32&&(r[0]^=n[0],r[1]^=n[1],r[2]^=n[2],r[3]^=n[3]),this.pow(n,n);return r},t.gcm.prototype.pow=function(e,t){for(var r=1&e[3],n=3;n>0;--n)t[n]=e[n]>>>1|(1&e[n-1])<<31;t[0]=e[0]>>>1,r&&(t[0]^=this._R)},t.gcm.prototype.tableMultiply=function(e){for(var t=[0,0,0,0],r=0;r<32;++r){var n=e[r/8|0]>>>4*(7-r%8)&15,i=this._m[r][n];t[0]^=i[0],t[1]^=i[1],t[2]^=i[2],t[3]^=i[3]}return t},t.gcm.prototype.ghash=function(e,t,r){return t[0]^=r[0],t[1]^=r[1],t[2]^=r[2],t[3]^=r[3],this.tableMultiply(t)},t.gcm.prototype.generateHashTable=function(e,t){for(var r=8/t,n=4*r,i=16*r,o=new Array(i),a=0;a<i;++a){var s=[0,0,0,0],c=(n-1-a%n)*t;s[a/n|0]=1<<t-1<<c,o[a]=this.generateSubHashTable(this.multiply(s,e),t)}return o},t.gcm.prototype.generateSubHashTable=function(e,t){var r=1<<t,n=r>>>1,i=new Array(r);i[n]=e.slice(0);for(var o=n>>>1;o>0;)this.pow(i[2*o],i[o]=[]),o>>=1;for(o=2;o<n;){for(var a=1;a<o;++a){var s=i[o],c=i[a];i[o+a]=[s[0]^c[0],s[1]^c[1],s[2]^c[2],s[3]^c[3]]}o*=2}for(i[0]=[0,0,0,0],o=n+1;o<r;++o){var u=i[o^n];i[o]=[e[0]^u[0],e[1]^u[1],e[2]^u[2],e[3]^u[3]]}return i}})),F.aes=F.aes||{},F.aes.startEncrypting=function(e,t,r,n){var i=te({key:e,output:r,decrypt:!1,mode:n});return i.start(t),i},F.aes.createEncryptionCipher=function(e,t){return te({key:e,output:null,decrypt:!1,mode:t})},F.aes.startDecrypting=function(e,t,r,n){var i=te({key:e,output:r,decrypt:!0,mode:n});return i.start(t),i},F.aes.createDecryptionCipher=function(e,t){return te({key:e,output:null,decrypt:!0,mode:t})},F.aes.Algorithm=function(e,t){$||Z();var r=this;r.name=e,r.mode=new t({blockSize:16,cipher:{encrypt:function(e,t){return ee(r._w,e,t,!1)},decrypt:function(e,t){return ee(r._w,e,t,!0)}}}),r._init=!1},F.aes.Algorithm.prototype.initialize=function(e){if(!this._init){var t,r=e.key;if("string"!=typeof r||16!==r.length&&24!==r.length&&32!==r.length){if(F.util.isArray(r)&&(16===r.length||24===r.length||32===r.length)){t=r,r=F.util.createBuffer();for(var n=0;n<t.length;++n)r.putByte(t[n])}}else r=F.util.createBuffer(r);if(!F.util.isArray(r)){t=r,r=[];var i=t.length();if(16===i||24===i||32===i)for(i>>>=2,n=0;n<i;++n)r.push(t.getInt32())}if(!F.util.isArray(r)||4!==r.length&&6!==r.length&&8!==r.length)throw new Error("Invalid key parameter.");var o=this.mode.name,a=-1!==["CFB","OFB","CTR","GCM"].indexOf(o);this._w=J(r,e.decrypt&&!a),this._init=!0}},F.aes._expandKey=function(e,t){return $||Z(),J(e,t)},F.aes._updateBlock=ee,H("AES-ECB",F.cipher.modes.ecb),H("AES-CBC",F.cipher.modes.cbc),H("AES-CFB",F.cipher.modes.cfb),H("AES-OFB",F.cipher.modes.ofb),H("AES-CTR",F.cipher.modes.ctr),H("AES-GCM",F.cipher.modes.gcm);var Q,W,G,Y,X,$=!1;function Z(){$=!0,G=[0,1,2,4,8,16,32,64,128,27,54];for(var e=new Array(256),t=0;t<128;++t)e[t]=t<<1,e[t+128]=t+128<<1^283;for(Q=new Array(256),W=new Array(256),Y=new Array(4),X=new Array(4),t=0;t<4;++t)Y[t]=new Array(256),X[t]=new Array(256);var r,n,i,o,a,s,c,u=0,l=0;for(t=0;t<256;++t){o=(o=l^l<<1^l<<2^l<<3^l<<4)>>8^255&o^99,Q[u]=o,W[o]=u,s=(a=e[o])<<24^o<<16^o<<8^o^a,c=((r=e[u])^(n=e[r])^(i=e[n]))<<24^(u^i)<<16^(u^n^i)<<8^u^r^i;for(var f=0;f<4;++f)Y[f][u]=s,X[f][o]=c,s=s<<24|s>>>8,c=c<<24|c>>>8;0===u?u=l=1:(u=r^e[e[e[r^i]]],l^=e[e[l]])}}function J(e,t){for(var r,n=e.slice(0),i=1,o=n.length,a=4*(o+6+1),s=o;s<a;++s)r=n[s-1],s%o==0?(r=Q[r>>>16&255]<<24^Q[r>>>8&255]<<16^Q[255&r]<<8^Q[r>>>24]^G[i]<<24,i++):o>6&&s%o==4&&(r=Q[r>>>24]<<24^Q[r>>>16&255]<<16^Q[r>>>8&255]<<8^Q[255&r]),n[s]=n[s-o]^r;if(t){for(var c,u=X[0],l=X[1],f=X[2],d=X[3],p=n.slice(0),h=(s=0,(a=n.length)-4);s<a;s+=4,h-=4)if(0===s||s===a-4)p[s]=n[h],p[s+1]=n[h+3],p[s+2]=n[h+2],p[s+3]=n[h+1];else for(var g=0;g<4;++g)c=n[h+g],p[s+(3&-g)]=u[Q[c>>>24]]^l[Q[c>>>16&255]]^f[Q[c>>>8&255]]^d[Q[255&c]];n=p}return n}function ee(e,t,r,n){var i,o,a,s,c,u,l,f,d,p,h,g,m=e.length/4-1;n?(i=X[0],o=X[1],a=X[2],s=X[3],c=W):(i=Y[0],o=Y[1],a=Y[2],s=Y[3],c=Q),u=t[0]^e[0],l=t[n?3:1]^e[1],f=t[2]^e[2],d=t[n?1:3]^e[3];for(var v=3,y=1;y<m;++y)p=i[u>>>24]^o[l>>>16&255]^a[f>>>8&255]^s[255&d]^e[++v],h=i[l>>>24]^o[f>>>16&255]^a[d>>>8&255]^s[255&u]^e[++v],g=i[f>>>24]^o[d>>>16&255]^a[u>>>8&255]^s[255&l]^e[++v],d=i[d>>>24]^o[u>>>16&255]^a[l>>>8&255]^s[255&f]^e[++v],u=p,l=h,f=g;r[0]=c[u>>>24]<<24^c[l>>>16&255]<<16^c[f>>>8&255]<<8^c[255&d]^e[++v],r[n?3:1]=c[l>>>24]<<24^c[f>>>16&255]<<16^c[d>>>8&255]<<8^c[255&u]^e[++v],r[2]=c[f>>>24]<<24^c[d>>>16&255]<<16^c[u>>>8&255]<<8^c[255&l]^e[++v],r[n?1:3]=c[d>>>24]<<24^c[u>>>16&255]<<16^c[l>>>8&255]<<8^c[255&f]^e[++v]}function te(e){var t,r="AES-"+((e=e||{}).mode||"CBC").toUpperCase(),n=(t=e.decrypt?F.cipher.createDecipher(r,e.key):F.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var i=null;r instanceof F.util.ByteBuffer&&(i=r,r={}),(r=r||{}).output=i,r.iv=e,n.call(t,r)},t}function re(e,t){F.cipher.registerAlgorithm(e,(function(){return new F.des.Algorithm(e,t)}))}w((function(e){F.pki=F.pki||{};var t=e.exports=F.pki.oids=F.oids=F.oids||{};function r(e,r){t[e]=r,t[r]=e}function n(e,r){t[e]=r}r("1.2.840.113549.1.1.1","rsaEncryption"),r("1.2.840.113549.1.1.4","md5WithRSAEncryption"),r("1.2.840.113549.1.1.5","sha1WithRSAEncryption"),r("1.2.840.113549.1.1.7","RSAES-OAEP"),r("1.2.840.113549.1.1.8","mgf1"),r("1.2.840.113549.1.1.9","pSpecified"),r("1.2.840.113549.1.1.10","RSASSA-PSS"),r("1.2.840.113549.1.1.11","sha256WithRSAEncryption"),r("1.2.840.113549.1.1.12","sha384WithRSAEncryption"),r("1.2.840.113549.1.1.13","sha512WithRSAEncryption"),r("1.3.101.112","EdDSA25519"),r("1.2.840.10040.4.3","dsa-with-sha1"),r("1.3.14.3.2.7","desCBC"),r("1.3.14.3.2.26","sha1"),r("2.16.840.1.101.3.4.2.1","sha256"),r("2.16.840.1.101.3.4.2.2","sha384"),r("2.16.840.1.101.3.4.2.3","sha512"),r("1.2.840.113549.2.5","md5"),r("1.2.840.113549.1.7.1","data"),r("1.2.840.113549.1.7.2","signedData"),r("1.2.840.113549.1.7.3","envelopedData"),r("1.2.840.113549.1.7.4","signedAndEnvelopedData"),r("1.2.840.113549.1.7.5","digestedData"),r("1.2.840.113549.1.7.6","encryptedData"),r("1.2.840.113549.1.9.1","emailAddress"),r("1.2.840.113549.1.9.2","unstructuredName"),r("1.2.840.113549.1.9.3","contentType"),r("1.2.840.113549.1.9.4","messageDigest"),r("1.2.840.113549.1.9.5","signingTime"),r("1.2.840.113549.1.9.6","counterSignature"),r("1.2.840.113549.1.9.7","challengePassword"),r("1.2.840.113549.1.9.8","unstructuredAddress"),r("1.2.840.113549.1.9.14","extensionRequest"),r("1.2.840.113549.1.9.20","friendlyName"),r("1.2.840.113549.1.9.21","localKeyId"),r("1.2.840.113549.1.9.22.1","x509Certificate"),r("1.2.840.113549.1.12.10.1.1","keyBag"),r("1.2.840.113549.1.12.10.1.2","pkcs8ShroudedKeyBag"),r("1.2.840.113549.1.12.10.1.3","certBag"),r("1.2.840.113549.1.12.10.1.4","crlBag"),r("1.2.840.113549.1.12.10.1.5","secretBag"),r("1.2.840.113549.1.12.10.1.6","safeContentsBag"),r("1.2.840.113549.1.5.13","pkcs5PBES2"),r("1.2.840.113549.1.5.12","pkcs5PBKDF2"),r("1.2.840.113549.1.12.1.1","pbeWithSHAAnd128BitRC4"),r("1.2.840.113549.1.12.1.2","pbeWithSHAAnd40BitRC4"),r("1.2.840.113549.1.12.1.3","pbeWithSHAAnd3-KeyTripleDES-CBC"),r("1.2.840.113549.1.12.1.4","pbeWithSHAAnd2-KeyTripleDES-CBC"),r("1.2.840.113549.1.12.1.5","pbeWithSHAAnd128BitRC2-CBC"),r("1.2.840.113549.1.12.1.6","pbewithSHAAnd40BitRC2-CBC"),r("1.2.840.113549.2.7","hmacWithSHA1"),r("1.2.840.113549.2.8","hmacWithSHA224"),r("1.2.840.113549.2.9","hmacWithSHA256"),r("1.2.840.113549.2.10","hmacWithSHA384"),r("1.2.840.113549.2.11","hmacWithSHA512"),r("1.2.840.113549.3.7","des-EDE3-CBC"),r("2.16.840.1.101.3.4.1.2","aes128-CBC"),r("2.16.840.1.101.3.4.1.22","aes192-CBC"),r("2.16.840.1.101.3.4.1.42","aes256-CBC"),r("2.5.4.3","commonName"),r("2.5.4.5","serialName"),r("2.5.4.6","countryName"),r("2.5.4.7","localityName"),r("2.5.4.8","stateOrProvinceName"),r("2.5.4.9","streetAddress"),r("2.5.4.10","organizationName"),r("2.5.4.11","organizationalUnitName"),r("2.5.4.13","description"),r("2.5.4.15","businessCategory"),r("2.5.4.17","postalCode"),r("1.3.6.1.4.1.311.60.2.1.2","jurisdictionOfIncorporationStateOrProvinceName"),r("1.3.6.1.4.1.311.60.2.1.3","jurisdictionOfIncorporationCountryName"),r("2.16.840.1.113730.1.1","nsCertType"),r("2.16.840.1.113730.1.13","nsComment"),n("2.5.29.1","authorityKeyIdentifier"),n("2.5.29.2","keyAttributes"),n("2.5.29.3","certificatePolicies"),n("2.5.29.4","keyUsageRestriction"),n("2.5.29.5","policyMapping"),n("2.5.29.6","subtreesConstraint"),n("2.5.29.7","subjectAltName"),n("2.5.29.8","issuerAltName"),n("2.5.29.9","subjectDirectoryAttributes"),n("2.5.29.10","basicConstraints"),n("2.5.29.11","nameConstraints"),n("2.5.29.12","policyConstraints"),n("2.5.29.13","basicConstraints"),r("2.5.29.14","subjectKeyIdentifier"),r("2.5.29.15","keyUsage"),n("2.5.29.16","privateKeyUsagePeriod"),r("2.5.29.17","subjectAltName"),r("2.5.29.18","issuerAltName"),r("2.5.29.19","basicConstraints"),n("2.5.29.20","cRLNumber"),n("2.5.29.21","cRLReason"),n("2.5.29.22","expirationDate"),n("2.5.29.23","instructionCode"),n("2.5.29.24","invalidityDate"),n("2.5.29.25","cRLDistributionPoints"),n("2.5.29.26","issuingDistributionPoint"),n("2.5.29.27","deltaCRLIndicator"),n("2.5.29.28","issuingDistributionPoint"),n("2.5.29.29","certificateIssuer"),n("2.5.29.30","nameConstraints"),r("2.5.29.31","cRLDistributionPoints"),r("2.5.29.32","certificatePolicies"),n("2.5.29.33","policyMappings"),n("2.5.29.34","policyConstraints"),r("2.5.29.35","authorityKeyIdentifier"),n("2.5.29.36","policyConstraints"),r("2.5.29.37","extKeyUsage"),n("2.5.29.46","freshestCRL"),n("2.5.29.54","inhibitAnyPolicy"),r("1.3.6.1.4.1.11129.2.4.2","timestampList"),r("1.3.6.1.5.5.7.1.1","authorityInfoAccess"),r("1.3.6.1.5.5.7.3.1","serverAuth"),r("1.3.6.1.5.5.7.3.2","clientAuth"),r("1.3.6.1.5.5.7.3.3","codeSigning"),r("1.3.6.1.5.5.7.3.4","emailProtection"),r("1.3.6.1.5.5.7.3.8","timeStamping")})),w((function(e){var t=e.exports=F.asn1=F.asn1||{};function r(e,t,r){if(r>t){var n=new Error("Too few bytes to parse DER.");throw n.available=e.length(),n.remaining=t,n.requested=r,n}}t.Class={UNIVERSAL:0,APPLICATION:64,CONTEXT_SPECIFIC:128,PRIVATE:192},t.Type={NONE:0,BOOLEAN:1,INTEGER:2,BITSTRING:3,OCTETSTRING:4,NULL:5,OID:6,ODESC:7,EXTERNAL:8,REAL:9,ENUMERATED:10,EMBEDDED:11,UTF8:12,ROID:13,SEQUENCE:16,SET:17,PRINTABLESTRING:19,IA5STRING:22,UTCTIME:23,GENERALIZEDTIME:24,BMPSTRING:30},t.create=function(e,r,n,i,o){if(F.util.isArray(i)){for(var a=[],s=0;s<i.length;++s)void 0!==i[s]&&a.push(i[s]);i=a}var c={tagClass:e,type:r,constructed:n,composed:n||F.util.isArray(i),value:i};return o&&"bitStringContents"in o&&(c.bitStringContents=o.bitStringContents,c.original=t.copy(c)),c},t.copy=function(e,r){var n;if(F.util.isArray(e)){n=[];for(var i=0;i<e.length;++i)n.push(t.copy(e[i],r));return n}return"string"==typeof e?e:(n={tagClass:e.tagClass,type:e.type,constructed:e.constructed,composed:e.composed,value:t.copy(e.value,r)},r&&!r.excludeBitStringContents&&(n.bitStringContents=e.bitStringContents),n)},t.equals=function(e,r,n){if(F.util.isArray(e)){if(!F.util.isArray(r))return!1;if(e.length!==r.length)return!1;for(var i=0;i<e.length;++i)if(!t.equals(e[i],r[i]))return!1;return!0}if(ky(e)!=ky(r))return!1;if("string"==typeof e)return e===r;var o=e.tagClass===r.tagClass&&e.type===r.type&&e.constructed===r.constructed&&e.composed===r.composed&&t.equals(e.value,r.value);return n&&n.includeBitStringContents&&(o=o&&e.bitStringContents===r.bitStringContents),o},t.getBerValueLength=function(e){var t=e.getByte();if(128!==t)return 128&t?e.getInt((127&t)<<3):t};t.fromDer=function(e,n){return void 0===n&&(n={strict:!0,decodeBitStrings:!0}),"boolean"==typeof n&&(n={strict:n,decodeBitStrings:!0}),"strict"in n||(n.strict=!0),"decodeBitStrings"in n||(n.decodeBitStrings=!0),"string"==typeof e&&(e=F.util.createBuffer(e)),function e(n,i,o,a){var s;r(n,i,2);var c=n.getByte();i--;var u=192&c,l=31&c;s=n.length();var f,d,p=function(e,t){var n=e.getByte();if(t--,128!==n){var i;if(128&n){var o=127&n;r(e,t,o),i=e.getInt(o<<3)}else i=n;if(i<0)throw new Error("Negative length: "+i);return i}}(n,i);if(i-=s-n.length(),void 0!==p&&p>i){if(a.strict){var h=new Error("Too few bytes to read ASN.1 value.");throw h.available=n.length(),h.remaining=i,h.requested=p,h}p=i}var g=32==(32&c);if(g)if(f=[],void 0===p)for(;;){if(r(n,i,2),n.bytes(2)===String.fromCharCode(0,0)){n.getBytes(2),i-=2;break}s=n.length(),f.push(e(n,i,o+1,a)),i-=s-n.length()}else for(;p>0;)s=n.length(),f.push(e(n,p,o+1,a)),i-=s-n.length(),p-=s-n.length();if(void 0===f&&u===t.Class.UNIVERSAL&&l===t.Type.BITSTRING&&(d=n.bytes(p)),void 0===f&&a.decodeBitStrings&&u===t.Class.UNIVERSAL&&l===t.Type.BITSTRING&&p>1){var m=n.read,v=i,y=0;if(l===t.Type.BITSTRING&&(r(n,i,1),y=n.getByte(),i--),0===y)try{s=n.length();var b=e(n,i,o+1,{verbose:a.verbose,strict:!0,decodeBitStrings:!0}),w=s-n.length();i-=w,l==t.Type.BITSTRING&&w++;var C=b.tagClass;w!==p||C!==t.Class.UNIVERSAL&&C!==t.Class.CONTEXT_SPECIFIC||(f=[b])}catch(e){}void 0===f&&(n.read=m,i=v)}if(void 0===f){if(void 0===p){if(a.strict)throw new Error("Non-constructed ASN.1 object of indefinite length.");p=i}if(l===t.Type.BMPSTRING)for(f="";p>0;p-=2)r(n,i,2),f+=String.fromCharCode(n.getInt16()),i-=2;else f=n.getBytes(p)}var E=void 0===d?null:{bitStringContents:d};return t.create(u,l,g,f,E)}(e,e.length(),0,n)},t.toDer=function(e){var r=F.util.createBuffer(),n=e.tagClass|e.type,i=F.util.createBuffer(),o=!1;if("bitStringContents"in e&&(o=!0,e.original&&(o=t.equals(e,e.original))),o)i.putBytes(e.bitStringContents);else if(e.composed){e.constructed?n|=32:i.putByte(0);for(var a=0;a<e.value.length;++a)void 0!==e.value[a]&&i.putBuffer(t.toDer(e.value[a]))}else if(e.type===t.Type.BMPSTRING)for(a=0;a<e.value.length;++a)i.putInt16(e.value.charCodeAt(a));else e.type===t.Type.INTEGER&&e.value.length>1&&(0===e.value.charCodeAt(0)&&0==(128&e.value.charCodeAt(1))||255===e.value.charCodeAt(0)&&128==(128&e.value.charCodeAt(1)))?i.putBytes(e.value.substr(1)):i.putBytes(e.value);if(r.putByte(n),i.length()<=127)r.putByte(127&i.length());else{var s=i.length(),c="";do{c+=String.fromCharCode(255&s),s>>>=8}while(s>0);for(r.putByte(128|c.length),a=c.length-1;a>=0;--a)r.putByte(c.charCodeAt(a))}return r.putBuffer(i),r},t.oidToDer=function(e){var t,r,n,i,o=e.split("."),a=F.util.createBuffer();a.putByte(40*parseInt(o[0],10)+parseInt(o[1],10));for(var s=2;s<o.length;++s){t=!0,r=[],n=parseInt(o[s],10);do{i=127&n,n>>>=7,t||(i|=128),r.push(i),t=!1}while(n>0);for(var c=r.length-1;c>=0;--c)a.putByte(r[c])}return a},t.derToOid=function(e){var t;"string"==typeof e&&(e=F.util.createBuffer(e));var r=e.getByte();t=Math.floor(r/40)+"."+r%40;for(var n=0;e.length()>0;)n<<=7,128&(r=e.getByte())?n+=127&r:(t+="."+(n+r),n=0);return t},t.utcTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,2),10);r=r>=50?1900+r:2e3+r;var n=parseInt(e.substr(2,2),10)-1,i=parseInt(e.substr(4,2),10),o=parseInt(e.substr(6,2),10),a=parseInt(e.substr(8,2),10),s=0;if(e.length>11){var c=e.charAt(10),u=10;"+"!==c&&"-"!==c&&(s=parseInt(e.substr(10,2),10),u+=2)}if(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,s,0),u&&("+"===(c=e.charAt(u))||"-"===c)){var l=60*parseInt(e.substr(u+1,2),10)+parseInt(e.substr(u+4,2),10);l*=6e4,"+"===c?t.setTime(+t-l):t.setTime(+t+l)}return t},t.generalizedTimeToDate=function(e){var t=new Date,r=parseInt(e.substr(0,4),10),n=parseInt(e.substr(4,2),10)-1,i=parseInt(e.substr(6,2),10),o=parseInt(e.substr(8,2),10),a=parseInt(e.substr(10,2),10),s=parseInt(e.substr(12,2),10),c=0,u=0,l=!1;"Z"===e.charAt(e.length-1)&&(l=!0);var f=e.length-5,d=e.charAt(f);return"+"!==d&&"-"!==d||(u=60*parseInt(e.substr(f+1,2),10)+parseInt(e.substr(f+4,2),10),u*=6e4,"+"===d&&(u*=-1),l=!0),"."===e.charAt(14)&&(c=1e3*parseFloat(e.substr(14),10)),l?(t.setUTCFullYear(r,n,i),t.setUTCHours(o,a,s,c),t.setTime(+t+u)):(t.setFullYear(r,n,i),t.setHours(o,a,s,c)),t},t.dateToUtcTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push((""+e.getUTCFullYear()).substr(2)),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+"Z"},t.dateToGeneralizedTime=function(e){if("string"==typeof e)return e;var t="",r=[];r.push(""+e.getUTCFullYear()),r.push(""+(e.getUTCMonth()+1)),r.push(""+e.getUTCDate()),r.push(""+e.getUTCHours()),r.push(""+e.getUTCMinutes()),r.push(""+e.getUTCSeconds());for(var n=0;n<r.length;++n)r[n].length<2&&(t+="0"),t+=r[n];return t+"Z"},t.integerToDer=function(e){var t=F.util.createBuffer();if(e>=-128&&e<128)return t.putSignedInt(e,8);if(e>=-32768&&e<32768)return t.putSignedInt(e,16);if(e>=-8388608&&e<8388608)return t.putSignedInt(e,24);if(e>=-2147483648&&e<2147483648)return t.putSignedInt(e,32);var r=new Error("Integer too large; max is 32-bits.");throw r.integer=e,r},t.derToInteger=function(e){"string"==typeof e&&(e=F.util.createBuffer(e));var t=8*e.length();if(t>32)throw new Error("Integer too large; max is 32-bits.");return e.getSignedInt(t)},t.validate=function(e,r,n,i){var o=!1;if(e.tagClass!==r.tagClass&&void 0!==r.tagClass||e.type!==r.type&&void 0!==r.type)i&&(e.tagClass!==r.tagClass&&i.push("["+r.name+'] Expected tag class "'+r.tagClass+'", got "'+e.tagClass+'"'),e.type!==r.type&&i.push("["+r.name+'] Expected type "'+r.type+'", got "'+e.type+'"'));else if(e.constructed===r.constructed||void 0===r.constructed){if(o=!0,r.value&&F.util.isArray(r.value))for(var a=0,s=0;o&&s<r.value.length;++s)o=r.value[s].optional||!1,e.value[a]&&((o=t.validate(e.value[a],r.value[s],n,i))?++a:r.value[s].optional&&(o=!0)),!o&&i&&i.push("["+r.name+'] Tag class "'+r.tagClass+'", type "'+r.type+'" expected value length "'+r.value.length+'", got "'+e.value.length+'"');if(o&&n&&(r.capture&&(n[r.capture]=e.value),r.captureAsn1&&(n[r.captureAsn1]=e),r.captureBitStringContents&&"bitStringContents"in e&&(n[r.captureBitStringContents]=e.bitStringContents),r.captureBitStringValue&&"bitStringContents"in e))if(e.bitStringContents.length<2)n[r.captureBitStringValue]="";else{if(0!==e.bitStringContents.charCodeAt(0))throw new Error("captureBitStringValue only supported for zero unused bits");n[r.captureBitStringValue]=e.bitStringContents.slice(1)}}else i&&i.push("["+r.name+'] Expected constructed "'+r.constructed+'", got "'+e.constructed+'"');return o};var n=/[^\\u0000-\\u00ff]/;t.prettyPrint=function(e,r,i){var o="";i=i||2,(r=r||0)>0&&(o+="\n");for(var a="",s=0;s<r*i;++s)a+=" ";switch(o+=a+"Tag: ",e.tagClass){case t.Class.UNIVERSAL:o+="Universal:";break;case t.Class.APPLICATION:o+="Application:";break;case t.Class.CONTEXT_SPECIFIC:o+="Context-Specific:";break;case t.Class.PRIVATE:o+="Private:"}if(e.tagClass===t.Class.UNIVERSAL)switch(o+=e.type,e.type){case t.Type.NONE:o+=" (None)";break;case t.Type.BOOLEAN:o+=" (Boolean)";break;case t.Type.INTEGER:o+=" (Integer)";break;case t.Type.BITSTRING:o+=" (Bit string)";break;case t.Type.OCTETSTRING:o+=" (Octet string)";break;case t.Type.NULL:o+=" (Null)";break;case t.Type.OID:o+=" (Object Identifier)";break;case t.Type.ODESC:o+=" (Object Descriptor)";break;case t.Type.EXTERNAL:o+=" (External or Instance of)";break;case t.Type.REAL:o+=" (Real)";break;case t.Type.ENUMERATED:o+=" (Enumerated)";break;case t.Type.EMBEDDED:o+=" (Embedded PDV)";break;case t.Type.UTF8:o+=" (UTF8)";break;case t.Type.ROID:o+=" (Relative Object Identifier)";break;case t.Type.SEQUENCE:o+=" (Sequence)";break;case t.Type.SET:o+=" (Set)";break;case t.Type.PRINTABLESTRING:o+=" (Printable String)";break;case t.Type.IA5String:o+=" (IA5String (ASCII))";break;case t.Type.UTCTIME:o+=" (UTC time)";break;case t.Type.GENERALIZEDTIME:o+=" (Generalized time)";break;case t.Type.BMPSTRING:o+=" (BMP String)"}else o+=e.type;if(o+="\n",o+=a+"Constructed: "+e.constructed+"\n",e.composed){var c=0,u="";for(s=0;s<e.value.length;++s)void 0!==e.value[s]&&(c+=1,u+=t.prettyPrint(e.value[s],r+1,i),s+1<e.value.length&&(u+=","));o+=a+"Sub values: "+c+u}else{if(o+=a+"Value: ",e.type===t.Type.OID){var l=t.derToOid(e.value);o+=l,F.pki&&F.pki.oids&&l in F.pki.oids&&(o+=" ("+F.pki.oids[l]+") ")}if(e.type===t.Type.INTEGER)try{o+=t.derToInteger(e.value)}catch(t){o+="0x"+F.util.bytesToHex(e.value)}else if(e.type===t.Type.BITSTRING){if(e.value.length>1?o+="0x"+F.util.bytesToHex(e.value.slice(1)):o+="(none)",e.value.length>0){var f=e.value.charCodeAt(0);1==f?o+=" (1 unused bit shown)":f>1&&(o+=" ("+f+" unused bits shown)")}}else e.type===t.Type.OCTETSTRING?(n.test(e.value)||(o+="("+e.value+") "),o+="0x"+F.util.bytesToHex(e.value)):e.type===t.Type.UTF8?o+=F.util.decodeUtf8(e.value):e.type===t.Type.PRINTABLESTRING||e.type===t.Type.IA5String?o+=e.value:n.test(e.value)?o+="0x"+F.util.bytesToHex(e.value):0===e.value.length?o+="[null]":o+=e.value}return o}})),F.md=F.md||{},F.md.algorithms=F.md.algorithms||{},w((function(e){(e.exports=F.hmac=F.hmac||{}).create=function(){var e=null,t=null,r=null,n=null,i={start:function(i,o){if(null!==i)if("string"==typeof i){if(!((i=i.toLowerCase())in F.md.algorithms))throw new Error('Unknown hash algorithm "'+i+'"');t=F.md.algorithms[i].create()}else t=i;if(null===o)o=e;else{if("string"==typeof o)o=F.util.createBuffer(o);else if(F.util.isArray(o)){var a=o;o=F.util.createBuffer();for(var s=0;s<a.length;++s)o.putByte(a[s])}var c=o.length();for(c>t.blockLength&&(t.start(),t.update(o.bytes()),o=t.digest()),r=F.util.createBuffer(),n=F.util.createBuffer(),c=o.length(),s=0;s<c;++s)a=o.at(s),r.putByte(54^a),n.putByte(92^a);if(c<t.blockLength)for(a=t.blockLength-c,s=0;s<a;++s)r.putByte(54),n.putByte(92);e=o,r=r.bytes(),n=n.bytes()}t.start(),t.update(r)},update:function(e){t.update(e)},getMac:function(){var e=t.digest().bytes();return t.start(),t.update(n),t.update(e),t.digest()}};return i.digest=i.getMac,i}})),w((function(e){var t=e.exports=F.md5=F.md5||{};F.md.md5=F.md.algorithms.md5=t,t.create=function(){a||function(){r=String.fromCharCode(128),r+=F.util.fillString(String.fromCharCode(0),64),n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,1,6,11,0,5,10,15,4,9,14,3,8,13,2,7,12,5,8,11,14,1,4,7,10,13,0,3,6,9,12,15,2,0,7,14,5,12,3,10,1,8,15,6,13,4,11,2,9],i=[7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21],o=new Array(64);for(var e=0;e<64;++e)o[e]=Math.floor(4294967296*Math.abs(Math.sin(e+1)));a=!0}();var e=null,t=F.util.createBuffer(),c=new Array(16),u={algorithm:"md5",blockLength:64,digestLength:16,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){u.messageLength=0,u.fullMessageLength=u.messageLength64=[];for(var r=u.messageLengthSize/4,n=0;n<r;++n)u.fullMessageLength.push(0);return t=F.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878},u}};return u.start(),u.update=function(r,n){"utf8"===n&&(r=F.util.encodeUtf8(r));var i=r.length;u.messageLength+=i,i=[i/4294967296>>>0,i>>>0];for(var o=u.fullMessageLength.length-1;o>=0;--o)u.fullMessageLength[o]+=i[1],i[1]=i[0]+(u.fullMessageLength[o]/4294967296>>>0),u.fullMessageLength[o]=u.fullMessageLength[o]>>>0,i[0]=i[1]/4294967296>>>0;return t.putBytes(r),s(e,c,t),(t.read>2048||0===t.length())&&t.compact(),u},u.digest=function(){var n=F.util.createBuffer();n.putBytes(t.bytes());var i=u.fullMessageLength[u.fullMessageLength.length-1]+u.messageLengthSize&u.blockLength-1;n.putBytes(r.substr(0,u.blockLength-i));for(var o,a=0,l=u.fullMessageLength.length-1;l>=0;--l)a=(o=8*u.fullMessageLength[l]+a)/4294967296>>>0,n.putInt32Le(o>>>0);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3};s(f,c,n);var d=F.util.createBuffer();return d.putInt32Le(f.h0),d.putInt32Le(f.h1),d.putInt32Le(f.h2),d.putInt32Le(f.h3),d},u};var r=null,n=null,i=null,o=null,a=!1;function s(e,t,r){for(var a,s,c,u,l,f,d,p=r.length();p>=64;){for(s=e.h0,c=e.h1,u=e.h2,l=e.h3,d=0;d<16;++d)t[d]=r.getInt32Le(),a=s+(l^c&(u^l))+o[d]+t[d],s=l,l=u,u=c,c+=a<<(f=i[d])|a>>>32-f;for(;d<32;++d)a=s+(u^l&(c^u))+o[d]+t[n[d]],s=l,l=u,u=c,c+=a<<(f=i[d])|a>>>32-f;for(;d<48;++d)a=s+(c^u^l)+o[d]+t[n[d]],s=l,l=u,u=c,c+=a<<(f=i[d])|a>>>32-f;for(;d<64;++d)a=s+(u^(c|~l))+o[d]+t[n[d]],s=l,l=u,u=c,c+=a<<(f=i[d])|a>>>32-f;e.h0=e.h0+s|0,e.h1=e.h1+c|0,e.h2=e.h2+u|0,e.h3=e.h3+l|0,p-=64}}})),w((function(e){var t=e.exports=F.pem=F.pem||{};function r(e){for(var t=e.name+": ",r=[],n=function(e,t){return" "+t},i=0;i<e.values.length;++i)r.push(e.values[i].replace(/^(\S+\r\n)/,n));t+=r.join(",")+"\r\n";var o=0,a=-1;for(i=0;i<t.length;++i,++o)if(o>65&&-1!==a){var s=t[a];","===s?(++a,t=t.substr(0,a)+"\r\n "+t.substr(a)):t=t.substr(0,a)+"\r\n"+s+t.substr(a+1),o=i-a-1,a=-1,++i}else" "!==t[i]&&"\t"!==t[i]&&","!==t[i]||(a=i);return t}function n(e){return e.replace(/^\s+/,"")}t.encode=function(e,t){t=t||{};var n,i="-----BEGIN "+e.type+"-----\r\n";if(e.procType&&(i+=r(n={name:"Proc-Type",values:[String(e.procType.version),e.procType.type]})),e.contentDomain&&(i+=r(n={name:"Content-Domain",values:[e.contentDomain]})),e.dekInfo&&(n={name:"DEK-Info",values:[e.dekInfo.algorithm]},e.dekInfo.parameters&&n.values.push(e.dekInfo.parameters),i+=r(n)),e.headers)for(var o=0;o<e.headers.length;++o)i+=r(e.headers[o]);return e.procType&&(i+="\r\n"),(i+=F.util.encode64(e.body,t.maxline||64)+"\r\n")+"-----END "+e.type+"-----\r\n"},t.decode=function(e){for(var t,r=[],i=/\s*-----BEGIN ([A-Z0-9- ]+)-----\r?\n?([\x21-\x7e\s]+?(?:\r?\n\r?\n))?([:A-Za-z0-9+\/=\s]+?)-----END \1-----/g,o=/([\x21-\x7e]+):\s*([\x21-\x7e\s^:]+)/,a=/\r?\n/;t=i.exec(e);){var s={type:t[1],procType:null,contentDomain:null,dekInfo:null,headers:[],body:F.util.decode64(t[3])};if(r.push(s),t[2]){for(var c=t[2].split(a),u=0;t&&u<c.length;){for(var l=c[u].replace(/\s+$/,""),f=u+1;f<c.length;++f){var d=c[f];if(!/\s/.test(d[0]))break;l+=d,u=f}if(t=l.match(o)){for(var p={name:t[1],values:[]},h=t[2].split(","),g=0;g<h.length;++g)p.values.push(n(h[g]));if(s.procType)if(s.contentDomain||"Content-Domain"!==p.name)if(s.dekInfo||"DEK-Info"!==p.name)s.headers.push(p);else{if(0===p.values.length)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must have at least one subfield.');s.dekInfo={algorithm:h[0],parameters:h[1]||null}}else s.contentDomain=h[0]||"";else{if("Proc-Type"!==p.name)throw new Error('Invalid PEM formatted message. The first encapsulated header must be "Proc-Type".');if(2!==p.values.length)throw new Error('Invalid PEM formatted message. The "Proc-Type" header must have two subfields.');s.procType={version:h[0],type:h[1]}}}++u}if("ENCRYPTED"===s.procType&&!s.dekInfo)throw new Error('Invalid PEM formatted message. The "DEK-Info" header must be present if "Proc-Type" is "ENCRYPTED".')}}if(0===r.length)throw new Error("Invalid PEM formatted message.");return r}})),F.des=F.des||{},F.des.startEncrypting=function(e,t,r,n){var i=de({key:e,output:r,decrypt:!1,mode:n||(null===t?"ECB":"CBC")});return i.start(t),i},F.des.createEncryptionCipher=function(e,t){return de({key:e,output:null,decrypt:!1,mode:t})},F.des.startDecrypting=function(e,t,r,n){var i=de({key:e,output:r,decrypt:!0,mode:n||(null===t?"ECB":"CBC")});return i.start(t),i},F.des.createDecryptionCipher=function(e,t){return de({key:e,output:null,decrypt:!0,mode:t})},F.des.Algorithm=function(e,t){var r=this;r.name=e,r.mode=new t({blockSize:8,cipher:{encrypt:function(e,t){return fe(r._keys,e,t,!1)},decrypt:function(e,t){return fe(r._keys,e,t,!0)}}}),r._init=!1},F.des.Algorithm.prototype.initialize=function(e){if(!this._init){var t=F.util.createBuffer(e.key);if(0===this.name.indexOf("3DES")&&24!==t.length())throw new Error("Invalid Triple-DES key size: "+8*t.length());this._keys=function(e){for(var t,r=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],n=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],i=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],o=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],c=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],u=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],l=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],d=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],p=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],h=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],g=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],m=e.length()>8?3:1,v=[],y=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0],b=0,w=0;w<m;w++){var C=e.getInt32(),E=e.getInt32();C^=(t=252645135&(C>>>4^E))<<4,C^=t=65535&((E^=t)>>>-16^C),C^=(t=858993459&(C>>>2^(E^=t<<-16)))<<2,C^=t=65535&((E^=t)>>>-16^C),C^=(t=1431655765&(C>>>1^(E^=t<<-16)))<<1,C^=t=16711935&((E^=t)>>>8^C),t=(C^=(t=1431655765&(C>>>1^(E^=t<<8)))<<1)<<8|(E^=t)>>>20&240,C=E<<24|E<<8&16711680|E>>>8&65280|E>>>24&240,E=t;for(var k=0;k<y.length;++k){y[k]?(C=C<<2|C>>>26,E=E<<2|E>>>26):(C=C<<1|C>>>27,E=E<<1|E>>>27);var S=r[(C&=-15)>>>28]|n[C>>>24&15]|i[C>>>20&15]|o[C>>>16&15]|a[C>>>12&15]|s[C>>>8&15]|c[C>>>4&15],_=u[(E&=-15)>>>28]|l[E>>>24&15]|f[E>>>20&15]|d[E>>>16&15]|p[E>>>12&15]|h[E>>>8&15]|g[E>>>4&15];t=65535&(_>>>16^S),v[b++]=S^t,v[b++]=_^t<<16}}return v}(t),this._init=!0}},re("DES-ECB",F.cipher.modes.ecb),re("DES-CBC",F.cipher.modes.cbc),re("DES-CFB",F.cipher.modes.cfb),re("DES-OFB",F.cipher.modes.ofb),re("DES-CTR",F.cipher.modes.ctr),re("3DES-ECB",F.cipher.modes.ecb),re("3DES-CBC",F.cipher.modes.cbc),re("3DES-CFB",F.cipher.modes.cfb),re("3DES-OFB",F.cipher.modes.ofb),re("3DES-CTR",F.cipher.modes.ctr);var ne=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],ie=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],oe=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],ae=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],se=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],ce=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],ue=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],le=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];function fe(e,t,r,n){var i,o,a=32===e.length?3:9;i=3===a?n?[30,-2,-2]:[0,32,2]:n?[94,62,-2,32,64,2,30,-2,-2]:[0,32,2,62,30,-2,64,96,2];var s=t[0],c=t[1];s^=(o=252645135&(s>>>4^c))<<4,s^=(o=65535&(s>>>16^(c^=o)))<<16,s^=o=858993459&((c^=o)>>>2^s),s^=o=16711935&((c^=o<<2)>>>8^s),s=(s^=(o=1431655765&(s>>>1^(c^=o<<8)))<<1)<<1|s>>>31,c=(c^=o)<<1|c>>>31;for(var u=0;u<a;u+=3){for(var l=i[u+1],f=i[u+2],d=i[u];d!=l;d+=f){var p=c^e[d],h=(c>>>4|c<<28)^e[d+1];o=s,s=c,c=o^(ie[p>>>24&63]|ae[p>>>16&63]|ce[p>>>8&63]|le[63&p]|ne[h>>>24&63]|oe[h>>>16&63]|se[h>>>8&63]|ue[63&h])}o=s,s=c,c=o}c=c>>>1|c<<31,c^=o=1431655765&((s=s>>>1|s<<31)>>>1^c),c^=(o=16711935&(c>>>8^(s^=o<<1)))<<8,c^=(o=858993459&(c>>>2^(s^=o)))<<2,c^=o=65535&((s^=o)>>>16^c),c^=o=252645135&((s^=o<<16)>>>4^c),s^=o<<4,r[0]=s,r[1]=c}function de(e){var t,r="DES-"+((e=e||{}).mode||"CBC").toUpperCase(),n=(t=e.decrypt?F.cipher.createDecipher(r,e.key):F.cipher.createCipher(r,e.key)).start;return t.start=function(e,r){var i=null;r instanceof F.util.ByteBuffer&&(i=r,r={}),(r=r||{}).output=i,r.iv=e,n.call(t,r)},t}var pe,he=F.pkcs5=F.pkcs5||{};F.util.isNodejs&&!F.options.usePureJavaScript&&(pe=t),F.pbkdf2=he.pbkdf2=function(e,t,r,n,i,o){if("function"==typeof i&&(o=i,i=null),F.util.isNodejs&&!F.options.usePureJavaScript&&pe.pbkdf2&&(null===i||"object"!=ky(i))&&(pe.pbkdf2Sync.length>4||!i||"sha1"===i))return"string"!=typeof i&&(i="sha1"),e=Buffer.from(e,"binary"),t=Buffer.from(t,"binary"),o?4===pe.pbkdf2Sync.length?pe.pbkdf2(e,t,r,n,(function(e,t){if(e)return o(e);o(null,t.toString("binary"))})):pe.pbkdf2(e,t,r,n,i,(function(e,t){if(e)return o(e);o(null,t.toString("binary"))})):4===pe.pbkdf2Sync.length?pe.pbkdf2Sync(e,t,r,n).toString("binary"):pe.pbkdf2Sync(e,t,r,n,i).toString("binary");if(null==i&&(i="sha1"),"string"==typeof i){if(!(i in F.md.algorithms))throw new Error("Unknown hash algorithm: "+i);i=F.md[i].create()}var a=i.digestLength;if(n>4294967295*a){var s=new Error("Derived key is too long.");if(o)return o(s);throw s}var c=Math.ceil(n/a),u=n-(c-1)*a,l=F.hmac.create();l.start(i,e);var f,d,p,h="";if(!o){for(var g=1;g<=c;++g){l.start(null,null),l.update(t),l.update(F.util.int32ToBytes(g)),f=p=l.digest().getBytes();for(var m=2;m<=r;++m)l.start(null,null),l.update(p),d=l.digest().getBytes(),f=F.util.xorBytes(f,d,a),p=d;h+=g<c?f:f.substr(0,u)}return h}function v(){if(g>c)return o(null,h);l.start(null,null),l.update(t),l.update(F.util.int32ToBytes(g)),f=p=l.digest().getBytes(),m=2,y()}function y(){if(m<=r)return l.start(null,null),l.update(p),d=l.digest().getBytes(),f=F.util.xorBytes(f,d,a),p=d,++m,F.util.setImmediate(y);h+=g<c?f:f.substr(0,u),++g,v()}g=1,v()},w((function(e){var t=e.exports=F.sha256=F.sha256||{};F.md.sha256=F.md.algorithms.sha256=t,t.create=function(){n||(r=String.fromCharCode(128),r+=F.util.fillString(String.fromCharCode(0),64),i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=!0);var e=null,t=F.util.createBuffer(),a=new Array(64),s={algorithm:"sha256",blockLength:64,digestLength:32,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){s.messageLength=0,s.fullMessageLength=s.messageLength64=[];for(var r=s.messageLengthSize/4,n=0;n<r;++n)s.fullMessageLength.push(0);return t=F.util.createBuffer(),e={h0:1779033703,h1:3144134277,h2:1013904242,h3:2773480762,h4:1359893119,h5:2600822924,h6:528734635,h7:1541459225},s}};return s.start(),s.update=function(r,n){"utf8"===n&&(r=F.util.encodeUtf8(r));var i=r.length;s.messageLength+=i,i=[i/4294967296>>>0,i>>>0];for(var c=s.fullMessageLength.length-1;c>=0;--c)s.fullMessageLength[c]+=i[1],i[1]=i[0]+(s.fullMessageLength[c]/4294967296>>>0),s.fullMessageLength[c]=s.fullMessageLength[c]>>>0,i[0]=i[1]/4294967296>>>0;return t.putBytes(r),o(e,a,t),(t.read>2048||0===t.length())&&t.compact(),s},s.digest=function(){var n=F.util.createBuffer();n.putBytes(t.bytes());var i,c=s.fullMessageLength[s.fullMessageLength.length-1]+s.messageLengthSize&s.blockLength-1;n.putBytes(r.substr(0,s.blockLength-c));for(var u=8*s.fullMessageLength[0],l=0;l<s.fullMessageLength.length-1;++l)u+=(i=8*s.fullMessageLength[l+1])/4294967296>>>0,n.putInt32(u>>>0),u=i>>>0;n.putInt32(u);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4,h5:e.h5,h6:e.h6,h7:e.h7};o(f,a,n);var d=F.util.createBuffer();return d.putInt32(f.h0),d.putInt32(f.h1),d.putInt32(f.h2),d.putInt32(f.h3),d.putInt32(f.h4),d.putInt32(f.h5),d.putInt32(f.h6),d.putInt32(f.h7),d},s};var r=null,n=!1,i=null;function o(e,t,r){for(var n,o,a,s,c,u,l,f,d,p,h,g,m,v=r.length();v>=64;){for(c=0;c<16;++c)t[c]=r.getInt32();for(;c<64;++c)n=((n=t[c-2])>>>17|n<<15)^(n>>>19|n<<13)^n>>>10,o=((o=t[c-15])>>>7|o<<25)^(o>>>18|o<<14)^o>>>3,t[c]=n+t[c-7]+o+t[c-16]|0;for(u=e.h0,l=e.h1,f=e.h2,d=e.h3,p=e.h4,h=e.h5,g=e.h6,m=e.h7,c=0;c<64;++c)a=(u>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),s=u&l|f&(u^l),n=m+((p>>>6|p<<26)^(p>>>11|p<<21)^(p>>>25|p<<7))+(g^p&(h^g))+i[c]+t[c],m=g,g=h,h=p,p=d+n>>>0,d=f,f=l,l=u,u=n+(o=a+s)>>>0;e.h0=e.h0+u|0,e.h1=e.h1+l|0,e.h2=e.h2+f|0,e.h3=e.h3+d|0,e.h4=e.h4+p|0,e.h5=e.h5+h|0,e.h6=e.h6+g|0,e.h7=e.h7+m|0,v-=64}}})),w((function(e){var r=null;!F.util.isNodejs||F.options.usePureJavaScript||process.versions["node-webkit"]||(r=t),(e.exports=F.prng=F.prng||{}).create=function(e){for(var t={plugin:e,key:null,seed:null,time:null,reseeds:0,generated:0,keyBytes:""},n=e.md,i=new Array(32),o=0;o<32;++o)i[o]=n.create();function a(){if(t.pools[0].messageLength>=32)return s();var e=32-t.pools[0].messageLength<<5;t.collect(t.seedFileSync(e)),s()}function s(){t.reseeds=4294967295===t.reseeds?0:t.reseeds+1;var e=t.plugin.md.create();e.update(t.keyBytes);for(var r=1,n=0;n<32;++n)t.reseeds%r==0&&(e.update(t.pools[n].digest().getBytes()),t.pools[n].start()),r<<=1;t.keyBytes=e.digest().getBytes(),e.start(),e.update(t.keyBytes);var i=e.digest().getBytes();t.key=t.plugin.formatKey(t.keyBytes),t.seed=t.plugin.formatSeed(i),t.generated=0}function c(e){var t=null,r=F.util.globalScope,n=r.crypto||r.msCrypto;n&&n.getRandomValues&&(t=function(e){return n.getRandomValues(e)});var i=F.util.createBuffer();if(t)for(;i.length()<e;){var o=Math.max(1,Math.min(e-i.length(),65536)/4),a=new Uint32Array(Math.floor(o));try{t(a);for(var s=0;s<a.length;++s)i.putInt32(a[s])}catch(e){if(!("undefined"!=typeof QuotaExceededError&&e instanceof QuotaExceededError))throw e}}if(i.length()<e)for(var c,u,l,f=Math.floor(65536*Math.random());i.length()<e;)for(u=16807*(65535&f),u+=(32767&(c=16807*(f>>16)))<<16,f=4294967295&(u=(2147483647&(u+=c>>15))+(u>>31)),s=0;s<3;++s)l=f>>>(s<<3),l^=Math.floor(256*Math.random()),i.putByte(String.fromCharCode(255&l));return i.getBytes(e)}return t.pools=i,t.pool=0,t.generate=function(e,r){if(!r)return t.generateSync(e);var n=t.plugin.cipher,i=t.plugin.increment,o=t.plugin.formatKey,a=t.plugin.formatSeed,c=F.util.createBuffer();t.key=null,function u(l){if(l)return r(l);if(c.length()>=e)return r(null,c.getBytes(e));if(t.generated>1048575&&(t.key=null),null===t.key)return F.util.nextTick((function(){!function(e){if(t.pools[0].messageLength>=32)return s(),e();var r=32-t.pools[0].messageLength<<5;t.seedFile(r,(function(r,n){if(r)return e(r);t.collect(n),s(),e()}))}(u)}));var f=n(t.key,t.seed);t.generated+=f.length,c.putBytes(f),t.key=o(n(t.key,i(t.seed))),t.seed=a(n(t.key,t.seed)),F.util.setImmediate(u)}()},t.generateSync=function(e){var r=t.plugin.cipher,n=t.plugin.increment,i=t.plugin.formatKey,o=t.plugin.formatSeed;t.key=null;for(var s=F.util.createBuffer();s.length()<e;){t.generated>1048575&&(t.key=null),null===t.key&&a();var c=r(t.key,t.seed);t.generated+=c.length,s.putBytes(c),t.key=i(r(t.key,n(t.seed))),t.seed=o(r(t.key,t.seed))}return s.getBytes(e)},r?(t.seedFile=function(e,t){r.randomBytes(e,(function(e,r){if(e)return t(e);t(null,r.toString())}))},t.seedFileSync=function(e){return r.randomBytes(e).toString()}):(t.seedFile=function(e,t){try{t(null,c(e))}catch(e){t(e)}},t.seedFileSync=c),t.collect=function(e){for(var r=e.length,n=0;n<r;++n)t.pools[t.pool].update(e.substr(n,1)),t.pool=31===t.pool?0:t.pool+1},t.collectInt=function(e,r){for(var n="",i=0;i<r;i+=8)n+=String.fromCharCode(e>>i&255);t.collect(n)},t.registerWorker=function(e){e===self?t.seedFile=function(e,t){self.addEventListener("message",(function e(r){var n=r.data;n.forge&&n.forge.prng&&(self.removeEventListener("message",e),t(n.forge.prng.err,n.forge.prng.bytes))})),self.postMessage({forge:{prng:{needed:e}}})}:e.addEventListener("message",(function(r){var n=r.data;n.forge&&n.forge.prng&&t.seedFile(n.forge.prng.needed,(function(t,r){e.postMessage({forge:{prng:{err:t,bytes:r}}})}))}))},t}})),w((function(e){F.random&&F.random.getBytes?e.exports=F.random:function(t){var r={},n=new Array(4),i=F.util.createBuffer();function o(){var e=F.prng.create(r);return e.getBytes=function(t,r){return e.generate(t,r)},e.getBytesSync=function(t){return e.generate(t)},e}r.formatKey=function(e){var t=F.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),F.aes._expandKey(e,!1)},r.formatSeed=function(e){var t=F.util.createBuffer(e);return(e=new Array(4))[0]=t.getInt32(),e[1]=t.getInt32(),e[2]=t.getInt32(),e[3]=t.getInt32(),e},r.cipher=function(e,t){return F.aes._updateBlock(e,t,n,!1),i.putInt32(n[0]),i.putInt32(n[1]),i.putInt32(n[2]),i.putInt32(n[3]),i.getBytes()},r.increment=function(e){return++e[3],e},r.md=F.md.sha256;var a=o(),s=null,c=F.util.globalScope,u=c.crypto||c.msCrypto;if(u&&u.getRandomValues&&(s=function(e){return u.getRandomValues(e)}),!F.util.isNodejs&&!s){if(a.collectInt(+new Date,32),"undefined"!=typeof navigator){var l="";for(var f in navigator)try{"string"==typeof navigator[f]&&(l+=navigator[f])}catch(e){}a.collect(l),l=null}t&&(t().mousemove((function(e){a.collectInt(e.clientX,16),a.collectInt(e.clientY,16)})),t().keypress((function(e){a.collectInt(e.charCode,8)})))}if(F.random)for(var f in a)F.random[f]=a[f];else F.random=a;F.random.createInstance=o,e.exports=F.random}("undefined"!=typeof jQuery?jQuery:null)}));var ge=[217,120,249,196,25,221,181,237,40,233,253,121,74,160,216,157,198,126,55,131,43,118,83,142,98,76,100,136,68,139,251,162,23,154,89,245,135,179,79,19,97,69,109,141,9,129,125,50,189,143,64,235,134,183,123,11,240,149,33,34,92,107,78,130,84,214,101,147,206,96,178,28,115,86,192,20,167,140,241,220,18,117,202,31,59,190,228,209,66,61,212,48,163,60,182,38,111,191,14,218,70,105,7,87,39,242,29,155,188,148,67,3,248,17,199,246,144,239,62,231,6,195,213,47,200,102,30,215,8,232,234,222,128,82,238,247,132,170,114,172,53,77,106,42,150,26,210,113,90,21,73,116,75,159,208,94,4,24,164,236,194,224,65,110,15,81,203,204,36,145,175,80,161,244,112,57,153,124,58,133,35,184,180,122,252,2,54,91,37,85,151,49,45,93,250,152,227,138,146,174,5,223,41,16,103,108,186,201,211,0,230,207,225,158,168,44,99,22,1,63,88,226,137,169,13,56,52,27,171,51,255,176,187,72,12,95,185,177,205,46,197,243,219,71,229,165,156,119,10,166,32,104,254,127,193,173],me=[1,2,3,5],ve=function(e,t){return e<<t&65535|(65535&e)>>16-t},ye=function(e,t){return(65535&e)>>t|e<<16-t&65535};F.rc2=F.rc2||{},F.rc2.expandKey=function(e,t){"string"==typeof e&&(e=F.util.createBuffer(e)),t=t||128;var r,n=e,i=e.length(),o=t,a=Math.ceil(o/8),s=255>>(7&o);for(r=i;r<128;r++)n.putByte(ge[n.at(r-1)+n.at(r-i)&255]);for(n.setAt(128-a,ge[n.at(128-a)&s]),r=127-a;r>=0;r--)n.setAt(r,ge[n.at(r+1)^n.at(r+a)]);return n};var be,we=function(e,t,r){var n,i,o,a,s=!1,c=null,u=null,l=null,f=[];for(e=F.rc2.expandKey(e,t),o=0;o<64;o++)f.push(e.getInt16Le());r?(n=function(e){for(o=0;o<4;o++)e[o]+=f[a]+(e[(o+3)%4]&e[(o+2)%4])+(~e[(o+3)%4]&e[(o+1)%4]),e[o]=ve(e[o],me[o]),a++},i=function(e){for(o=0;o<4;o++)e[o]+=f[63&e[(o+3)%4]]}):(n=function(e){for(o=3;o>=0;o--)e[o]=ye(e[o],me[o]),e[o]-=f[a]+(e[(o+3)%4]&e[(o+2)%4])+(~e[(o+3)%4]&e[(o+1)%4]),a--},i=function(e){for(o=3;o>=0;o--)e[o]-=f[63&e[(o+3)%4]]});var d=function(e){var t=[];for(o=0;o<4;o++){var n=c.getInt16Le();null!==l&&(r?n^=l.getInt16Le():l.putInt16Le(n)),t.push(65535&n)}a=r?0:63;for(var i=0;i<e.length;i++)for(var s=0;s<e[i][0];s++)e[i][1](t);for(o=0;o<4;o++)null!==l&&(r?l.putInt16Le(t[o]):t[o]^=l.getInt16Le()),u.putInt16Le(t[o])},p=null;return p={start:function(e,t){e&&"string"==typeof e&&(e=F.util.createBuffer(e)),s=!1,c=F.util.createBuffer(),u=t||new F.util.createBuffer,l=e,p.output=u},update:function(e){for(s||c.putBuffer(e);c.length()>=8;)d([[5,n],[1,i],[6,n],[1,i],[5,n]])},finish:function(e){var t=!0;if(r)if(e)t=e(8,c,!r);else{var n=8===c.length()?8:8-c.length();c.fillWithByte(n,n)}if(t&&(s=!0,p.update()),!r&&(t=0===c.length()))if(e)t=e(8,u,!r);else{var i=u.length(),o=u.at(i-1);o>i?t=!1:u.truncate(o)}return t}}};function Ce(e,t,r){this.data=[],null!=e&&("number"==typeof e?this.fromNumber(e,t,r):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function Ee(){return new Ce(null)}function ke(e,t,r,n,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var c=16383&this.data[e],u=this.data[e++]>>14,l=s*c+u*a;i=((c=a*c+((16383&l)<<14)+r.data[n]+i)>>28)+(l>>14)+s*u,r.data[n++]=268435455&c}return i}F.rc2.startEncrypting=function(e,t,r){var n=F.rc2.createEncryptionCipher(e,128);return n.start(t,r),n},F.rc2.createEncryptionCipher=function(e,t){return we(e,t,!0)},F.rc2.startDecrypting=function(e,t,r){var n=F.rc2.createDecryptionCipher(e,128);return n.start(t,r),n},F.rc2.createDecryptionCipher=function(e,t){return we(e,t,!1)},F.jsbn=F.jsbn||{},F.jsbn.BigInteger=Ce,"undefined"==typeof navigator?(Ce.prototype.am=ke,be=28):"Microsoft Internet Explorer"==navigator.appName?(Ce.prototype.am=function(e,t,r,n,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var c=32767&this.data[e],u=this.data[e++]>>15,l=s*c+u*a;i=((c=a*c+((32767&l)<<15)+r.data[n]+(1073741823&i))>>>30)+(l>>>15)+s*u+(i>>>30),r.data[n++]=1073741823&c}return i},be=30):"Netscape"!=navigator.appName?(Ce.prototype.am=function(e,t,r,n,i,o){for(;--o>=0;){var a=t*this.data[e++]+r.data[n]+i;i=Math.floor(a/67108864),r.data[n++]=67108863&a}return i},be=26):(Ce.prototype.am=ke,be=28),Ce.prototype.DB=be,Ce.prototype.DM=(1<<be)-1,Ce.prototype.DV=1<<be,Ce.prototype.FV=Math.pow(2,52),Ce.prototype.F1=52-be,Ce.prototype.F2=2*be-52;var Se,_e,Ae=new Array;for(Se="0".charCodeAt(0),_e=0;_e<=9;++_e)Ae[Se++]=_e;for(Se="a".charCodeAt(0),_e=10;_e<36;++_e)Ae[Se++]=_e;for(Se="A".charCodeAt(0),_e=10;_e<36;++_e)Ae[Se++]=_e;function Te(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function xe(e,t){var r=Ae[e.charCodeAt(t)];return null==r?-1:r}function Ie(e){var t=Ee();return t.fromInt(e),t}function Be(e){var t,r=1;return 0!=(t=e>>>16)&&(e=t,r+=16),0!=(t=e>>8)&&(e=t,r+=8),0!=(t=e>>4)&&(e=t,r+=4),0!=(t=e>>2)&&(e=t,r+=2),0!=(t=e>>1)&&(e=t,r+=1),r}function Re(e){this.m=e}function Pe(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function Ne(e,t){return e&t}function Oe(e,t){return e|t}function De(e,t){return e^t}function Le(e,t){return e&~t}function Me(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function Ue(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function je(){}function Fe(e){return e}function Ve(e){this.r2=Ee(),this.q3=Ee(),Ce.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}Re.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},Re.prototype.revert=function(e){return e},Re.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},Re.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},Re.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},Pe.prototype.convert=function(e){var t=Ee();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Ce.ZERO)>0&&this.m.subTo(t,t),t},Pe.prototype.revert=function(e){var t=Ee();return e.copyTo(t),this.reduce(t),t},Pe.prototype.reduce=function(e){for(;e.t<=this.mt2;)e.data[e.t++]=0;for(var t=0;t<this.m.t;++t){var r=32767&e.data[t],n=r*this.mpl+((r*this.mph+(e.data[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(r=t+this.m.t,e.data[r]+=this.m.am(0,n,e,t,0,this.m.t);e.data[r]>=e.DV;)e.data[r]-=e.DV,e.data[++r]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},Pe.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},Pe.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},Ce.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e.data[t]=this.data[t];e.t=this.t,e.s=this.s},Ce.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this.data[0]=e:e<-1?this.data[0]=e+this.DV:this.t=0},Ce.prototype.fromString=function(e,t){var r;if(16==t)r=4;else if(8==t)r=3;else if(256==t)r=8;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return void this.fromRadix(e,t);r=2}this.t=0,this.s=0;for(var n=e.length,i=!1,o=0;--n>=0;){var a=8==r?255&e[n]:xe(e,n);a<0?"-"==e.charAt(n)&&(i=!0):(i=!1,0==o?this.data[this.t++]=a:o+r>this.DB?(this.data[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this.data[this.t++]=a>>this.DB-o):this.data[this.t-1]|=a<<o,(o+=r)>=this.DB&&(o-=this.DB))}8==r&&0!=(128&e[0])&&(this.s=-1,o>0&&(this.data[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&Ce.ZERO.subTo(this,this)},Ce.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this.data[this.t-1]==e;)--this.t},Ce.prototype.dlShiftTo=function(e,t){var r;for(r=this.t-1;r>=0;--r)t.data[r+e]=this.data[r];for(r=e-1;r>=0;--r)t.data[r]=0;t.t=this.t+e,t.s=this.s},Ce.prototype.drShiftTo=function(e,t){for(var r=e;r<this.t;++r)t.data[r-e]=this.data[r];t.t=Math.max(this.t-e,0),t.s=this.s},Ce.prototype.lShiftTo=function(e,t){var r,n=e%this.DB,i=this.DB-n,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<n&this.DM;for(r=this.t-1;r>=0;--r)t.data[r+a+1]=this.data[r]>>i|s,s=(this.data[r]&o)<<n;for(r=a-1;r>=0;--r)t.data[r]=0;t.data[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},Ce.prototype.rShiftTo=function(e,t){t.s=this.s;var r=Math.floor(e/this.DB);if(r>=this.t)t.t=0;else{var n=e%this.DB,i=this.DB-n,o=(1<<n)-1;t.data[0]=this.data[r]>>n;for(var a=r+1;a<this.t;++a)t.data[a-r-1]|=(this.data[a]&o)<<i,t.data[a-r]=this.data[a]>>n;n>0&&(t.data[this.t-r-1]|=(this.s&o)<<i),t.t=this.t-r,t.clamp()}},Ce.prototype.subTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]-e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n-=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n-=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n-=e.s}t.s=n<0?-1:0,n<-1?t.data[r++]=this.DV+n:n>0&&(t.data[r++]=n),t.t=r,t.clamp()},Ce.prototype.multiplyTo=function(e,t){var r=this.abs(),n=e.abs(),i=r.t;for(t.t=i+n.t;--i>=0;)t.data[i]=0;for(i=0;i<n.t;++i)t.data[i+r.t]=r.am(0,n.data[i],t,i,0,r.t);t.s=0,t.clamp(),this.s!=e.s&&Ce.ZERO.subTo(t,t)},Ce.prototype.squareTo=function(e){for(var t=this.abs(),r=e.t=2*t.t;--r>=0;)e.data[r]=0;for(r=0;r<t.t-1;++r){var n=t.am(r,t.data[r],e,2*r,0,1);(e.data[r+t.t]+=t.am(r+1,2*t.data[r],e,2*r+1,n,t.t-r-1))>=t.DV&&(e.data[r+t.t]-=t.DV,e.data[r+t.t+1]=1)}e.t>0&&(e.data[e.t-1]+=t.am(r,t.data[r],e,2*r,0,1)),e.s=0,e.clamp()},Ce.prototype.divRemTo=function(e,t,r){var n=e.abs();if(!(n.t<=0)){var i=this.abs();if(i.t<n.t)return null!=t&&t.fromInt(0),void(null!=r&&this.copyTo(r));null==r&&(r=Ee());var o=Ee(),a=this.s,s=e.s,c=this.DB-Be(n.data[n.t-1]);c>0?(n.lShiftTo(c,o),i.lShiftTo(c,r)):(n.copyTo(o),i.copyTo(r));var u=o.t,l=o.data[u-1];if(0!=l){var f=l*(1<<this.F1)+(u>1?o.data[u-2]>>this.F2:0),d=this.FV/f,p=(1<<this.F1)/f,h=1<<this.F2,g=r.t,m=g-u,v=null==t?Ee():t;for(o.dlShiftTo(m,v),r.compareTo(v)>=0&&(r.data[r.t++]=1,r.subTo(v,r)),Ce.ONE.dlShiftTo(u,v),v.subTo(o,o);o.t<u;)o.data[o.t++]=0;for(;--m>=0;){var y=r.data[--g]==l?this.DM:Math.floor(r.data[g]*d+(r.data[g-1]+h)*p);if((r.data[g]+=o.am(0,y,r,m,0,u))<y)for(o.dlShiftTo(m,v),r.subTo(v,r);r.data[g]<--y;)r.subTo(v,r)}null!=t&&(r.drShiftTo(u,t),a!=s&&Ce.ZERO.subTo(t,t)),r.t=u,r.clamp(),c>0&&r.rShiftTo(c,r),a<0&&Ce.ZERO.subTo(r,r)}}},Ce.prototype.invDigit=function(){if(this.t<1)return 0;var e=this.data[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},Ce.prototype.isEven=function(){return 0==(this.t>0?1&this.data[0]:this.s)},Ce.prototype.exp=function(e,t){if(e>4294967295||e<1)return Ce.ONE;var r=Ee(),n=Ee(),i=t.convert(this),o=Be(e)-1;for(i.copyTo(r);--o>=0;)if(t.sqrTo(r,n),(e&1<<o)>0)t.mulTo(n,i,r);else{var a=r;r=n,n=a}return t.revert(r)},Ce.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var r,n=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(r=this.data[a]>>s)>0&&(i=!0,o=Te(r));a>=0;)s<t?(r=(this.data[a]&(1<<s)-1)<<t-s,r|=this.data[--a]>>(s+=this.DB-t)):(r=this.data[a]>>(s-=t)&n,s<=0&&(s+=this.DB,--a)),r>0&&(i=!0),i&&(o+=Te(r));return i?o:"0"},Ce.prototype.negate=function(){var e=Ee();return Ce.ZERO.subTo(this,e),e},Ce.prototype.abs=function(){return this.s<0?this.negate():this},Ce.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var r=this.t;if(0!=(t=r-e.t))return this.s<0?-t:t;for(;--r>=0;)if(0!=(t=this.data[r]-e.data[r]))return t;return 0},Ce.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Be(this.data[this.t-1]^this.s&this.DM)},Ce.prototype.mod=function(e){var t=Ee();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Ce.ZERO)>0&&e.subTo(t,t),t},Ce.prototype.modPowInt=function(e,t){var r;return r=e<256||t.isEven()?new Re(t):new Pe(t),this.exp(e,r)},Ce.ZERO=Ie(0),Ce.ONE=Ie(1),je.prototype.convert=Fe,je.prototype.revert=Fe,je.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r)},je.prototype.sqrTo=function(e,t){e.squareTo(t)},Ve.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=Ee();return e.copyTo(t),this.reduce(t),t},Ve.prototype.revert=function(e){return e},Ve.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},Ve.prototype.mulTo=function(e,t,r){e.multiplyTo(t,r),this.reduce(r)},Ve.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var ze=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509],Ke=(1<<26)/ze[ze.length-1];if(Ce.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},Ce.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),r=Math.pow(e,t),n=Ie(r),i=Ee(),o=Ee(),a="";for(this.divRemTo(n,i,o);i.signum()>0;)a=(r+o.intValue()).toString(e).substr(1)+a,i.divRemTo(n,i,o);return o.intValue().toString(e)+a},Ce.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var r=this.chunkSize(t),n=Math.pow(t,r),i=!1,o=0,a=0,s=0;s<e.length;++s){var c=xe(e,s);c<0?"-"==e.charAt(s)&&0==this.signum()&&(i=!0):(a=t*a+c,++o>=r&&(this.dMultiply(n),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),i&&Ce.ZERO.subTo(this,this)},Ce.prototype.fromNumber=function(e,t,r){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,r),this.testBit(e-1)||this.bitwiseTo(Ce.ONE.shiftLeft(e-1),Oe,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(Ce.ONE.shiftLeft(e-1),this);else{var n=new Array,i=7&e;n.length=1+(e>>3),t.nextBytes(n),i>0?n[0]&=(1<<i)-1:n[0]=0,this.fromString(n,256)}},Ce.prototype.bitwiseTo=function(e,t,r){var n,i,o=Math.min(e.t,this.t);for(n=0;n<o;++n)r.data[n]=t(this.data[n],e.data[n]);if(e.t<this.t){for(i=e.s&this.DM,n=o;n<this.t;++n)r.data[n]=t(this.data[n],i);r.t=this.t}else{for(i=this.s&this.DM,n=o;n<e.t;++n)r.data[n]=t(i,e.data[n]);r.t=e.t}r.s=t(this.s,e.s),r.clamp()},Ce.prototype.changeBit=function(e,t){var r=Ce.ONE.shiftLeft(e);return this.bitwiseTo(r,t,r),r},Ce.prototype.addTo=function(e,t){for(var r=0,n=0,i=Math.min(e.t,this.t);r<i;)n+=this.data[r]+e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;if(e.t<this.t){for(n+=e.s;r<this.t;)n+=this.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=this.s}else{for(n+=this.s;r<e.t;)n+=e.data[r],t.data[r++]=n&this.DM,n>>=this.DB;n+=e.s}t.s=n<0?-1:0,n>0?t.data[r++]=n:n<-1&&(t.data[r++]=this.DV+n),t.t=r,t.clamp()},Ce.prototype.dMultiply=function(e){this.data[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},Ce.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this.data[this.t++]=0;for(this.data[t]+=e;this.data[t]>=this.DV;)this.data[t]-=this.DV,++t>=this.t&&(this.data[this.t++]=0),++this.data[t]}},Ce.prototype.multiplyLowerTo=function(e,t,r){var n,i=Math.min(this.t+e.t,t);for(r.s=0,r.t=i;i>0;)r.data[--i]=0;for(n=r.t-this.t;i<n;++i)r.data[i+this.t]=this.am(0,e.data[i],r,i,0,this.t);for(n=Math.min(e.t,t);i<n;++i)this.am(0,e.data[i],r,i,0,t-i);r.clamp()},Ce.prototype.multiplyUpperTo=function(e,t,r){--t;var n=r.t=this.t+e.t-t;for(r.s=0;--n>=0;)r.data[n]=0;for(n=Math.max(t-this.t,0);n<e.t;++n)r.data[this.t+n-t]=this.am(t-n,e.data[n],r,0,0,this.t+n-t);r.clamp(),r.drShiftTo(1,r)},Ce.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,r=this.s<0?e-1:0;if(this.t>0)if(0==t)r=this.data[0]%e;else for(var n=this.t-1;n>=0;--n)r=(t*r+this.data[n])%e;return r},Ce.prototype.millerRabin=function(e){var t=this.subtract(Ce.ONE),r=t.getLowestSetBit();if(r<=0)return!1;for(var n,i=t.shiftRight(r),o={nextBytes:function(e){for(var t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}},a=0;a<e;++a){do{n=new Ce(this.bitLength(),o)}while(n.compareTo(Ce.ONE)<=0||n.compareTo(t)>=0);var s=n.modPow(i,this);if(0!=s.compareTo(Ce.ONE)&&0!=s.compareTo(t)){for(var c=1;c++<r&&0!=s.compareTo(t);)if(0==(s=s.modPowInt(2,this)).compareTo(Ce.ONE))return!1;if(0!=s.compareTo(t))return!1}}return!0},Ce.prototype.clone=function(){var e=Ee();return this.copyTo(e),e},Ce.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this.data[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this.data[0];if(0==this.t)return 0}return(this.data[1]&(1<<32-this.DB)-1)<<this.DB|this.data[0]},Ce.prototype.byteValue=function(){return 0==this.t?this.s:this.data[0]<<24>>24},Ce.prototype.shortValue=function(){return 0==this.t?this.s:this.data[0]<<16>>16},Ce.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this.data[0]<=0?0:1},Ce.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var r,n=this.DB-e*this.DB%8,i=0;if(e-- >0)for(n<this.DB&&(r=this.data[e]>>n)!=(this.s&this.DM)>>n&&(t[i++]=r|this.s<<this.DB-n);e>=0;)n<8?(r=(this.data[e]&(1<<n)-1)<<8-n,r|=this.data[--e]>>(n+=this.DB-8)):(r=this.data[e]>>(n-=8)&255,n<=0&&(n+=this.DB,--e)),0!=(128&r)&&(r|=-256),0==i&&(128&this.s)!=(128&r)&&++i,(i>0||r!=this.s)&&(t[i++]=r);return t},Ce.prototype.equals=function(e){return 0==this.compareTo(e)},Ce.prototype.min=function(e){return this.compareTo(e)<0?this:e},Ce.prototype.max=function(e){return this.compareTo(e)>0?this:e},Ce.prototype.and=function(e){var t=Ee();return this.bitwiseTo(e,Ne,t),t},Ce.prototype.or=function(e){var t=Ee();return this.bitwiseTo(e,Oe,t),t},Ce.prototype.xor=function(e){var t=Ee();return this.bitwiseTo(e,De,t),t},Ce.prototype.andNot=function(e){var t=Ee();return this.bitwiseTo(e,Le,t),t},Ce.prototype.not=function(){for(var e=Ee(),t=0;t<this.t;++t)e.data[t]=this.DM&~this.data[t];return e.t=this.t,e.s=~this.s,e},Ce.prototype.shiftLeft=function(e){var t=Ee();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},Ce.prototype.shiftRight=function(e){var t=Ee();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},Ce.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this.data[e])return e*this.DB+Me(this.data[e]);return this.s<0?this.t*this.DB:-1},Ce.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,r=0;r<this.t;++r)e+=Ue(this.data[r]^t);return e},Ce.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this.data[t]&1<<e%this.DB)},Ce.prototype.setBit=function(e){return this.changeBit(e,Oe)},Ce.prototype.clearBit=function(e){return this.changeBit(e,Le)},Ce.prototype.flipBit=function(e){return this.changeBit(e,De)},Ce.prototype.add=function(e){var t=Ee();return this.addTo(e,t),t},Ce.prototype.subtract=function(e){var t=Ee();return this.subTo(e,t),t},Ce.prototype.multiply=function(e){var t=Ee();return this.multiplyTo(e,t),t},Ce.prototype.divide=function(e){var t=Ee();return this.divRemTo(e,t,null),t},Ce.prototype.remainder=function(e){var t=Ee();return this.divRemTo(e,null,t),t},Ce.prototype.divideAndRemainder=function(e){var t=Ee(),r=Ee();return this.divRemTo(e,t,r),new Array(t,r)},Ce.prototype.modPow=function(e,t){var r,n,i=e.bitLength(),o=Ie(1);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6,n=i<8?new Re(t):t.isEven()?new Ve(t):new Pe(t);var a=new Array,s=3,c=r-1,u=(1<<r)-1;if(a[1]=n.convert(this),r>1){var l=Ee();for(n.sqrTo(a[1],l);s<=u;)a[s]=Ee(),n.mulTo(l,a[s-2],a[s]),s+=2}var f,d,p=e.t-1,h=!0,g=Ee();for(i=Be(e.data[p])-1;p>=0;){for(i>=c?f=e.data[p]>>i-c&u:(f=(e.data[p]&(1<<i+1)-1)<<c-i,p>0&&(f|=e.data[p-1]>>this.DB+i-c)),s=r;0==(1&f);)f>>=1,--s;if((i-=s)<0&&(i+=this.DB,--p),h)a[f].copyTo(o),h=!1;else{for(;s>1;)n.sqrTo(o,g),n.sqrTo(g,o),s-=2;s>0?n.sqrTo(o,g):(d=o,o=g,g=d),n.mulTo(g,a[f],o)}for(;p>=0&&0==(e.data[p]&1<<i);)n.sqrTo(o,g),d=o,o=g,g=d,--i<0&&(i=this.DB-1,--p)}return n.revert(o)},Ce.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return Ce.ZERO;for(var r=e.clone(),n=this.clone(),i=Ie(1),o=Ie(0),a=Ie(0),s=Ie(1);0!=r.signum();){for(;r.isEven();)r.rShiftTo(1,r),t?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;n.isEven();)n.rShiftTo(1,n),t?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(e,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);r.compareTo(n)>=0?(r.subTo(n,r),t&&i.subTo(a,i),o.subTo(s,o)):(n.subTo(r,n),t&&a.subTo(i,a),s.subTo(o,s))}return 0!=n.compareTo(Ce.ONE)?Ce.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s},Ce.prototype.pow=function(e){return this.exp(e,new je)},Ce.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),r=e.s<0?e.negate():e.clone();if(t.compareTo(r)<0){var n=t;t=r,r=n}var i=t.getLowestSetBit(),o=r.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),r.rShiftTo(o,r));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=r.getLowestSetBit())>0&&r.rShiftTo(i,r),t.compareTo(r)>=0?(t.subTo(r,t),t.rShiftTo(1,t)):(r.subTo(t,r),r.rShiftTo(1,r));return o>0&&r.lShiftTo(o,r),r},Ce.prototype.isProbablePrime=function(e){var t,r=this.abs();if(1==r.t&&r.data[0]<=ze[ze.length-1]){for(t=0;t<ze.length;++t)if(r.data[0]==ze[t])return!0;return!1}if(r.isEven())return!1;for(t=1;t<ze.length;){for(var n=ze[t],i=t+1;i<ze.length&&n<Ke;)n*=ze[i++];for(n=r.modInt(n);t<i;)if(n%ze[t++]==0)return!1}return r.millerRabin(e)},w((function(e){var t=e.exports=F.sha1=F.sha1||{};F.md.sha1=F.md.algorithms.sha1=t,t.create=function(){n||(r=String.fromCharCode(128),r+=F.util.fillString(String.fromCharCode(0),64),n=!0);var e=null,t=F.util.createBuffer(),o=new Array(80),a={algorithm:"sha1",blockLength:64,digestLength:20,messageLength:0,fullMessageLength:null,messageLengthSize:8,start:function(){a.messageLength=0,a.fullMessageLength=a.messageLength64=[];for(var r=a.messageLengthSize/4,n=0;n<r;++n)a.fullMessageLength.push(0);return t=F.util.createBuffer(),e={h0:1732584193,h1:4023233417,h2:2562383102,h3:271733878,h4:3285377520},a}};return a.start(),a.update=function(r,n){"utf8"===n&&(r=F.util.encodeUtf8(r));var s=r.length;a.messageLength+=s,s=[s/4294967296>>>0,s>>>0];for(var c=a.fullMessageLength.length-1;c>=0;--c)a.fullMessageLength[c]+=s[1],s[1]=s[0]+(a.fullMessageLength[c]/4294967296>>>0),a.fullMessageLength[c]=a.fullMessageLength[c]>>>0,s[0]=s[1]/4294967296>>>0;return t.putBytes(r),i(e,o,t),(t.read>2048||0===t.length())&&t.compact(),a},a.digest=function(){var n=F.util.createBuffer();n.putBytes(t.bytes());var s,c=a.fullMessageLength[a.fullMessageLength.length-1]+a.messageLengthSize&a.blockLength-1;n.putBytes(r.substr(0,a.blockLength-c));for(var u=8*a.fullMessageLength[0],l=0;l<a.fullMessageLength.length-1;++l)u+=(s=8*a.fullMessageLength[l+1])/4294967296>>>0,n.putInt32(u>>>0),u=s>>>0;n.putInt32(u);var f={h0:e.h0,h1:e.h1,h2:e.h2,h3:e.h3,h4:e.h4};i(f,o,n);var d=F.util.createBuffer();return d.putInt32(f.h0),d.putInt32(f.h1),d.putInt32(f.h2),d.putInt32(f.h3),d.putInt32(f.h4),d},a};var r=null,n=!1;function i(e,t,r){for(var n,i,o,a,s,c,u,l=r.length();l>=64;){for(i=e.h0,o=e.h1,a=e.h2,s=e.h3,c=e.h4,u=0;u<16;++u)n=r.getInt32(),t[u]=n,n=(i<<5|i>>>27)+(s^o&(a^s))+c+1518500249+n,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<20;++u)n=(n=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|n>>>31,t[u]=n,n=(i<<5|i>>>27)+(s^o&(a^s))+c+1518500249+n,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<32;++u)n=(n=t[u-3]^t[u-8]^t[u-14]^t[u-16])<<1|n>>>31,t[u]=n,n=(i<<5|i>>>27)+(o^a^s)+c+1859775393+n,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<40;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(o^a^s)+c+1859775393+n,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<60;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(o&a|s&(o^a))+c+2400959708+n,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;for(;u<80;++u)n=(n=t[u-6]^t[u-16]^t[u-28]^t[u-32])<<2|n>>>30,t[u]=n,n=(i<<5|i>>>27)+(o^a^s)+c+3395469782+n,c=s,s=a,a=(o<<30|o>>>2)>>>0,o=i,i=n;e.h0=e.h0+i|0,e.h1=e.h1+o|0,e.h2=e.h2+a|0,e.h3=e.h3+s|0,e.h4=e.h4+c|0,l-=64}}})),w((function(e){var t=e.exports=F.pkcs1=F.pkcs1||{};function r(e,t,r){r||(r=F.md.sha1.create());for(var n="",i=Math.ceil(t/r.digestLength),o=0;o<i;++o){var a=String.fromCharCode(o>>24&255,o>>16&255,o>>8&255,255&o);r.start(),r.update(e+a),n+=r.digest().getBytes()}return n.substring(0,t)}t.encode_rsa_oaep=function(e,t,n){var i,o,a,s;"string"==typeof n?(i=n,o=arguments[3]||void 0,a=arguments[4]||void 0):n&&(i=n.label||void 0,o=n.seed||void 0,a=n.md||void 0,n.mgf1&&n.mgf1.md&&(s=n.mgf1.md)),a?a.start():a=F.md.sha1.create(),s||(s=a);var c=Math.ceil(e.n.bitLength()/8),u=c-2*a.digestLength-2;if(t.length>u)throw(h=new Error("RSAES-OAEP input message length is too long.")).length=t.length,h.maxLength=u,h;i||(i=""),a.update(i,"raw");for(var l=a.digest(),f="",d=u-t.length,p=0;p<d;p++)f+="\0";var h,g=l.getBytes()+f+""+t;if(o){if(o.length!==a.digestLength)throw(h=new Error("Invalid RSAES-OAEP seed. The seed length must match the digest length.")).seedLength=o.length,h.digestLength=a.digestLength,h}else o=F.random.getBytes(a.digestLength);var m=r(o,c-a.digestLength-1,s),v=F.util.xorBytes(g,m,g.length),y=r(v,a.digestLength,s);return"\0"+F.util.xorBytes(o,y,o.length)+v},t.decode_rsa_oaep=function(e,t,n){var i,o,a;"string"==typeof n?(i=n,o=arguments[3]||void 0):n&&(i=n.label||void 0,o=n.md||void 0,n.mgf1&&n.mgf1.md&&(a=n.mgf1.md));var s=Math.ceil(e.n.bitLength()/8);if(t.length!==s)throw(m=new Error("RSAES-OAEP encoded message length is invalid.")).length=t.length,m.expectedLength=s,m;if(void 0===o?o=F.md.sha1.create():o.start(),a||(a=o),s<2*o.digestLength+2)throw new Error("RSAES-OAEP key is too short for the hash function.");i||(i=""),o.update(i,"raw");for(var c=o.digest().getBytes(),u=t.charAt(0),l=t.substring(1,o.digestLength+1),f=t.substring(1+o.digestLength),d=r(f,o.digestLength,a),p=r(F.util.xorBytes(l,d,l.length),s-o.digestLength-1,a),h=F.util.xorBytes(f,p,f.length),g=h.substring(0,o.digestLength),m="\0"!==u,v=0;v<o.digestLength;++v)m|=c.charAt(v)!==g.charAt(v);for(var y=1,b=o.digestLength,w=o.digestLength;w<h.length;w++){var C=h.charCodeAt(w);m|=C&(y?65534:0),b+=y&=1&C^1}if(m||1!==h.charCodeAt(b))throw new Error("Invalid RSAES-OAEP padding.");return h.substring(b+1)}})),w((function(e){!function(){if(F.prime)e.exports=F.prime;else{var t=e.exports=F.prime=F.prime||{},r=F.jsbn.BigInteger,n=[6,4,2,4,2,4,6,2],i=new r(null);i.fromInt(30);var o=function(e,t){return e|t};t.generateProbablePrime=function(e,t,n){"function"==typeof t&&(n=t,t={});var i=(t=t||{}).algorithm||"PRIMEINC";"string"==typeof i&&(i={name:i}),i.options=i.options||{};var o=t.prng||F.random,c={nextBytes:function(e){for(var t=o.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}};if("PRIMEINC"===i.name)return function(e,t,n,i){return"workers"in n?function(e,t,n,i){if("undefined"==typeof Worker)return a(e,t,n,i);var o=s(e,t),c=n.workers,u=n.workLoad||100,l=30*u/8,f=n.workerScript||"forge/prime.worker.js";if(-1===c)return F.util.estimateCores((function(e,t){e&&(t=2),c=t-1,d()}));function d(){c=Math.max(1,c);for(var n=[],a=0;a<c;++a)n[a]=new Worker(f);for(a=0;a<c;++a)n[a].addEventListener("message",p);var d=!1;function p(a){if(!d){var c=a.data;if(c.found){for(var f=0;f<n.length;++f)n[f].terminate();return d=!0,i(null,new r(c.prime,16))}o.bitLength()>e&&(o=s(e,t));var p=o.toString(16);a.target.postMessage({hex:p,workLoad:u}),o.dAddOffset(l,0)}}}d()}(e,t,n,i):a(e,t,n,i)}(e,c,i.options,n);throw new Error("Invalid prime generation algorithm: "+i.name)}}function a(e,t,r,i){var o=s(e,t),a=function(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}(o.bitLength());"millerRabinTests"in r&&(a=r.millerRabinTests);var c=10;"maxBlockTime"in r&&(c=r.maxBlockTime),function e(t,r,i,o,a,c,u){var l=+new Date;do{if(t.bitLength()>r&&(t=s(r,i)),t.isProbablePrime(a))return u(null,t);t.dAddOffset(n[o++%8],0)}while(c<0||+new Date-l<c);F.util.setImmediate((function(){e(t,r,i,o,a,c,u)}))}(o,e,t,0,a,c,i)}function s(e,t){var n=new r(e,t),a=e-1;return n.testBit(a)||n.bitwiseTo(r.ONE.shiftLeft(a),o,n),n.dAddOffset(31-n.mod(i).byteValue(),0),n}}()})),void 0===qe)var qe=F.jsbn.BigInteger;var He=F.util.isNodejs?t:null,Qe=F.asn1,We=F.util;F.pki=F.pki||{},F.pki.rsa=F.rsa=F.rsa||{};var Ge=F.pki,Ye=[6,4,2,4,2,4,6,2],Xe={name:"PrivateKeyInfo",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},$e={name:"RSAPrivateKey",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPrivateKey.version",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"RSAPrivateKey.modulus",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.INTEGER,constructed:!1,capture:"privateKeyModulus"},{name:"RSAPrivateKey.publicExponent",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.INTEGER,constructed:!1,capture:"privateKeyPublicExponent"},{name:"RSAPrivateKey.privateExponent",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.INTEGER,constructed:!1,capture:"privateKeyPrivateExponent"},{name:"RSAPrivateKey.prime1",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.INTEGER,constructed:!1,capture:"privateKeyPrime1"},{name:"RSAPrivateKey.prime2",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.INTEGER,constructed:!1,capture:"privateKeyPrime2"},{name:"RSAPrivateKey.exponent1",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.INTEGER,constructed:!1,capture:"privateKeyExponent1"},{name:"RSAPrivateKey.exponent2",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.INTEGER,constructed:!1,capture:"privateKeyExponent2"},{name:"RSAPrivateKey.coefficient",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.INTEGER,constructed:!1,capture:"privateKeyCoefficient"}]},Ze={name:"RSAPublicKey",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.SEQUENCE,constructed:!0,value:[{name:"RSAPublicKey.modulus",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.INTEGER,constructed:!1,capture:"publicKeyModulus"},{name:"RSAPublicKey.exponent",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.INTEGER,constructed:!1,capture:"publicKeyExponent"}]},Je=F.pki.rsa.publicKeyValidator={name:"SubjectPublicKeyInfo",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{name:"SubjectPublicKeyInfo.subjectPublicKey",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.BITSTRING,constructed:!1,value:[{name:"SubjectPublicKeyInfo.subjectPublicKey.RSAPublicKey",tagClass:Qe.Class.UNIVERSAL,type:Qe.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"rsaPublicKey"}]}]},et=function(e){var t;if(!(e.algorithm in Ge.oids)){var r=new Error("Unknown message digest algorithm.");throw r.algorithm=e.algorithm,r}t=Ge.oids[e.algorithm];var n=Qe.oidToDer(t).getBytes(),i=Qe.create(Qe.Class.UNIVERSAL,Qe.Type.SEQUENCE,!0,[]),o=Qe.create(Qe.Class.UNIVERSAL,Qe.Type.SEQUENCE,!0,[]);o.value.push(Qe.create(Qe.Class.UNIVERSAL,Qe.Type.OID,!1,n)),o.value.push(Qe.create(Qe.Class.UNIVERSAL,Qe.Type.NULL,!1,""));var a=Qe.create(Qe.Class.UNIVERSAL,Qe.Type.OCTETSTRING,!1,e.digest().getBytes());return i.value.push(o),i.value.push(a),Qe.toDer(i).getBytes()},tt=function(e,t,r){if(r)return e.modPow(t.e,t.n);if(!t.p||!t.q)return e.modPow(t.d,t.n);var n;t.dP||(t.dP=t.d.mod(t.p.subtract(qe.ONE))),t.dQ||(t.dQ=t.d.mod(t.q.subtract(qe.ONE))),t.qInv||(t.qInv=t.q.modInverse(t.p));do{n=new qe(F.util.bytesToHex(F.random.getBytes(t.n.bitLength()/8)),16)}while(n.compareTo(t.n)>=0||!n.gcd(t.n).equals(qe.ONE));for(var i=(e=e.multiply(n.modPow(t.e,t.n)).mod(t.n)).mod(t.p).modPow(t.dP,t.p),o=e.mod(t.q).modPow(t.dQ,t.q);i.compareTo(o)<0;)i=i.add(t.p);return i.subtract(o).multiply(t.qInv).mod(t.p).multiply(t.q).add(o).multiply(n.modInverse(t.n)).mod(t.n)};function rt(e,t,r){var n=F.util.createBuffer(),i=Math.ceil(t.n.bitLength()/8);if(e.length>i-11){var o=new Error("Message is too long for PKCS#1 v1.5 padding.");throw o.length=e.length,o.max=i-11,o}n.putByte(0),n.putByte(r);var a,s=i-3-e.length;if(0===r||1===r){a=0===r?0:255;for(var c=0;c<s;++c)n.putByte(a)}else for(;s>0;){var u=0,l=F.random.getBytes(s);for(c=0;c<s;++c)0===(a=l.charCodeAt(c))?++u:n.putByte(a);s=u}return n.putByte(0),n.putBytes(e),n}function nt(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8),o=F.util.createBuffer(e),a=o.getByte(),s=o.getByte();if(0!==a||r&&0!==s&&1!==s||!r&&2!=s||r&&0===s&&void 0===n)throw new Error("Encryption block is invalid.");var c=0;if(0===s){c=i-3-n;for(var u=0;u<c;++u)if(0!==o.getByte())throw new Error("Encryption block is invalid.")}else if(1===s)for(c=0;o.length()>1;){if(255!==o.getByte()){--o.read;break}++c}else if(2===s)for(c=0;o.length()>1;){if(0===o.getByte()){--o.read;break}++c}if(0!==o.getByte()||c!==i-3-o.length())throw new Error("Encryption block is invalid.");return o.getBytes()}function it(e,t,r){"function"==typeof t&&(r=t,t={});var n={algorithm:{name:(t=t||{}).algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};function i(){o(e.pBits,(function(t,n){return t?r(t):(e.p=n,null!==e.q?a(t,e.q):void o(e.qBits,a))}))}function o(e,t){F.prime.generateProbablePrime(e,n,t)}function a(t,n){if(t)return r(t);if(e.q=n,e.p.compareTo(e.q)<0){var s=e.p;e.p=e.q,e.q=s}if(0!==e.p.subtract(qe.ONE).gcd(e.e).compareTo(qe.ONE))return e.p=null,void i();if(0!==e.q.subtract(qe.ONE).gcd(e.e).compareTo(qe.ONE))return e.q=null,void o(e.qBits,a);if(e.p1=e.p.subtract(qe.ONE),e.q1=e.q.subtract(qe.ONE),e.phi=e.p1.multiply(e.q1),0!==e.phi.gcd(e.e).compareTo(qe.ONE))return e.p=e.q=null,void i();if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits)return e.q=null,void o(e.qBits,a);var c=e.e.modInverse(e.phi);e.keys={privateKey:Ge.rsa.setPrivateKey(e.n,e.e,c,e.p,e.q,c.mod(e.p1),c.mod(e.q1),e.q.modInverse(e.p)),publicKey:Ge.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}"prng"in t&&(n.prng=t.prng),i()}function ot(e){var t=e.toString(16);t[0]>="8"&&(t="00"+t);var r=F.util.hexToBytes(t);return r.length>1&&(0===r.charCodeAt(0)&&0==(128&r.charCodeAt(1))||255===r.charCodeAt(0)&&128==(128&r.charCodeAt(1)))?r.substr(1):r}function at(e){return e<=100?27:e<=150?18:e<=200?15:e<=250?12:e<=300?9:e<=350?8:e<=400?7:e<=500?6:e<=600?5:e<=800?4:e<=1250?3:2}function st(e){return F.util.isNodejs&&"function"==typeof He[e]}function ct(e){return void 0!==We.globalScope&&"object"==ky(We.globalScope.crypto)&&"object"==ky(We.globalScope.crypto.subtle)&&"function"==typeof We.globalScope.crypto.subtle[e]}function ut(e){return void 0!==We.globalScope&&"object"==ky(We.globalScope.msCrypto)&&"object"==ky(We.globalScope.msCrypto.subtle)&&"function"==typeof We.globalScope.msCrypto.subtle[e]}function lt(e){for(var t=F.util.hexToBytes(e.toString(16)),r=new Uint8Array(t.length),n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}if(Ge.rsa.encrypt=function(e,t,r){var n,i=r,o=Math.ceil(t.n.bitLength()/8);!1!==r&&!0!==r?(i=2===r,n=rt(e,t,r)):(n=F.util.createBuffer()).putBytes(e);for(var a=new qe(n.toHex(),16),s=tt(a,t,i).toString(16),c=F.util.createBuffer(),u=o-Math.ceil(s.length/2);u>0;)c.putByte(0),--u;return c.putBytes(F.util.hexToBytes(s)),c.getBytes()},Ge.rsa.decrypt=function(e,t,r,n){var i=Math.ceil(t.n.bitLength()/8);if(e.length!==i){var o=new Error("Encrypted message length is invalid.");throw o.length=e.length,o.expected=i,o}var a=new qe(F.util.createBuffer(e).toHex(),16);if(a.compareTo(t.n)>=0)throw new Error("Encrypted message is invalid.");for(var s=tt(a,t,r).toString(16),c=F.util.createBuffer(),u=i-Math.ceil(s.length/2);u>0;)c.putByte(0),--u;return c.putBytes(F.util.hexToBytes(s)),!1!==n?nt(c.getBytes(),t,r):c.getBytes()},Ge.rsa.createKeyPairGenerationState=function(e,t,r){"string"==typeof e&&(e=parseInt(e,10)),e=e||2048;var n,i=(r=r||{}).prng||F.random,o={nextBytes:function(e){for(var t=i.getBytesSync(e.length),r=0;r<e.length;++r)e[r]=t.charCodeAt(r)}},a=r.algorithm||"PRIMEINC";if("PRIMEINC"!==a)throw new Error("Invalid key generation algorithm: "+a);return(n={algorithm:a,state:0,bits:e,rng:o,eInt:t||65537,e:new qe(null),p:null,q:null,qBits:e>>1,pBits:e-(e>>1),pqState:0,num:null,keys:null}).e.fromInt(n.eInt),n},Ge.rsa.stepKeyPairGenerationState=function(e,t){"algorithm"in e||(e.algorithm="PRIMEINC");var r=new qe(null);r.fromInt(30);for(var n,i=0,o=function(e,t){return e|t},a=+new Date,s=0;null===e.keys&&(t<=0||s<t);){if(0===e.state){var c=null===e.p?e.pBits:e.qBits,u=c-1;0===e.pqState?(e.num=new qe(c,e.rng),e.num.testBit(u)||e.num.bitwiseTo(qe.ONE.shiftLeft(u),o,e.num),e.num.dAddOffset(31-e.num.mod(r).byteValue(),0),i=0,++e.pqState):1===e.pqState?e.num.bitLength()>c?e.pqState=0:e.num.isProbablePrime(at(e.num.bitLength()))?++e.pqState:e.num.dAddOffset(Ye[i++%8],0):2===e.pqState?e.pqState=0===e.num.subtract(qe.ONE).gcd(e.e).compareTo(qe.ONE)?3:0:3===e.pqState&&(e.pqState=0,null===e.p?e.p=e.num:e.q=e.num,null!==e.p&&null!==e.q&&++e.state,e.num=null)}else if(1===e.state)e.p.compareTo(e.q)<0&&(e.num=e.p,e.p=e.q,e.q=e.num),++e.state;else if(2===e.state)e.p1=e.p.subtract(qe.ONE),e.q1=e.q.subtract(qe.ONE),e.phi=e.p1.multiply(e.q1),++e.state;else if(3===e.state)0===e.phi.gcd(e.e).compareTo(qe.ONE)?++e.state:(e.p=null,e.q=null,e.state=0);else if(4===e.state)e.n=e.p.multiply(e.q),e.n.bitLength()===e.bits?++e.state:(e.q=null,e.state=0);else if(5===e.state){var l=e.e.modInverse(e.phi);e.keys={privateKey:Ge.rsa.setPrivateKey(e.n,e.e,l,e.p,e.q,l.mod(e.p1),l.mod(e.q1),e.q.modInverse(e.p)),publicKey:Ge.rsa.setPublicKey(e.n,e.e)}}s+=(n=+new Date)-a,a=n}return null!==e.keys},Ge.rsa.generateKeyPair=function(e,t,r,n){if(1===arguments.length?"object"==ky(e)?(r=e,e=void 0):"function"==typeof e&&(n=e,e=void 0):2===arguments.length?"number"==typeof e?"function"==typeof t?(n=t,t=void 0):"number"!=typeof t&&(r=t,t=void 0):(r=e,n=t,e=void 0,t=void 0):3===arguments.length&&("number"==typeof t?"function"==typeof r&&(n=r,r=void 0):(n=r,r=t,t=void 0)),r=r||{},void 0===e&&(e=r.bits||2048),void 0===t&&(t=r.e||65537),!r.prng&&e>=256&&e<=16384&&(65537===t||3===t))if(n){if(st("generateKeyPair"))return He.generateKeyPair("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}},(function(e,t,r){if(e)return n(e);n(null,{privateKey:Ge.privateKeyFromPem(r),publicKey:Ge.publicKeyFromPem(t)})}));if(ct("generateKey")&&ct("exportKey"))return We.globalScope.crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:lt(t),hash:{name:"SHA-256"}},!0,["sign","verify"]).then((function(e){return We.globalScope.crypto.subtle.exportKey("pkcs8",e.privateKey)})).then(void 0,(function(e){n(e)})).then((function(e){if(e){var t=Ge.privateKeyFromAsn1(Qe.fromDer(F.util.createBuffer(e)));n(null,{privateKey:t,publicKey:Ge.setRsaPublicKey(t.n,t.e)})}}));if(ut("generateKey")&&ut("exportKey")){var i=We.globalScope.msCrypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:lt(t),hash:{name:"SHA-256"}},!0,["sign","verify"]);return i.oncomplete=function(e){var t=e.target.result,r=We.globalScope.msCrypto.subtle.exportKey("pkcs8",t.privateKey);r.oncomplete=function(e){var t=e.target.result,r=Ge.privateKeyFromAsn1(Qe.fromDer(F.util.createBuffer(t)));n(null,{privateKey:r,publicKey:Ge.setRsaPublicKey(r.n,r.e)})},r.onerror=function(e){n(e)}},void(i.onerror=function(e){n(e)})}}else if(st("generateKeyPairSync")){var o=He.generateKeyPairSync("rsa",{modulusLength:e,publicExponent:t,publicKeyEncoding:{type:"spki",format:"pem"},privateKeyEncoding:{type:"pkcs8",format:"pem"}});return{privateKey:Ge.privateKeyFromPem(o.privateKey),publicKey:Ge.publicKeyFromPem(o.publicKey)}}var a=Ge.rsa.createKeyPairGenerationState(e,t,r);if(!n)return Ge.rsa.stepKeyPairGenerationState(a,0),a.keys;it(a,r,n)},Ge.setRsaPublicKey=Ge.rsa.setPublicKey=function(e,t){var r={n:e,e:t,encrypt:function(e,t,n){if("string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5"),"RSAES-PKCS1-V1_5"===t)t={encode:function(e,t,r){return rt(e,t,2).getBytes()}};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={encode:function(e,t){return F.pkcs1.encode_rsa_oaep(t,e,n)}};else if(-1!==["RAW","NONE","NULL",null].indexOf(t))t={encode:function(e){return e}};else if("string"==typeof t)throw new Error('Unsupported encryption scheme: "'+t+'".');var i=t.encode(e,r,!0);return Ge.rsa.encrypt(i,r,!0)},verify:function(e,t,n){"string"==typeof n?n=n.toUpperCase():void 0===n&&(n="RSASSA-PKCS1-V1_5"),"RSASSA-PKCS1-V1_5"===n?n={verify:function(e,t){return t=nt(t,r,!0),e===Qe.fromDer(t).value[1].value}}:"NONE"!==n&&"NULL"!==n&&null!==n||(n={verify:function(e,t){return e===nt(t,r,!0)}});var i=Ge.rsa.decrypt(t,r,!0,!1);return n.verify(e,i,r.n.bitLength())}};return r},Ge.setRsaPrivateKey=Ge.rsa.setPrivateKey=function(e,t,r,n,i,o,a,s){var c={n:e,e:t,d:r,p:n,q:i,dP:o,dQ:a,qInv:s,decrypt:function(e,t,r){"string"==typeof t?t=t.toUpperCase():void 0===t&&(t="RSAES-PKCS1-V1_5");var n=Ge.rsa.decrypt(e,c,!1,!1);if("RSAES-PKCS1-V1_5"===t)t={decode:nt};else if("RSA-OAEP"===t||"RSAES-OAEP"===t)t={decode:function(e,t){return F.pkcs1.decode_rsa_oaep(t,e,r)}};else{if(-1===["RAW","NONE","NULL",null].indexOf(t))throw new Error('Unsupported encryption scheme: "'+t+'".');t={decode:function(e){return e}}}return t.decode(n,c,!1)},sign:function(e,t){var r=!1;"string"==typeof t&&(t=t.toUpperCase()),void 0===t||"RSASSA-PKCS1-V1_5"===t?(t={encode:et},r=1):"NONE"!==t&&"NULL"!==t&&null!==t||(t={encode:function(){return e}},r=1);var n=t.encode(e,c.n.bitLength());return Ge.rsa.encrypt(n,c,r)}};return c},Ge.wrapRsaPrivateKey=function(e){return Qe.create(Qe.Class.UNIVERSAL,Qe.Type.SEQUENCE,!0,[Qe.create(Qe.Class.UNIVERSAL,Qe.Type.INTEGER,!1,Qe.integerToDer(0).getBytes()),Qe.create(Qe.Class.UNIVERSAL,Qe.Type.SEQUENCE,!0,[Qe.create(Qe.Class.UNIVERSAL,Qe.Type.OID,!1,Qe.oidToDer(Ge.oids.rsaEncryption).getBytes()),Qe.create(Qe.Class.UNIVERSAL,Qe.Type.NULL,!1,"")]),Qe.create(Qe.Class.UNIVERSAL,Qe.Type.OCTETSTRING,!1,Qe.toDer(e).getBytes())])},Ge.privateKeyFromAsn1=function(e){var t,r,n,i,o,a,s,c,u={},l=[];if(Qe.validate(e,Xe,u,l)&&(e=Qe.fromDer(F.util.createBuffer(u.privateKey))),u={},l=[],!Qe.validate(e,$e,u,l)){var f=new Error("Cannot read private key. ASN.1 object does not contain an RSAPrivateKey.");throw f.errors=l,f}return t=F.util.createBuffer(u.privateKeyModulus).toHex(),r=F.util.createBuffer(u.privateKeyPublicExponent).toHex(),n=F.util.createBuffer(u.privateKeyPrivateExponent).toHex(),i=F.util.createBuffer(u.privateKeyPrime1).toHex(),o=F.util.createBuffer(u.privateKeyPrime2).toHex(),a=F.util.createBuffer(u.privateKeyExponent1).toHex(),s=F.util.createBuffer(u.privateKeyExponent2).toHex(),c=F.util.createBuffer(u.privateKeyCoefficient).toHex(),Ge.setRsaPrivateKey(new qe(t,16),new qe(r,16),new qe(n,16),new qe(i,16),new qe(o,16),new qe(a,16),new qe(s,16),new qe(c,16))},Ge.privateKeyToAsn1=Ge.privateKeyToRSAPrivateKey=function(e){return Qe.create(Qe.Class.UNIVERSAL,Qe.Type.SEQUENCE,!0,[Qe.create(Qe.Class.UNIVERSAL,Qe.Type.INTEGER,!1,Qe.integerToDer(0).getBytes()),Qe.create(Qe.Class.UNIVERSAL,Qe.Type.INTEGER,!1,ot(e.n)),Qe.create(Qe.Class.UNIVERSAL,Qe.Type.INTEGER,!1,ot(e.e)),Qe.create(Qe.Class.UNIVERSAL,Qe.Type.INTEGER,!1,ot(e.d)),Qe.create(Qe.Class.UNIVERSAL,Qe.Type.INTEGER,!1,ot(e.p)),Qe.create(Qe.Class.UNIVERSAL,Qe.Type.INTEGER,!1,ot(e.q)),Qe.create(Qe.Class.UNIVERSAL,Qe.Type.INTEGER,!1,ot(e.dP)),Qe.create(Qe.Class.UNIVERSAL,Qe.Type.INTEGER,!1,ot(e.dQ)),Qe.create(Qe.Class.UNIVERSAL,Qe.Type.INTEGER,!1,ot(e.qInv))])},Ge.publicKeyFromAsn1=function(e){var t={},r=[];if(Qe.validate(e,Je,t,r)){var n,i=Qe.derToOid(t.publicKeyOid);if(i!==Ge.oids.rsaEncryption)throw(n=new Error("Cannot read public key. Unknown OID.")).oid=i,n;e=t.rsaPublicKey}if(r=[],!Qe.validate(e,Ze,t,r))throw(n=new Error("Cannot read public key. ASN.1 object does not contain an RSAPublicKey.")).errors=r,n;var o=F.util.createBuffer(t.publicKeyModulus).toHex(),a=F.util.createBuffer(t.publicKeyExponent).toHex();return Ge.setRsaPublicKey(new qe(o,16),new qe(a,16))},Ge.publicKeyToAsn1=Ge.publicKeyToSubjectPublicKeyInfo=function(e){return Qe.create(Qe.Class.UNIVERSAL,Qe.Type.SEQUENCE,!0,[Qe.create(Qe.Class.UNIVERSAL,Qe.Type.SEQUENCE,!0,[Qe.create(Qe.Class.UNIVERSAL,Qe.Type.OID,!1,Qe.oidToDer(Ge.oids.rsaEncryption).getBytes()),Qe.create(Qe.Class.UNIVERSAL,Qe.Type.NULL,!1,"")]),Qe.create(Qe.Class.UNIVERSAL,Qe.Type.BITSTRING,!1,[Ge.publicKeyToRSAPublicKey(e)])])},Ge.publicKeyToRSAPublicKey=function(e){return Qe.create(Qe.Class.UNIVERSAL,Qe.Type.SEQUENCE,!0,[Qe.create(Qe.Class.UNIVERSAL,Qe.Type.INTEGER,!1,ot(e.n)),Qe.create(Qe.Class.UNIVERSAL,Qe.Type.INTEGER,!1,ot(e.e))])},void 0===ft)var ft=F.jsbn.BigInteger;var dt=F.asn1,pt=F.pki=F.pki||{},ht=(pt.pbe=F.pbe=F.pbe||{},pt.oids),gt={name:"EncryptedPrivateKeyInfo",tagClass:dt.Class.UNIVERSAL,type:dt.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedPrivateKeyInfo.encryptionAlgorithm",tagClass:dt.Class.UNIVERSAL,type:dt.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:dt.Class.UNIVERSAL,type:dt.Type.OID,constructed:!1,capture:"encryptionOid"},{name:"AlgorithmIdentifier.parameters",tagClass:dt.Class.UNIVERSAL,type:dt.Type.SEQUENCE,constructed:!0,captureAsn1:"encryptionParams"}]},{name:"EncryptedPrivateKeyInfo.encryptedData",tagClass:dt.Class.UNIVERSAL,type:dt.Type.OCTETSTRING,constructed:!1,capture:"encryptedData"}]},mt={name:"PBES2Algorithms",tagClass:dt.Class.UNIVERSAL,type:dt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc",tagClass:dt.Class.UNIVERSAL,type:dt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.keyDerivationFunc.oid",tagClass:dt.Class.UNIVERSAL,type:dt.Type.OID,constructed:!1,capture:"kdfOid"},{name:"PBES2Algorithms.params",tagClass:dt.Class.UNIVERSAL,type:dt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.params.salt",tagClass:dt.Class.UNIVERSAL,type:dt.Type.OCTETSTRING,constructed:!1,capture:"kdfSalt"},{name:"PBES2Algorithms.params.iterationCount",tagClass:dt.Class.UNIVERSAL,type:dt.Type.INTEGER,constructed:!1,capture:"kdfIterationCount"},{name:"PBES2Algorithms.params.keyLength",tagClass:dt.Class.UNIVERSAL,type:dt.Type.INTEGER,constructed:!1,optional:!0,capture:"keyLength"},{name:"PBES2Algorithms.params.prf",tagClass:dt.Class.UNIVERSAL,type:dt.Type.SEQUENCE,constructed:!0,optional:!0,value:[{name:"PBES2Algorithms.params.prf.algorithm",tagClass:dt.Class.UNIVERSAL,type:dt.Type.OID,constructed:!1,capture:"prfOid"}]}]}]},{name:"PBES2Algorithms.encryptionScheme",tagClass:dt.Class.UNIVERSAL,type:dt.Type.SEQUENCE,constructed:!0,value:[{name:"PBES2Algorithms.encryptionScheme.oid",tagClass:dt.Class.UNIVERSAL,type:dt.Type.OID,constructed:!1,capture:"encOid"},{name:"PBES2Algorithms.encryptionScheme.iv",tagClass:dt.Class.UNIVERSAL,type:dt.Type.OCTETSTRING,constructed:!1,capture:"encIv"}]}]},vt={name:"pkcs-12PbeParams",tagClass:dt.Class.UNIVERSAL,type:dt.Type.SEQUENCE,constructed:!0,value:[{name:"pkcs-12PbeParams.salt",tagClass:dt.Class.UNIVERSAL,type:dt.Type.OCTETSTRING,constructed:!1,capture:"salt"},{name:"pkcs-12PbeParams.iterations",tagClass:dt.Class.UNIVERSAL,type:dt.Type.INTEGER,constructed:!1,capture:"iterations"}]};function yt(e,t){return e.start().update(t).digest().getBytes()}function bt(e){var t;if(e){if(!(t=pt.oids[dt.derToOid(e)])){var r=new Error("Unsupported PRF OID.");throw r.oid=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}}else t="hmacWithSHA1";return wt(t)}function wt(e){var t=F.md;switch(e){case"hmacWithSHA224":t=F.md.sha512;case"hmacWithSHA1":case"hmacWithSHA256":case"hmacWithSHA384":case"hmacWithSHA512":e=e.substr(8).toLowerCase();break;default:var r=new Error("Unsupported PRF algorithm.");throw r.algorithm=e,r.supported=["hmacWithSHA1","hmacWithSHA224","hmacWithSHA256","hmacWithSHA384","hmacWithSHA512"],r}if(!t||!(e in t))throw new Error("Unknown hash algorithm: "+e);return t[e].create()}pt.encryptPrivateKeyInfo=function(e,t,r){(r=r||{}).saltSize=r.saltSize||8,r.count=r.count||2048,r.algorithm=r.algorithm||"aes128",r.prfAlgorithm=r.prfAlgorithm||"sha1";var n,i,o,a=F.random.getBytesSync(r.saltSize),s=r.count,c=dt.integerToDer(s);if(0===r.algorithm.indexOf("aes")||"des"===r.algorithm){var u,l,f;switch(r.algorithm){case"aes128":n=16,u=16,l=ht["aes128-CBC"],f=F.aes.createEncryptionCipher;break;case"aes192":n=24,u=16,l=ht["aes192-CBC"],f=F.aes.createEncryptionCipher;break;case"aes256":n=32,u=16,l=ht["aes256-CBC"],f=F.aes.createEncryptionCipher;break;case"des":n=8,u=8,l=ht.desCBC,f=F.des.createEncryptionCipher;break;default:throw(v=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,v}var d="hmacWith"+r.prfAlgorithm.toUpperCase(),p=wt(d),h=F.pkcs5.pbkdf2(t,a,s,n,p),g=F.random.getBytesSync(u);(y=f(h)).start(g),y.update(dt.toDer(e)),y.finish(),o=y.output.getBytes();var m=function(e,t,r,n){var i=dt.create(dt.Class.UNIVERSAL,dt.Type.SEQUENCE,!0,[dt.create(dt.Class.UNIVERSAL,dt.Type.OCTETSTRING,!1,e),dt.create(dt.Class.UNIVERSAL,dt.Type.INTEGER,!1,t.getBytes())]);return"hmacWithSHA1"!==n&&i.value.push(dt.create(dt.Class.UNIVERSAL,dt.Type.INTEGER,!1,F.util.hexToBytes(r.toString(16))),dt.create(dt.Class.UNIVERSAL,dt.Type.SEQUENCE,!0,[dt.create(dt.Class.UNIVERSAL,dt.Type.OID,!1,dt.oidToDer(pt.oids[n]).getBytes()),dt.create(dt.Class.UNIVERSAL,dt.Type.NULL,!1,"")])),i}(a,c,n,d);i=dt.create(dt.Class.UNIVERSAL,dt.Type.SEQUENCE,!0,[dt.create(dt.Class.UNIVERSAL,dt.Type.OID,!1,dt.oidToDer(ht.pkcs5PBES2).getBytes()),dt.create(dt.Class.UNIVERSAL,dt.Type.SEQUENCE,!0,[dt.create(dt.Class.UNIVERSAL,dt.Type.SEQUENCE,!0,[dt.create(dt.Class.UNIVERSAL,dt.Type.OID,!1,dt.oidToDer(ht.pkcs5PBKDF2).getBytes()),m]),dt.create(dt.Class.UNIVERSAL,dt.Type.SEQUENCE,!0,[dt.create(dt.Class.UNIVERSAL,dt.Type.OID,!1,dt.oidToDer(l).getBytes()),dt.create(dt.Class.UNIVERSAL,dt.Type.OCTETSTRING,!1,g)])])])}else{var v;if("3des"!==r.algorithm)throw(v=new Error("Cannot encrypt private key. Unknown encryption algorithm.")).algorithm=r.algorithm,v;n=24;var y,b=new F.util.ByteBuffer(a);h=pt.pbe.generatePkcs12Key(t,b,1,s,n),g=pt.pbe.generatePkcs12Key(t,b,2,s,n),(y=F.des.createEncryptionCipher(h)).start(g),y.update(dt.toDer(e)),y.finish(),o=y.output.getBytes(),i=dt.create(dt.Class.UNIVERSAL,dt.Type.SEQUENCE,!0,[dt.create(dt.Class.UNIVERSAL,dt.Type.OID,!1,dt.oidToDer(ht["pbeWithSHAAnd3-KeyTripleDES-CBC"]).getBytes()),dt.create(dt.Class.UNIVERSAL,dt.Type.SEQUENCE,!0,[dt.create(dt.Class.UNIVERSAL,dt.Type.OCTETSTRING,!1,a),dt.create(dt.Class.UNIVERSAL,dt.Type.INTEGER,!1,c.getBytes())])])}return dt.create(dt.Class.UNIVERSAL,dt.Type.SEQUENCE,!0,[i,dt.create(dt.Class.UNIVERSAL,dt.Type.OCTETSTRING,!1,o)])},pt.decryptPrivateKeyInfo=function(e,t){var r=null,n={},i=[];if(!dt.validate(e,gt,n,i)){var o=new Error("Cannot read encrypted private key. ASN.1 object is not a supported EncryptedPrivateKeyInfo.");throw o.errors=i,o}var a=dt.derToOid(n.encryptionOid),s=pt.pbe.getCipher(a,n.encryptionParams,t),c=F.util.createBuffer(n.encryptedData);return s.update(c),s.finish()&&(r=dt.fromDer(s.output)),r},pt.encryptedPrivateKeyToPem=function(e,t){var r={type:"ENCRYPTED PRIVATE KEY",body:dt.toDer(e).getBytes()};return F.pem.encode(r,{maxline:t})},pt.encryptedPrivateKeyFromPem=function(e){var t=F.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==t.type){var r=new Error('Could not convert encrypted private key from PEM; PEM header type is "ENCRYPTED PRIVATE KEY".');throw r.headerType=t.type,r}if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert encrypted private key from PEM; PEM is encrypted.");return dt.fromDer(t.body)},pt.encryptRsaPrivateKey=function(e,t,r){if(!(r=r||{}).legacy){var n=pt.wrapRsaPrivateKey(pt.privateKeyToAsn1(e));return n=pt.encryptPrivateKeyInfo(n,t,r),pt.encryptedPrivateKeyToPem(n)}var i,o,a,s;switch(r.algorithm){case"aes128":i="AES-128-CBC",a=16,o=F.random.getBytesSync(16),s=F.aes.createEncryptionCipher;break;case"aes192":i="AES-192-CBC",a=24,o=F.random.getBytesSync(16),s=F.aes.createEncryptionCipher;break;case"aes256":i="AES-256-CBC",a=32,o=F.random.getBytesSync(16),s=F.aes.createEncryptionCipher;break;case"3des":i="DES-EDE3-CBC",a=24,o=F.random.getBytesSync(8),s=F.des.createEncryptionCipher;break;case"des":i="DES-CBC",a=8,o=F.random.getBytesSync(8),s=F.des.createEncryptionCipher;break;default:var c=new Error('Could not encrypt RSA private key; unsupported encryption algorithm "'+r.algorithm+'".');throw c.algorithm=r.algorithm,c}var u=s(F.pbe.opensslDeriveBytes(t,o.substr(0,8),a));u.start(o),u.update(dt.toDer(pt.privateKeyToAsn1(e))),u.finish();var l={type:"RSA PRIVATE KEY",procType:{version:"4",type:"ENCRYPTED"},dekInfo:{algorithm:i,parameters:F.util.bytesToHex(o).toUpperCase()},body:u.output.getBytes()};return F.pem.encode(l)},pt.decryptRsaPrivateKey=function(e,t){var r=null,n=F.pem.decode(e)[0];if("ENCRYPTED PRIVATE KEY"!==n.type&&"PRIVATE KEY"!==n.type&&"RSA PRIVATE KEY"!==n.type)throw(a=new Error('Could not convert private key from PEM; PEM header type is not "ENCRYPTED PRIVATE KEY", "PRIVATE KEY", or "RSA PRIVATE KEY".')).headerType=a,a;if(n.procType&&"ENCRYPTED"===n.procType.type){var i,o;switch(n.dekInfo.algorithm){case"DES-CBC":i=8,o=F.des.createDecryptionCipher;break;case"DES-EDE3-CBC":i=24,o=F.des.createDecryptionCipher;break;case"AES-128-CBC":i=16,o=F.aes.createDecryptionCipher;break;case"AES-192-CBC":i=24,o=F.aes.createDecryptionCipher;break;case"AES-256-CBC":i=32,o=F.aes.createDecryptionCipher;break;case"RC2-40-CBC":i=5,o=function(e){return F.rc2.createDecryptionCipher(e,40)};break;case"RC2-64-CBC":i=8,o=function(e){return F.rc2.createDecryptionCipher(e,64)};break;case"RC2-128-CBC":i=16,o=function(e){return F.rc2.createDecryptionCipher(e,128)};break;default:var a;throw(a=new Error('Could not decrypt private key; unsupported encryption algorithm "'+n.dekInfo.algorithm+'".')).algorithm=n.dekInfo.algorithm,a}var s=F.util.hexToBytes(n.dekInfo.parameters),c=o(F.pbe.opensslDeriveBytes(t,s.substr(0,8),i));if(c.start(s),c.update(F.util.createBuffer(n.body)),!c.finish())return r;r=c.output.getBytes()}else r=n.body;return null!==(r="ENCRYPTED PRIVATE KEY"===n.type?pt.decryptPrivateKeyInfo(dt.fromDer(r),t):dt.fromDer(r))&&(r=pt.privateKeyFromAsn1(r)),r},pt.pbe.generatePkcs12Key=function(e,t,r,n,i,o){var a,s;if(null==o){if(!("sha1"in F.md))throw new Error('"sha1" hash algorithm unavailable.');o=F.md.sha1.create()}var c=o.digestLength,u=o.blockLength,l=new F.util.ByteBuffer,f=new F.util.ByteBuffer;if(null!=e){for(s=0;s<e.length;s++)f.putInt16(e.charCodeAt(s));f.putInt16(0)}var d=f.length(),p=t.length(),h=new F.util.ByteBuffer;h.fillWithByte(r,u);var g=u*Math.ceil(p/u),m=new F.util.ByteBuffer;for(s=0;s<g;s++)m.putByte(t.at(s%p));var v=u*Math.ceil(d/u),y=new F.util.ByteBuffer;for(s=0;s<v;s++)y.putByte(f.at(s%d));var b=m;b.putBuffer(y);for(var w=Math.ceil(i/c),C=1;C<=w;C++){var E=new F.util.ByteBuffer;E.putBytes(h.bytes()),E.putBytes(b.bytes());for(var k=0;k<n;k++)o.start(),o.update(E.getBytes()),E=o.digest();var S=new F.util.ByteBuffer;for(s=0;s<u;s++)S.putByte(E.at(s%c));var _=Math.ceil(p/u)+Math.ceil(d/u),A=new F.util.ByteBuffer;for(a=0;a<_;a++){var T=new F.util.ByteBuffer(b.getBytes(u)),x=511;for(s=S.length()-1;s>=0;s--)x>>=8,x+=S.at(s)+T.at(s),T.setAt(s,255&x);A.putBuffer(T)}b=A,l.putBuffer(E)}return l.truncate(l.length()-i),l},pt.pbe.getCipher=function(e,t,r){switch(e){case pt.oids.pkcs5PBES2:return pt.pbe.getCipherForPBES2(e,t,r);case pt.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:case pt.oids["pbewithSHAAnd40BitRC2-CBC"]:return pt.pbe.getCipherForPKCS12PBE(e,t,r);default:var n=new Error("Cannot read encrypted PBE data block. Unsupported OID.");throw n.oid=e,n.supportedOids=["pkcs5PBES2","pbeWithSHAAnd3-KeyTripleDES-CBC","pbewithSHAAnd40BitRC2-CBC"],n}},pt.pbe.getCipherForPBES2=function(e,t,r){var n,i={},o=[];if(!dt.validate(t,mt,i,o))throw(n=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=o,n;if((e=dt.derToOid(i.kdfOid))!==pt.oids.pkcs5PBKDF2)throw(n=new Error("Cannot read encrypted private key. Unsupported key derivation function OID.")).oid=e,n.supportedOids=["pkcs5PBKDF2"],n;if((e=dt.derToOid(i.encOid))!==pt.oids["aes128-CBC"]&&e!==pt.oids["aes192-CBC"]&&e!==pt.oids["aes256-CBC"]&&e!==pt.oids["des-EDE3-CBC"]&&e!==pt.oids.desCBC)throw(n=new Error("Cannot read encrypted private key. Unsupported encryption scheme OID.")).oid=e,n.supportedOids=["aes128-CBC","aes192-CBC","aes256-CBC","des-EDE3-CBC","desCBC"],n;var a,s,c=i.kdfSalt,u=F.util.createBuffer(i.kdfIterationCount);switch(u=u.getInt(u.length()<<3),pt.oids[e]){case"aes128-CBC":a=16,s=F.aes.createDecryptionCipher;break;case"aes192-CBC":a=24,s=F.aes.createDecryptionCipher;break;case"aes256-CBC":a=32,s=F.aes.createDecryptionCipher;break;case"des-EDE3-CBC":a=24,s=F.des.createDecryptionCipher;break;case"desCBC":a=8,s=F.des.createDecryptionCipher}var l=bt(i.prfOid),f=F.pkcs5.pbkdf2(r,c,u,a,l),d=i.encIv,p=s(f);return p.start(d),p},pt.pbe.getCipherForPKCS12PBE=function(e,t,r){var n={},i=[];if(!dt.validate(t,vt,n,i))throw(l=new Error("Cannot read password-based-encryption algorithm parameters. ASN.1 object is not a supported EncryptedPrivateKeyInfo.")).errors=i,l;var o,a,s,c=F.util.createBuffer(n.salt),u=F.util.createBuffer(n.iterations);switch(u=u.getInt(u.length()<<3),e){case pt.oids["pbeWithSHAAnd3-KeyTripleDES-CBC"]:o=24,a=8,s=F.des.startDecrypting;break;case pt.oids["pbewithSHAAnd40BitRC2-CBC"]:o=5,a=8,s=function(e,t){var r=F.rc2.createDecryptionCipher(e,40);return r.start(t,null),r};break;default:var l;throw(l=new Error("Cannot read PKCS #12 PBE data block. Unsupported OID.")).oid=e,l}var f=bt(n.prfOid),d=pt.pbe.generatePkcs12Key(r,c,1,u,o,f);return f.start(),s(d,pt.pbe.generatePkcs12Key(r,c,2,u,a,f))},pt.pbe.opensslDeriveBytes=function(e,t,r,n){if(null==n){if(!("md5"in F.md))throw new Error('"md5" hash algorithm unavailable.');n=F.md.md5.create()}null===t&&(t="");for(var i=[yt(n,e+t)],o=16,a=1;o<r;++a,o+=16)i.push(yt(n,i[a-1]+e+t));return i.join("").substr(0,r)},w((function(e){var t=F.asn1,r=e.exports=F.pkcs7asn1=F.pkcs7asn1||{};F.pkcs7=F.pkcs7||{},F.pkcs7.asn1=r;var n={name:"ContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.ContentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,captureAsn1:"content"}]};r.contentInfoValidator=n;var i={name:"EncryptedContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedContentInfo.contentEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"EncryptedContentInfo.contentEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,captureAsn1:"encParameter"}]},{name:"EncryptedContentInfo.encryptedContent",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,capture:"encryptedContent",captureAsn1:"encryptedContentAsn1"}]};r.envelopedDataValidator={name:"EnvelopedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EnvelopedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"EnvelopedData.RecipientInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"recipientInfos"}].concat(i)},r.encryptedDataValidator={name:"EncryptedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"EncryptedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"}].concat(i)};var o={name:"SignerInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1},{name:"SignerInfo.issuerAndSerialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.issuerAndSerialNumber.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"SignerInfo.issuerAndSerialNumber.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"SignerInfo.digestAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignerInfo.digestAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"digestAlgorithm"},{name:"SignerInfo.digestAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"digestParameter",optional:!0}]},{name:"SignerInfo.authenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"authenticatedAttributes"},{name:"SignerInfo.digestEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,capture:"signatureAlgorithm"},{name:"SignerInfo.encryptedDigest",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"signature"},{name:"SignerInfo.unauthenticatedAttributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,capture:"unauthenticatedAttributes"}]};r.signedDataValidator={name:"SignedData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SignedData.Version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"SignedData.DigestAlgorithms",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,captureAsn1:"digestAlgorithms"},n,{name:"SignedData.Certificates",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,optional:!0,captureAsn1:"certificates"},{name:"SignedData.CertificateRevocationLists",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,optional:!0,captureAsn1:"crls"},{name:"SignedData.SignerInfos",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,capture:"signerInfos",optional:!0,value:[o]}]},r.recipientInfoValidator={name:"RecipientInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},{name:"RecipientInfo.issuerAndSerial",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.issuerAndSerial.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"issuer"},{name:"RecipientInfo.issuerAndSerial.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"serial"}]},{name:"RecipientInfo.keyEncryptionAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"RecipientInfo.keyEncryptionAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"encAlgorithm"},{name:"RecipientInfo.keyEncryptionAlgorithm.parameter",tagClass:t.Class.UNIVERSAL,constructed:!1,captureAsn1:"encParameter"}]},{name:"RecipientInfo.encryptedKey",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"encKey"}]}})),w((function(e){F.mgf=F.mgf||{},(e.exports=F.mgf.mgf1=F.mgf1=F.mgf1||{}).create=function(e){return{generate:function(t,r){for(var n=new F.util.ByteBuffer,i=Math.ceil(r/e.digestLength),o=0;o<i;o++){var a=new F.util.ByteBuffer;a.putInt32(o),e.start(),e.update(t+a.getBytes()),n.putBuffer(e.digest())}return n.truncate(n.length()-r),n.getBytes()}}}})),F.mgf=F.mgf||{},F.mgf.mgf1=F.mgf1,w((function(e){(e.exports=F.pss=F.pss||{}).create=function(e){3===arguments.length&&(e={md:arguments[0],mgf:arguments[1],saltLength:arguments[2]});var t,r=e.md,n=e.mgf,i=r.digestLength,o=e.salt||null;if("string"==typeof o&&(o=F.util.createBuffer(o)),"saltLength"in e)t=e.saltLength;else{if(null===o)throw new Error("Salt length not specified or specific salt not given.");t=o.length()}if(null!==o&&o.length()!==t)throw new Error("Given salt length does not match length of given salt.");var a=e.prng||F.random;return{encode:function(e,s){var c,u,l=s-1,f=Math.ceil(l/8),d=e.digest().getBytes();if(f<i+t+2)throw new Error("Message is too long to encrypt.");u=null===o?a.getBytesSync(t):o.bytes();var p=new F.util.ByteBuffer;p.fillWithByte(0,8),p.putBytes(d),p.putBytes(u),r.start(),r.update(p.getBytes());var h=r.digest().getBytes(),g=new F.util.ByteBuffer;g.fillWithByte(0,f-t-i-2),g.putByte(1),g.putBytes(u);var m=g.getBytes(),v=f-i-1,y=n.generate(h,v),b="";for(c=0;c<v;c++)b+=String.fromCharCode(m.charCodeAt(c)^y.charCodeAt(c));var w=65280>>8*f-l&255;return(b=String.fromCharCode(b.charCodeAt(0)&~w)+b.substr(1))+h+String.fromCharCode(188)},verify:function(e,o,a){var s,c=a-1,u=Math.ceil(c/8);if(o=o.substr(-u),u<i+t+2)throw new Error("Inconsistent parameters to PSS signature verification.");if(188!==o.charCodeAt(u-1))throw new Error("Encoded message does not end in 0xBC.");var l=u-i-1,f=o.substr(0,l),d=o.substr(l,i),p=65280>>8*u-c&255;if(0!=(f.charCodeAt(0)&p))throw new Error("Bits beyond keysize not zero as expected.");var h=n.generate(d,l),g="";for(s=0;s<l;s++)g+=String.fromCharCode(f.charCodeAt(s)^h.charCodeAt(s));g=String.fromCharCode(g.charCodeAt(0)&~p)+g.substr(1);var m=u-i-t-2;for(s=0;s<m;s++)if(0!==g.charCodeAt(s))throw new Error("Leftmost octets not zero as expected");if(1!==g.charCodeAt(m))throw new Error("Inconsistent PSS signature, 0x01 marker not found");var v=g.substr(-t),y=new F.util.ByteBuffer;return y.fillWithByte(0,8),y.putBytes(e),y.putBytes(v),r.start(),r.update(y.getBytes()),d===r.digest().getBytes()}}}})),w((function(e){var t=F.asn1,r=e.exports=F.pki=F.pki||{},n=r.oids,i={};i.CN=n.commonName,i.commonName="CN",i.C=n.countryName,i.countryName="C",i.L=n.localityName,i.localityName="L",i.ST=n.stateOrProvinceName,i.stateOrProvinceName="ST",i.O=n.organizationName,i.organizationName="O",i.OU=n.organizationalUnitName,i.organizationalUnitName="OU",i.E=n.emailAddress,i.emailAddress="E";var o=F.pki.rsa.publicKeyValidator,a={name:"Certificate",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"tbsCertificate",value:[{name:"Certificate.TBSCertificate.version",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.version.integer",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certVersion"}]},{name:"Certificate.TBSCertificate.serialNumber",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certSerialNumber"},{name:"Certificate.TBSCertificate.signature",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.signature.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certinfoSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"certinfoSignatureParams"}]},{name:"Certificate.TBSCertificate.issuer",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certIssuer"},{name:"Certificate.TBSCertificate.validity",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.TBSCertificate.validity.notBefore (utc)",tagClass:t.Class.UNIVERSAL,type:t.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity1UTCTime"},{name:"Certificate.TBSCertificate.validity.notBefore (generalized)",tagClass:t.Class.UNIVERSAL,type:t.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity2GeneralizedTime"},{name:"Certificate.TBSCertificate.validity.notAfter (utc)",tagClass:t.Class.UNIVERSAL,type:t.Type.UTCTIME,constructed:!1,optional:!0,capture:"certValidity3UTCTime"},{name:"Certificate.TBSCertificate.validity.notAfter (generalized)",tagClass:t.Class.UNIVERSAL,type:t.Type.GENERALIZEDTIME,constructed:!1,optional:!0,capture:"certValidity4GeneralizedTime"}]},{name:"Certificate.TBSCertificate.subject",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certSubject"},o,{name:"Certificate.TBSCertificate.issuerUniqueID",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.issuerUniqueID.id",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certIssuerUniqueId"}]},{name:"Certificate.TBSCertificate.subjectUniqueID",tagClass:t.Class.CONTEXT_SPECIFIC,type:2,constructed:!0,optional:!0,value:[{name:"Certificate.TBSCertificate.subjectUniqueID.id",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSubjectUniqueId"}]},{name:"Certificate.TBSCertificate.extensions",tagClass:t.Class.CONTEXT_SPECIFIC,type:3,constructed:!0,captureAsn1:"certExtensions",optional:!0}]},{name:"Certificate.signatureAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Certificate.signatureAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certSignatureOid"},{name:"Certificate.TBSCertificate.signature.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"certSignatureParams"}]},{name:"Certificate.signatureValue",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"certSignature"}]},s={name:"rsapss",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.hashAlgorithm",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.hashAlgorithm.AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"hashOid"}]}]},{name:"rsapss.maskGenAlgorithm",tagClass:t.Class.CONTEXT_SPECIFIC,type:1,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier",tagClass:t.Class.UNIVERSAL,type:t.Class.SEQUENCE,constructed:!0,optional:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"maskGenOid"},{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"rsapss.maskGenAlgorithm.AlgorithmIdentifier.params.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"maskGenHashOid"}]}]}]},{name:"rsapss.saltLength",tagClass:t.Class.CONTEXT_SPECIFIC,type:2,optional:!0,value:[{name:"rsapss.saltLength.saltLength",tagClass:t.Class.UNIVERSAL,type:t.Class.INTEGER,constructed:!1,capture:"saltLength"}]},{name:"rsapss.trailerField",tagClass:t.Class.CONTEXT_SPECIFIC,type:3,optional:!0,value:[{name:"rsapss.trailer.trailer",tagClass:t.Class.UNIVERSAL,type:t.Class.INTEGER,constructed:!1,capture:"trailer"}]}]},c={name:"CertificationRequestInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfo",value:[{name:"CertificationRequestInfo.integer",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"certificationRequestInfoVersion"},{name:"CertificationRequestInfo.subject",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"certificationRequestInfoSubject"},o,{name:"CertificationRequestInfo.attributes",tagClass:t.Class.CONTEXT_SPECIFIC,type:0,constructed:!0,optional:!0,capture:"certificationRequestInfoAttributes",value:[{name:"CertificationRequestInfo.attributes",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequestInfo.attributes.type",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1},{name:"CertificationRequestInfo.attributes.value",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0}]}]}]},u={name:"CertificationRequest",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,captureAsn1:"csr",value:[c,{name:"CertificationRequest.signatureAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertificationRequest.signatureAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"csrSignatureOid"},{name:"CertificationRequest.signatureAlgorithm.parameters",tagClass:t.Class.UNIVERSAL,optional:!0,captureAsn1:"csrSignatureParams"}]},{name:"CertificationRequest.signature",tagClass:t.Class.UNIVERSAL,type:t.Type.BITSTRING,constructed:!1,captureBitStringValue:"csrSignature"}]};function l(e,t){"string"==typeof t&&(t={shortName:t});for(var r,n=null,i=0;null===n&&i<e.attributes.length;++i)r=e.attributes[i],(t.type&&t.type===r.type||t.name&&t.name===r.name||t.shortName&&t.shortName===r.shortName)&&(n=r);return n}r.RDNAttributesAsArray=function(e,r){for(var o,a,s,c=[],u=0;u<e.value.length;++u){o=e.value[u];for(var l=0;l<o.value.length;++l)s={},a=o.value[l],s.type=t.derToOid(a.value[0].value),s.value=a.value[1].value,s.valueTagClass=a.value[1].type,s.type in n&&(s.name=n[s.type],s.name in i&&(s.shortName=i[s.name])),r&&(r.update(s.type),r.update(s.value)),c.push(s)}return c},r.CRIAttributesAsArray=function(e){for(var o=[],a=0;a<e.length;++a)for(var s=e[a],c=t.derToOid(s.value[0].value),u=s.value[1].value,l=0;l<u.length;++l){var f={};if(f.type=c,f.value=u[l].value,f.valueTagClass=u[l].type,f.type in n&&(f.name=n[f.type],f.name in i&&(f.shortName=i[f.name])),f.type===n.extensionRequest){f.extensions=[];for(var d=0;d<f.value.length;++d)f.extensions.push(r.certificateExtensionFromAsn1(f.value[d]))}o.push(f)}return o};var f=function(e,r,i){var o={};if(e!==n["RSASSA-PSS"])return o;i&&(o={hash:{algorithmOid:n.sha1},mgf:{algorithmOid:n.mgf1,hash:{algorithmOid:n.sha1}},saltLength:20});var a={},c=[];if(!t.validate(r,s,a,c)){var u=new Error("Cannot read RSASSA-PSS parameter block.");throw u.errors=c,u}return void 0!==a.hashOid&&(o.hash=o.hash||{},o.hash.algorithmOid=t.derToOid(a.hashOid)),void 0!==a.maskGenOid&&(o.mgf=o.mgf||{},o.mgf.algorithmOid=t.derToOid(a.maskGenOid),o.mgf.hash=o.mgf.hash||{},o.mgf.hash.algorithmOid=t.derToOid(a.maskGenHashOid)),void 0!==a.saltLength&&(o.saltLength=a.saltLength.charCodeAt(0)),o};function d(e){for(var r,n,i=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),o=e.attributes,a=0;a<o.length;++a){var s=(r=o[a]).value,c=t.Type.PRINTABLESTRING;"valueTagClass"in r&&(c=r.valueTagClass)===t.Type.UTF8&&(s=F.util.encodeUtf8(s)),n=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.type).getBytes()),t.create(t.Class.UNIVERSAL,c,!1,s)])]),i.value.push(n)}return i}function p(e){for(var o,a=0;a<e.length;++a){if(void 0===(o=e[a]).name&&(o.type&&o.type in r.oids?o.name=r.oids[o.type]:o.shortName&&o.shortName in i&&(o.name=r.oids[i[o.shortName]])),void 0===o.type){if(!o.name||!(o.name in r.oids))throw(c=new Error("Attribute type not specified.")).attribute=o,c;o.type=r.oids[o.name]}if(void 0===o.shortName&&o.name&&o.name in i&&(o.shortName=i[o.name]),o.type===n.extensionRequest&&(o.valueConstructed=!0,o.valueTagClass=t.Type.SEQUENCE,!o.value&&o.extensions)){o.value=[];for(var s=0;s<o.extensions.length;++s)o.value.push(r.certificateExtensionToAsn1(h(o.extensions[s])))}var c;if(void 0===o.value)throw(c=new Error("Attribute value not specified.")).attribute=o,c}}function h(e,i){if(i=i||{},void 0===e.name&&e.id&&e.id in r.oids&&(e.name=r.oids[e.id]),void 0===e.id){if(!e.name||!(e.name in r.oids))throw(w=new Error("Extension ID not specified.")).extension=e,w;e.id=r.oids[e.name]}if(void 0!==e.value)return e;if("keyUsage"===e.name){var o=0,a=0,s=0;e.digitalSignature&&(a|=128,o=7),e.nonRepudiation&&(a|=64,o=6),e.keyEncipherment&&(a|=32,o=5),e.dataEncipherment&&(a|=16,o=4),e.keyAgreement&&(a|=8,o=3),e.keyCertSign&&(a|=4,o=2),e.cRLSign&&(a|=2,o=1),e.encipherOnly&&(a|=1,o=0),e.decipherOnly&&(s|=128,o=7);var c=String.fromCharCode(o);0!==s?c+=String.fromCharCode(a)+String.fromCharCode(s):0!==a&&(c+=String.fromCharCode(a)),e.value=t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,c)}else if("basicConstraints"===e.name)e.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),e.cA&&e.value.value.push(t.create(t.Class.UNIVERSAL,t.Type.BOOLEAN,!1,String.fromCharCode(255))),"pathLenConstraint"in e&&e.value.value.push(t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(e.pathLenConstraint).getBytes()));else if("extKeyUsage"===e.name){e.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);var u=e.value.value;for(var l in e)!0===e[l]&&(l in n?u.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(n[l]).getBytes())):-1!==l.indexOf(".")&&u.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(l).getBytes())))}else if("nsCertType"===e.name)o=0,a=0,e.client&&(a|=128,o=7),e.server&&(a|=64,o=6),e.email&&(a|=32,o=5),e.objsign&&(a|=16,o=4),e.reserved&&(a|=8,o=3),e.sslCA&&(a|=4,o=2),e.emailCA&&(a|=2,o=1),e.objCA&&(a|=1,o=0),c=String.fromCharCode(o),0!==a&&(c+=String.fromCharCode(a)),e.value=t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,c);else if("subjectAltName"===e.name||"issuerAltName"===e.name){e.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);for(var f=0;f<e.altNames.length;++f){if(c=(v=e.altNames[f]).value,7===v.type&&v.ip){if(null===(c=F.util.bytesFromIP(v.ip)))throw(w=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,w}else 8===v.type&&(c=v.oid?t.oidToDer(t.oidToDer(v.oid)):t.oidToDer(c));e.value.value.push(t.create(t.Class.CONTEXT_SPECIFIC,v.type,!1,c))}}else if("nsComment"===e.name&&i.cert){if(!/^[\x00-\x7F]*$/.test(e.comment)||e.comment.length<1||e.comment.length>128)throw new Error('Invalid "nsComment" content.');e.value=t.create(t.Class.UNIVERSAL,t.Type.IA5STRING,!1,e.comment)}else if("subjectKeyIdentifier"===e.name&&i.cert){var p=i.cert.generateSubjectKeyIdentifier();e.subjectKeyIdentifier=p.toHex(),e.value=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,p.getBytes())}else if("authorityKeyIdentifier"===e.name&&i.cert){if(e.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),u=e.value.value,e.keyIdentifier){var h=!0===e.keyIdentifier?i.cert.generateSubjectKeyIdentifier().getBytes():e.keyIdentifier;u.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!1,h))}if(e.authorityCertIssuer){var g=[t.create(t.Class.CONTEXT_SPECIFIC,4,!0,[d(!0===e.authorityCertIssuer?i.cert.issuer:e.authorityCertIssuer)])];u.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,g))}if(e.serialNumber){var m=F.util.hexToBytes(!0===e.serialNumber?i.cert.serialNumber:e.serialNumber);u.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!1,m))}}else if("cRLDistributionPoints"===e.name){e.value=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),u=e.value.value;var v,y=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]),b=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);for(f=0;f<e.altNames.length;++f){if(c=(v=e.altNames[f]).value,7===v.type&&v.ip){if(null===(c=F.util.bytesFromIP(v.ip)))throw(w=new Error('Extension "ip" value is not a valid IPv4 or IPv6 address.')).extension=e,w}else 8===v.type&&(c=v.oid?t.oidToDer(t.oidToDer(v.oid)):t.oidToDer(c));b.value.push(t.create(t.Class.CONTEXT_SPECIFIC,v.type,!1,c))}y.value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[b])),u.push(y)}var w;if(void 0===e.value)throw(w=new Error("Extension value not specified.")).extension=e,w;return e}function g(e,r){switch(e){case n["RSASSA-PSS"]:var i=[];return void 0!==r.hash.algorithmOid&&i.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.hash.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])])),void 0!==r.mgf.algorithmOid&&i.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.mgf.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.mgf.hash.algorithmOid).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])])])),void 0!==r.saltLength&&i.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(r.saltLength).getBytes())])),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,i);default:return t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")}}function m(e){var r=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);if(0===e.attributes.length)return r;for(var n=e.attributes,i=0;i<n.length;++i){var o=n[i],a=o.value,s=t.Type.UTF8;"valueTagClass"in o&&(s=o.valueTagClass),s===t.Type.UTF8&&(a=F.util.encodeUtf8(a));var c=!1;"valueConstructed"in o&&(c=o.valueConstructed);var u=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(o.type).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,s,c,a)])]);r.value.push(u)}return r}r.certificateFromPem=function(e,n,i){var o=F.pem.decode(e)[0];if("CERTIFICATE"!==o.type&&"X509 CERTIFICATE"!==o.type&&"TRUSTED CERTIFICATE"!==o.type){var a=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw a.headerType=o.type,a}if(o.procType&&"ENCRYPTED"===o.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var s=t.fromDer(o.body,i);return r.certificateFromAsn1(s,n)},r.certificateToPem=function(e,n){var i={type:"CERTIFICATE",body:t.toDer(r.certificateToAsn1(e)).getBytes()};return F.pem.encode(i,{maxline:n})},r.publicKeyFromPem=function(e){var n=F.pem.decode(e)[0];if("PUBLIC KEY"!==n.type&&"RSA PUBLIC KEY"!==n.type){var i=new Error('Could not convert public key from PEM; PEM header type is not "PUBLIC KEY" or "RSA PUBLIC KEY".');throw i.headerType=n.type,i}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert public key from PEM; PEM is encrypted.");var o=t.fromDer(n.body);return r.publicKeyFromAsn1(o)},r.publicKeyToPem=function(e,n){var i={type:"PUBLIC KEY",body:t.toDer(r.publicKeyToAsn1(e)).getBytes()};return F.pem.encode(i,{maxline:n})},r.publicKeyToRSAPublicKeyPem=function(e,n){var i={type:"RSA PUBLIC KEY",body:t.toDer(r.publicKeyToRSAPublicKey(e)).getBytes()};return F.pem.encode(i,{maxline:n})},r.getPublicKeyFingerprint=function(e,n){var i,o=(n=n||{}).md||F.md.sha1.create();switch(n.type||"RSAPublicKey"){case"RSAPublicKey":i=t.toDer(r.publicKeyToRSAPublicKey(e)).getBytes();break;case"SubjectPublicKeyInfo":i=t.toDer(r.publicKeyToAsn1(e)).getBytes();break;default:throw new Error('Unknown fingerprint type "'+n.type+'".')}o.start(),o.update(i);var a=o.digest();if("hex"===n.encoding){var s=a.toHex();return n.delimiter?s.match(/.{2}/g).join(n.delimiter):s}if("binary"===n.encoding)return a.getBytes();if(n.encoding)throw new Error('Unknown encoding "'+n.encoding+'".');return a},r.certificationRequestFromPem=function(e,n,i){var o=F.pem.decode(e)[0];if("CERTIFICATE REQUEST"!==o.type){var a=new Error('Could not convert certification request from PEM; PEM header type is not "CERTIFICATE REQUEST".');throw a.headerType=o.type,a}if(o.procType&&"ENCRYPTED"===o.procType.type)throw new Error("Could not convert certification request from PEM; PEM is encrypted.");var s=t.fromDer(o.body,i);return r.certificationRequestFromAsn1(s,n)},r.certificationRequestToPem=function(e,n){var i={type:"CERTIFICATE REQUEST",body:t.toDer(r.certificationRequestToAsn1(e)).getBytes()};return F.pem.encode(i,{maxline:n})},r.createCertificate=function(){var e={version:2,serialNumber:"00",signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.validity={},e.validity.notBefore=new Date,e.validity.notAfter=new Date,e.issuer={},e.issuer.getField=function(t){return l(e.issuer,t)},e.issuer.addField=function(t){p([t]),e.issuer.attributes.push(t)},e.issuer.attributes=[],e.issuer.hash=null,e.subject={},e.subject.getField=function(t){return l(e.subject,t)},e.subject.addField=function(t){p([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.extensions=[],e.publicKey=null,e.md=null,e.setSubject=function(t,r){p(t),e.subject.attributes=t,delete e.subject.uniqueId,r&&(e.subject.uniqueId=r),e.subject.hash=null},e.setIssuer=function(t,r){p(t),e.issuer.attributes=t,delete e.issuer.uniqueId,r&&(e.issuer.uniqueId=r),e.issuer.hash=null},e.setExtensions=function(t){for(var r=0;r<t.length;++r)h(t[r],{cert:e});e.extensions=t},e.getExtension=function(t){"string"==typeof t&&(t={name:t});for(var r,n=null,i=0;null===n&&i<e.extensions.length;++i)r=e.extensions[i],(t.id&&r.id===t.id||t.name&&r.name===t.name)&&(n=r);return n},e.sign=function(i,o){e.md=o||F.md.sha1.create();var a=n[e.md.algorithm+"WithRSAEncryption"];if(!a){var s=new Error("Could not compute certificate digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=a,e.tbsCertificate=r.getTBSCertificate(e);var c=t.toDer(e.tbsCertificate);e.md.update(c.getBytes()),e.signature=i.sign(e.md)},e.verify=function(i){var o=!1;if(!e.issued(i)){var a=i.issuer,s=e.subject;throw(h=new Error("The parent certificate did not issue the given child certificate; the child certificate's issuer does not match the parent's subject.")).expectedIssuer=a.attributes,h.actualIssuer=s.attributes,h}var c=i.md;if(null===c){if(i.signatureOid in n)switch(n[i.signatureOid]){case"sha1WithRSAEncryption":c=F.md.sha1.create();break;case"md5WithRSAEncryption":c=F.md.md5.create();break;case"sha256WithRSAEncryption":c=F.md.sha256.create();break;case"sha384WithRSAEncryption":c=F.md.sha384.create();break;case"sha512WithRSAEncryption":c=F.md.sha512.create();break;case"RSASSA-PSS":c=F.md.sha256.create()}if(null===c)throw(h=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=i.signatureOid,h;var u=i.tbsCertificate||r.getTBSCertificate(i),l=t.toDer(u);c.update(l.getBytes())}if(null!==c){var f;switch(i.signatureOid){case n.sha1WithRSAEncryption:f=void 0;break;case n["RSASSA-PSS"]:var d,p,h;if(void 0===(d=n[i.signatureParameters.mgf.hash.algorithmOid])||void 0===F.md[d])throw(h=new Error("Unsupported MGF hash function.")).oid=i.signatureParameters.mgf.hash.algorithmOid,h.name=d,h;if(void 0===(p=n[i.signatureParameters.mgf.algorithmOid])||void 0===F.mgf[p])throw(h=new Error("Unsupported MGF function.")).oid=i.signatureParameters.mgf.algorithmOid,h.name=p,h;if(p=F.mgf[p].create(F.md[d].create()),void 0===(d=n[i.signatureParameters.hash.algorithmOid])||void 0===F.md[d])throw{message:"Unsupported RSASSA-PSS hash function.",oid:i.signatureParameters.hash.algorithmOid,name:d};f=F.pss.create(F.md[d].create(),p,i.signatureParameters.saltLength)}o=e.publicKey.verify(c.digest().getBytes(),i.signature,f)}return o},e.isIssuer=function(t){var r=!1,n=e.issuer,i=t.subject;if(n.hash&&i.hash)r=n.hash===i.hash;else if(n.attributes.length===i.attributes.length){var o,a;r=!0;for(var s=0;r&&s<n.attributes.length;++s)o=n.attributes[s],a=i.attributes[s],o.type===a.type&&o.value===a.value||(r=!1)}return r},e.issued=function(t){return t.isIssuer(e)},e.generateSubjectKeyIdentifier=function(){return r.getPublicKeyFingerprint(e.publicKey,{type:"RSAPublicKey"})},e.verifySubjectKeyIdentifier=function(){for(var t=n.subjectKeyIdentifier,r=0;r<e.extensions.length;++r){var i=e.extensions[r];if(i.id===t){var o=e.generateSubjectKeyIdentifier().getBytes();return F.util.hexToBytes(i.subjectKeyIdentifier)===o}}return!1},e},r.certificateFromAsn1=function(e,i){var o={},s=[];if(!t.validate(e,a,o,s))throw(h=new Error("Cannot read X.509 certificate. ASN.1 object is not an X509v3 Certificate.")).errors=s,h;if(t.derToOid(o.publicKeyOid)!==r.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var c=r.createCertificate();c.version=o.certVersion?o.certVersion.charCodeAt(0):0;var u=F.util.createBuffer(o.certSerialNumber);c.serialNumber=u.toHex(),c.signatureOid=F.asn1.derToOid(o.certSignatureOid),c.signatureParameters=f(c.signatureOid,o.certSignatureParams,!0),c.siginfo.algorithmOid=F.asn1.derToOid(o.certinfoSignatureOid),c.siginfo.parameters=f(c.siginfo.algorithmOid,o.certinfoSignatureParams,!1),c.signature=o.certSignature;var d=[];if(void 0!==o.certValidity1UTCTime&&d.push(t.utcTimeToDate(o.certValidity1UTCTime)),void 0!==o.certValidity2GeneralizedTime&&d.push(t.generalizedTimeToDate(o.certValidity2GeneralizedTime)),void 0!==o.certValidity3UTCTime&&d.push(t.utcTimeToDate(o.certValidity3UTCTime)),void 0!==o.certValidity4GeneralizedTime&&d.push(t.generalizedTimeToDate(o.certValidity4GeneralizedTime)),d.length>2)throw new Error("Cannot read notBefore/notAfter validity times; more than two times were provided in the certificate.");if(d.length<2)throw new Error("Cannot read notBefore/notAfter validity times; they were not provided as either UTCTime or GeneralizedTime.");if(c.validity.notBefore=d[0],c.validity.notAfter=d[1],c.tbsCertificate=o.tbsCertificate,i){var h;if(c.md=null,c.signatureOid in n)switch(n[c.signatureOid]){case"sha1WithRSAEncryption":c.md=F.md.sha1.create();break;case"md5WithRSAEncryption":c.md=F.md.md5.create();break;case"sha256WithRSAEncryption":c.md=F.md.sha256.create();break;case"sha384WithRSAEncryption":c.md=F.md.sha384.create();break;case"sha512WithRSAEncryption":c.md=F.md.sha512.create();break;case"RSASSA-PSS":c.md=F.md.sha256.create()}if(null===c.md)throw(h=new Error("Could not compute certificate digest. Unknown signature OID.")).signatureOid=c.signatureOid,h;var g=t.toDer(c.tbsCertificate);c.md.update(g.getBytes())}var m=F.md.sha1.create();c.issuer.getField=function(e){return l(c.issuer,e)},c.issuer.addField=function(e){p([e]),c.issuer.attributes.push(e)},c.issuer.attributes=r.RDNAttributesAsArray(o.certIssuer,m),o.certIssuerUniqueId&&(c.issuer.uniqueId=o.certIssuerUniqueId),c.issuer.hash=m.digest().toHex();var v=F.md.sha1.create();return c.subject.getField=function(e){return l(c.subject,e)},c.subject.addField=function(e){p([e]),c.subject.attributes.push(e)},c.subject.attributes=r.RDNAttributesAsArray(o.certSubject,v),o.certSubjectUniqueId&&(c.subject.uniqueId=o.certSubjectUniqueId),c.subject.hash=v.digest().toHex(),o.certExtensions?c.extensions=r.certificateExtensionsFromAsn1(o.certExtensions):c.extensions=[],c.publicKey=r.publicKeyFromAsn1(o.subjectPublicKeyInfo),c},r.certificateExtensionsFromAsn1=function(e){for(var t=[],n=0;n<e.value.length;++n)for(var i=e.value[n],o=0;o<i.value.length;++o)t.push(r.certificateExtensionFromAsn1(i.value[o]));return t},r.certificateExtensionFromAsn1=function(e){var r={};if(r.id=t.derToOid(e.value[0].value),r.critical=!1,e.value[1].type===t.Type.BOOLEAN?(r.critical=0!==e.value[1].value.charCodeAt(0),r.value=e.value[2].value):r.value=e.value[1].value,r.id in n)if(r.name=n[r.id],"keyUsage"===r.name){var i=0,o=0;(s=t.fromDer(r.value)).value.length>1&&(i=s.value.charCodeAt(1),o=s.value.length>2?s.value.charCodeAt(2):0),r.digitalSignature=128==(128&i),r.nonRepudiation=64==(64&i),r.keyEncipherment=32==(32&i),r.dataEncipherment=16==(16&i),r.keyAgreement=8==(8&i),r.keyCertSign=4==(4&i),r.cRLSign=2==(2&i),r.encipherOnly=1==(1&i),r.decipherOnly=128==(128&o)}else if("basicConstraints"===r.name){(s=t.fromDer(r.value)).value.length>0&&s.value[0].type===t.Type.BOOLEAN?r.cA=0!==s.value[0].value.charCodeAt(0):r.cA=!1;var a=null;s.value.length>0&&s.value[0].type===t.Type.INTEGER?a=s.value[0].value:s.value.length>1&&(a=s.value[1].value),null!==a&&(r.pathLenConstraint=t.derToInteger(a))}else if("extKeyUsage"===r.name)for(var s=t.fromDer(r.value),c=0;c<s.value.length;++c){var u=t.derToOid(s.value[c].value);u in n?r[n[u]]=!0:r[u]=!0}else if("nsCertType"===r.name)i=0,(s=t.fromDer(r.value)).value.length>1&&(i=s.value.charCodeAt(1)),r.client=128==(128&i),r.server=64==(64&i),r.email=32==(32&i),r.objsign=16==(16&i),r.reserved=8==(8&i),r.sslCA=4==(4&i),r.emailCA=2==(2&i),r.objCA=1==(1&i);else if("subjectAltName"===r.name||"issuerAltName"===r.name){var l;r.altNames=[],s=t.fromDer(r.value);for(var f=0;f<s.value.length;++f){var d={type:(l=s.value[f]).type,value:l.value};switch(r.altNames.push(d),l.type){case 1:case 2:case 6:break;case 7:d.ip=F.util.bytesToIP(l.value);break;case 8:d.oid=t.derToOid(l.value)}}}else"subjectKeyIdentifier"===r.name&&(s=t.fromDer(r.value),r.subjectKeyIdentifier=F.util.bytesToHex(s.value));return r},r.certificationRequestFromAsn1=function(e,i){var o={},a=[];if(!t.validate(e,u,o,a))throw(c=new Error("Cannot read PKCS#10 certificate request. ASN.1 object is not a PKCS#10 CertificationRequest.")).errors=a,c;if(t.derToOid(o.publicKeyOid)!==r.oids.rsaEncryption)throw new Error("Cannot read public key. OID is not RSA.");var s=r.createCertificationRequest();if(s.version=o.csrVersion?o.csrVersion.charCodeAt(0):0,s.signatureOid=F.asn1.derToOid(o.csrSignatureOid),s.signatureParameters=f(s.signatureOid,o.csrSignatureParams,!0),s.siginfo.algorithmOid=F.asn1.derToOid(o.csrSignatureOid),s.siginfo.parameters=f(s.siginfo.algorithmOid,o.csrSignatureParams,!1),s.signature=o.csrSignature,s.certificationRequestInfo=o.certificationRequestInfo,i){var c;if(s.md=null,s.signatureOid in n)switch(n[s.signatureOid]){case"sha1WithRSAEncryption":s.md=F.md.sha1.create();break;case"md5WithRSAEncryption":s.md=F.md.md5.create();break;case"sha256WithRSAEncryption":s.md=F.md.sha256.create();break;case"sha384WithRSAEncryption":s.md=F.md.sha384.create();break;case"sha512WithRSAEncryption":s.md=F.md.sha512.create();break;case"RSASSA-PSS":s.md=F.md.sha256.create()}if(null===s.md)throw(c=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=s.signatureOid,c;var d=t.toDer(s.certificationRequestInfo);s.md.update(d.getBytes())}var h=F.md.sha1.create();return s.subject.getField=function(e){return l(s.subject,e)},s.subject.addField=function(e){p([e]),s.subject.attributes.push(e)},s.subject.attributes=r.RDNAttributesAsArray(o.certificationRequestInfoSubject,h),s.subject.hash=h.digest().toHex(),s.publicKey=r.publicKeyFromAsn1(o.subjectPublicKeyInfo),s.getAttribute=function(e){return l(s,e)},s.addAttribute=function(e){p([e]),s.attributes.push(e)},s.attributes=r.CRIAttributesAsArray(o.certificationRequestInfoAttributes||[]),s},r.createCertificationRequest=function(){var e={version:0,signatureOid:null,signature:null,siginfo:{}};return e.siginfo.algorithmOid=null,e.subject={},e.subject.getField=function(t){return l(e.subject,t)},e.subject.addField=function(t){p([t]),e.subject.attributes.push(t)},e.subject.attributes=[],e.subject.hash=null,e.publicKey=null,e.attributes=[],e.getAttribute=function(t){return l(e,t)},e.addAttribute=function(t){p([t]),e.attributes.push(t)},e.md=null,e.setSubject=function(t){p(t),e.subject.attributes=t,e.subject.hash=null},e.setAttributes=function(t){p(t),e.attributes=t},e.sign=function(i,o){e.md=o||F.md.sha1.create();var a=n[e.md.algorithm+"WithRSAEncryption"];if(!a){var s=new Error("Could not compute certification request digest. Unknown message digest algorithm OID.");throw s.algorithm=e.md.algorithm,s}e.signatureOid=e.siginfo.algorithmOid=a,e.certificationRequestInfo=r.getCertificationRequestInfo(e);var c=t.toDer(e.certificationRequestInfo);e.md.update(c.getBytes()),e.signature=i.sign(e.md)},e.verify=function(){var i=!1,o=e.md;if(null===o){if(e.signatureOid in n)switch(n[e.signatureOid]){case"sha1WithRSAEncryption":o=F.md.sha1.create();break;case"md5WithRSAEncryption":o=F.md.md5.create();break;case"sha256WithRSAEncryption":o=F.md.sha256.create();break;case"sha384WithRSAEncryption":o=F.md.sha384.create();break;case"sha512WithRSAEncryption":o=F.md.sha512.create();break;case"RSASSA-PSS":o=F.md.sha256.create()}if(null===o)throw(f=new Error("Could not compute certification request digest. Unknown signature OID.")).signatureOid=e.signatureOid,f;var a=e.certificationRequestInfo||r.getCertificationRequestInfo(e),s=t.toDer(a);o.update(s.getBytes())}if(null!==o){var c;switch(e.signatureOid){case n.sha1WithRSAEncryption:break;case n["RSASSA-PSS"]:var u,l,f;if(void 0===(u=n[e.signatureParameters.mgf.hash.algorithmOid])||void 0===F.md[u])throw(f=new Error("Unsupported MGF hash function.")).oid=e.signatureParameters.mgf.hash.algorithmOid,f.name=u,f;if(void 0===(l=n[e.signatureParameters.mgf.algorithmOid])||void 0===F.mgf[l])throw(f=new Error("Unsupported MGF function.")).oid=e.signatureParameters.mgf.algorithmOid,f.name=l,f;if(l=F.mgf[l].create(F.md[u].create()),void 0===(u=n[e.signatureParameters.hash.algorithmOid])||void 0===F.md[u])throw(f=new Error("Unsupported RSASSA-PSS hash function.")).oid=e.signatureParameters.hash.algorithmOid,f.name=u,f;c=F.pss.create(F.md[u].create(),l,e.signatureParameters.saltLength)}i=e.publicKey.verify(o.digest().getBytes(),e.signature,c)}return i},e};var v=new Date("1950-01-01T00:00:00Z"),y=new Date("2050-01-01T00:00:00Z");function b(e){return e>=v&&e<y?t.create(t.Class.UNIVERSAL,t.Type.UTCTIME,!1,t.dateToUtcTime(e)):t.create(t.Class.UNIVERSAL,t.Type.GENERALIZEDTIME,!1,t.dateToGeneralizedTime(e))}r.getTBSCertificate=function(e){var n=b(e.validity.notBefore),i=b(e.validity.notAfter),o=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(e.version).getBytes())]),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,F.util.hexToBytes(e.serialNumber)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.siginfo.algorithmOid).getBytes()),g(e.siginfo.algorithmOid,e.siginfo.parameters)]),d(e.issuer),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[n,i]),d(e.subject),r.publicKeyToAsn1(e.publicKey)]);return e.issuer.uniqueId&&o.value.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,String.fromCharCode(0)+e.issuer.uniqueId)])),e.subject.uniqueId&&o.value.push(t.create(t.Class.CONTEXT_SPECIFIC,2,!0,[t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,String.fromCharCode(0)+e.subject.uniqueId)])),e.extensions.length>0&&o.value.push(r.certificateExtensionsToAsn1(e.extensions)),o},r.getCertificationRequestInfo=function(e){return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(e.version).getBytes()),d(e.subject),r.publicKeyToAsn1(e.publicKey),m(e)])},r.distinguishedNameToAsn1=function(e){return d(e)},r.certificateToAsn1=function(e){var n=e.tbsCertificate||r.getTBSCertificate(e);return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[n,t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.signatureOid).getBytes()),g(e.signatureOid,e.signatureParameters)]),t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},r.certificateExtensionsToAsn1=function(e){var n=t.create(t.Class.CONTEXT_SPECIFIC,3,!0,[]),i=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);n.value.push(i);for(var o=0;o<e.length;++o)i.value.push(r.certificateExtensionToAsn1(e[o]));return n},r.certificateExtensionToAsn1=function(e){var r=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[]);r.value.push(t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.id).getBytes())),e.critical&&r.value.push(t.create(t.Class.UNIVERSAL,t.Type.BOOLEAN,!1,String.fromCharCode(255)));var n=e.value;return"string"!=typeof e.value&&(n=t.toDer(n).getBytes()),r.value.push(t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,n)),r},r.certificationRequestToAsn1=function(e){var n=e.certificationRequestInfo||r.getCertificationRequestInfo(e);return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[n,t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.signatureOid).getBytes()),g(e.signatureOid,e.signatureParameters)]),t.create(t.Class.UNIVERSAL,t.Type.BITSTRING,!1,String.fromCharCode(0)+e.signature)])},r.createCaStore=function(e){var n={certs:{}};function i(e){return o(e),n.certs[e.hash]||null}function o(e){if(!e.hash){var t=F.md.sha1.create();e.attributes=r.RDNAttributesAsArray(d(e),t),e.hash=t.digest().toHex()}}if(n.getIssuer=function(e){return i(e.issuer)},n.addCertificate=function(e){if("string"==typeof e&&(e=F.pki.certificateFromPem(e)),o(e.subject),!n.hasCertificate(e))if(e.subject.hash in n.certs){var t=n.certs[e.subject.hash];F.util.isArray(t)||(t=[t]),t.push(e),n.certs[e.subject.hash]=t}else n.certs[e.subject.hash]=e},n.hasCertificate=function(e){"string"==typeof e&&(e=F.pki.certificateFromPem(e));var n=i(e.subject);if(!n)return!1;F.util.isArray(n)||(n=[n]);for(var o=t.toDer(r.certificateToAsn1(e)).getBytes(),a=0;a<n.length;++a)if(o===t.toDer(r.certificateToAsn1(n[a])).getBytes())return!0;return!1},n.listAllCertificates=function(){var e=[];for(var t in n.certs)if(n.certs.hasOwnProperty(t)){var r=n.certs[t];if(F.util.isArray(r))for(var i=0;i<r.length;++i)e.push(r[i]);else e.push(r)}return e},n.removeCertificate=function(e){var a;if("string"==typeof e&&(e=F.pki.certificateFromPem(e)),o(e.subject),!n.hasCertificate(e))return null;var s=i(e.subject);if(!F.util.isArray(s))return a=n.certs[e.subject.hash],delete n.certs[e.subject.hash],a;for(var c=t.toDer(r.certificateToAsn1(e)).getBytes(),u=0;u<s.length;++u)c===t.toDer(r.certificateToAsn1(s[u])).getBytes()&&(a=s[u],s.splice(u,1));return 0===s.length&&delete n.certs[e.subject.hash],a},e)for(var a=0;a<e.length;++a){var s=e[a];n.addCertificate(s)}return n},r.certificateError={bad_certificate:"forge.pki.BadCertificate",unsupported_certificate:"forge.pki.UnsupportedCertificate",certificate_revoked:"forge.pki.CertificateRevoked",certificate_expired:"forge.pki.CertificateExpired",certificate_unknown:"forge.pki.CertificateUnknown",unknown_ca:"forge.pki.UnknownCertificateAuthority"},r.verifyCertificateChain=function(e,t,n){"function"==typeof n&&(n={verify:n}),n=n||{};var i=(t=t.slice(0)).slice(0),o=n.validityCheckDate;void 0===o&&(o=new Date);var a=!0,s=null,c=0;do{var u=t.shift(),l=null,f=!1;if(o&&(o<u.validity.notBefore||o>u.validity.notAfter)&&(s={message:"Certificate is not valid yet or has expired.",error:r.certificateError.certificate_expired,notBefore:u.validity.notBefore,notAfter:u.validity.notAfter,now:o}),null===s){if(null===(l=t[0]||e.getIssuer(u))&&u.isIssuer(u)&&(f=!0,l=u),l){var d=l;F.util.isArray(d)||(d=[d]);for(var p=!1;!p&&d.length>0;){l=d.shift();try{p=l.verify(u)}catch(e){}}p||(s={message:"Certificate signature is invalid.",error:r.certificateError.bad_certificate})}null!==s||l&&!f||e.hasCertificate(u)||(s={message:"Certificate is not trusted.",error:r.certificateError.unknown_ca})}if(null===s&&l&&!u.isIssuer(l)&&(s={message:"Certificate issuer is invalid.",error:r.certificateError.bad_certificate}),null===s)for(var h={keyUsage:!0,basicConstraints:!0},g=0;null===s&&g<u.extensions.length;++g){var m=u.extensions[g];!m.critical||m.name in h||(s={message:"Certificate has an unsupported critical extension.",error:r.certificateError.unsupported_certificate})}if(null===s&&(!a||0===t.length&&(!l||f))){var v=u.getExtension("basicConstraints"),y=u.getExtension("keyUsage");null!==y&&(y.keyCertSign&&null!==v||(s={message:"Certificate keyUsage or basicConstraints conflict or indicate that the certificate is not a CA. If the certificate is the only one in the chain or isn't the first then the certificate must be a valid CA.",error:r.certificateError.bad_certificate})),null!==s||null===v||v.cA||(s={message:"Certificate basicConstraints indicates the certificate is not a CA.",error:r.certificateError.bad_certificate}),null===s&&null!==y&&"pathLenConstraint"in v&&c-1>v.pathLenConstraint&&(s={message:"Certificate basicConstraints pathLenConstraint violated.",error:r.certificateError.bad_certificate})}var b=null===s||s.error,w=n.verify?n.verify(b,c,i):b;if(!0!==w)throw!0===b&&(s={message:"The application rejected the certificate.",error:r.certificateError.bad_certificate}),(w||0===w)&&("object"!=ky(w)||F.util.isArray(w)?"string"==typeof w&&(s.error=w):(w.message&&(s.message=w.message),w.error&&(s.error=w.error))),s;s=null,a=!1,++c}while(t.length>0);return!0}})),w((function(e){var t=F.asn1,r=F.pki,n=e.exports=F.pkcs12=F.pkcs12||{},i={name:"ContentInfo",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"ContentInfo.contentType",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"contentType"},{name:"ContentInfo.content",tagClass:t.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"content"}]},o={name:"PFX",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.version",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,capture:"version"},i,{name:"PFX.macData",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,optional:!0,captureAsn1:"mac",value:[{name:"PFX.macData.mac",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"PFX.macData.mac.digestAlgorithm.algorithm",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"macAlgorithm"},{name:"PFX.macData.mac.digestAlgorithm.parameters",tagClass:t.Class.UNIVERSAL,captureAsn1:"macAlgorithmParameters"}]},{name:"PFX.macData.mac.digest",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"macDigest"}]},{name:"PFX.macData.macSalt",tagClass:t.Class.UNIVERSAL,type:t.Type.OCTETSTRING,constructed:!1,capture:"macSalt"},{name:"PFX.macData.iterations",tagClass:t.Class.UNIVERSAL,type:t.Type.INTEGER,constructed:!1,optional:!0,capture:"macIterations"}]}]},a={name:"SafeBag",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"SafeBag.bagId",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"bagId"},{name:"SafeBag.bagValue",tagClass:t.Class.CONTEXT_SPECIFIC,constructed:!0,captureAsn1:"bagValue"},{name:"SafeBag.bagAttributes",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,optional:!0,capture:"bagAttributes"}]},s={name:"Attribute",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"Attribute.attrId",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"oid"},{name:"Attribute.attrValues",tagClass:t.Class.UNIVERSAL,type:t.Type.SET,constructed:!0,capture:"values"}]},c={name:"CertBag",tagClass:t.Class.UNIVERSAL,type:t.Type.SEQUENCE,constructed:!0,value:[{name:"CertBag.certId",tagClass:t.Class.UNIVERSAL,type:t.Type.OID,constructed:!1,capture:"certId"},{name:"CertBag.certValue",tagClass:t.Class.CONTEXT_SPECIFIC,constructed:!0,value:[{name:"CertBag.certValue[0]",tagClass:t.Class.UNIVERSAL,type:t.Class.OCTETSTRING,constructed:!1,capture:"cert"}]}]};function u(e,t,r,n){for(var i=[],o=0;o<e.length;o++)for(var a=0;a<e[o].safeBags.length;a++){var s=e[o].safeBags[a];void 0!==n&&s.type!==n||(null!==t?void 0!==s.attributes[t]&&s.attributes[t].indexOf(r)>=0&&i.push(s):i.push(s))}return i}function l(e){if(e.composed||e.constructed){for(var t=F.util.createBuffer(),r=0;r<e.value.length;++r)t.putBytes(e.value[r].value);e.composed=e.constructed=!1,e.value=t.getBytes()}return e}function f(e,n){var i={},o=[];if(!t.validate(e,F.pkcs7.asn1.encryptedDataValidator,i,o))throw(a=new Error("Cannot read EncryptedContentInfo.")).errors=o,a;var a,s=t.derToOid(i.contentType);if(s!==r.oids.data)throw(a=new Error("PKCS#12 EncryptedContentInfo ContentType is not Data.")).oid=s,a;s=t.derToOid(i.encAlgorithm);var c=r.pbe.getCipher(s,i.encParameter,n),u=l(i.encryptedContentAsn1),f=F.util.createBuffer(u.value);if(c.update(f),!c.finish())throw new Error("Failed to decrypt PKCS#12 SafeContents.");return c.output.getBytes()}function d(e,n,i){if(!n&&0===e.length)return[];if((e=t.fromDer(e,n)).tagClass!==t.Class.UNIVERSAL||e.type!==t.Type.SEQUENCE||!0!==e.constructed)throw new Error("PKCS#12 SafeContents expected to be a SEQUENCE OF SafeBag.");for(var o=[],s=0;s<e.value.length;s++){var u=e.value[s],l={},f=[];if(!t.validate(u,a,l,f))throw(v=new Error("Cannot read SafeBag.")).errors=f,v;var d,h,g={type:t.derToOid(l.bagId),attributes:p(l.bagAttributes)};o.push(g);var m=l.bagValue.value[0];switch(g.type){case r.oids.pkcs8ShroudedKeyBag:if(null===(m=r.decryptPrivateKeyInfo(m,i)))throw new Error("Unable to decrypt PKCS#8 ShroudedKeyBag, wrong password?");case r.oids.keyBag:try{g.key=r.privateKeyFromAsn1(m)}catch(e){g.key=null,g.asn1=m}continue;case r.oids.certBag:d=c,h=function(){if(t.derToOid(l.certId)!==r.oids.x509Certificate){var e=new Error("Unsupported certificate type, only X.509 supported.");throw e.oid=t.derToOid(l.certId),e}var i=t.fromDer(l.cert,n);try{g.cert=r.certificateFromAsn1(i,!0)}catch(e){g.cert=null,g.asn1=i}};break;default:var v;throw(v=new Error("Unsupported PKCS#12 SafeBag type.")).oid=g.type,v}if(void 0!==d&&!t.validate(m,d,l,f))throw(v=new Error("Cannot read PKCS#12 "+d.name)).errors=f,v;h()}return o}function p(e){var n={};if(void 0!==e)for(var i=0;i<e.length;++i){var o={},a=[];if(!t.validate(e[i],s,o,a)){var c=new Error("Cannot read PKCS#12 BagAttribute.");throw c.errors=a,c}var u=t.derToOid(o.oid);if(void 0!==r.oids[u]){n[r.oids[u]]=[];for(var l=0;l<o.values.length;++l)n[r.oids[u]].push(o.values[l].value)}}return n}n.pkcs12FromAsn1=function(e,a,s){"string"==typeof a?(s=a,a=!0):void 0===a&&(a=!0);var c={};if(!t.validate(e,o,c,[]))throw(p=new Error("Cannot read PKCS#12 PFX. ASN.1 object is not an PKCS#12 PFX.")).errors=p,p;var p,h={version:c.version.charCodeAt(0),safeContents:[],getBags:function(e){var t,r={};return"localKeyId"in e?t=e.localKeyId:"localKeyIdHex"in e&&(t=F.util.hexToBytes(e.localKeyIdHex)),void 0===t&&!("friendlyName"in e)&&"bagType"in e&&(r[e.bagType]=u(h.safeContents,null,null,e.bagType)),void 0!==t&&(r.localKeyId=u(h.safeContents,"localKeyId",t,e.bagType)),"friendlyName"in e&&(r.friendlyName=u(h.safeContents,"friendlyName",e.friendlyName,e.bagType)),r},getBagsByFriendlyName:function(e,t){return u(h.safeContents,"friendlyName",e,t)},getBagsByLocalKeyId:function(e,t){return u(h.safeContents,"localKeyId",e,t)}};if(3!==c.version.charCodeAt(0))throw(p=new Error("PKCS#12 PFX of version other than 3 not supported.")).version=c.version.charCodeAt(0),p;if(t.derToOid(c.contentType)!==r.oids.data)throw(p=new Error("Only PKCS#12 PFX in password integrity mode supported.")).oid=t.derToOid(c.contentType),p;var g=c.content.value[0];if(g.tagClass!==t.Class.UNIVERSAL||g.type!==t.Type.OCTETSTRING)throw new Error("PKCS#12 authSafe content data is not an OCTET STRING.");if(g=l(g),c.mac){var m=null,v=0,y=t.derToOid(c.macAlgorithm);switch(y){case r.oids.sha1:m=F.md.sha1.create(),v=20;break;case r.oids.sha256:m=F.md.sha256.create(),v=32;break;case r.oids.sha384:m=F.md.sha384.create(),v=48;break;case r.oids.sha512:m=F.md.sha512.create(),v=64;break;case r.oids.md5:m=F.md.md5.create(),v=16}if(null===m)throw new Error("PKCS#12 uses unsupported MAC algorithm: "+y);var b=new F.util.ByteBuffer(c.macSalt),w="macIterations"in c?parseInt(F.util.bytesToHex(c.macIterations),16):1,C=n.generateKey(s,b,3,w,v,m),E=F.hmac.create();if(E.start(m,C),E.update(g.value),E.getMac().getBytes()!==c.macDigest)throw new Error("PKCS#12 MAC could not be verified. Invalid password?")}return function(e,n,o,a){if((n=t.fromDer(n,o)).tagClass!==t.Class.UNIVERSAL||n.type!==t.Type.SEQUENCE||!0!==n.constructed)throw new Error("PKCS#12 AuthenticatedSafe expected to be a SEQUENCE OF ContentInfo");for(var s=0;s<n.value.length;s++){var c=n.value[s],u={},p=[];if(!t.validate(c,i,u,p))throw(v=new Error("Cannot read ContentInfo.")).errors=p,v;var h={encrypted:!1},g=null,m=u.content.value[0];switch(t.derToOid(u.contentType)){case r.oids.data:if(m.tagClass!==t.Class.UNIVERSAL||m.type!==t.Type.OCTETSTRING)throw new Error("PKCS#12 SafeContents Data is not an OCTET STRING.");g=l(m).value;break;case r.oids.encryptedData:g=f(m,a),h.encrypted=!0;break;default:var v;throw(v=new Error("Unsupported PKCS#12 contentType.")).contentType=t.derToOid(u.contentType),v}h.safeBags=d(g,o,a),e.safeContents.push(h)}}(h,g.value,a,s),h},n.toPkcs12Asn1=function(e,i,o,a){(a=a||{}).saltSize=a.saltSize||8,a.count=a.count||2048,a.algorithm=a.algorithm||a.encAlgorithm||"aes128","useMac"in a||(a.useMac=!0),"localKeyId"in a||(a.localKeyId=null),"generateLocalKeyId"in a||(a.generateLocalKeyId=!0);var s,c=a.localKeyId;if(null!==c)c=F.util.hexToBytes(c);else if(a.generateLocalKeyId)if(i){var u=F.util.isArray(i)?i[0]:i;"string"==typeof u&&(u=r.certificateFromPem(u)),(A=F.md.sha1.create()).update(t.toDer(r.certificateToAsn1(u)).getBytes()),c=A.digest().getBytes()}else c=F.random.getBytes(20);var l=[];null!==c&&l.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.localKeyId).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,c)])])),"friendlyName"in a&&l.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.friendlyName).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[t.create(t.Class.UNIVERSAL,t.Type.BMPSTRING,!1,a.friendlyName)])])),l.length>0&&(s=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,l));var f=[],d=[];null!==i&&(d=F.util.isArray(i)?i:[i]);for(var p=[],h=0;h<d.length;++h){"string"==typeof(i=d[h])&&(i=r.certificateFromPem(i));var g=0===h?s:void 0,m=r.certificateToAsn1(i),v=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.certBag).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.x509Certificate).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,t.toDer(m).getBytes())])])]),g]);p.push(v)}if(p.length>0){var y=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,p),b=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.data).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,t.toDer(y).getBytes())])]);f.push(b)}var w=null;if(null!==e){var C=r.wrapRsaPrivateKey(r.privateKeyToAsn1(e));w=null===o?t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.keyBag).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[C]),s]):t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.pkcs8ShroudedKeyBag).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[r.encryptPrivateKeyInfo(C,o,a)]),s]);var E=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[w]),k=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.data).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,t.toDer(E).getBytes())])]);f.push(k)}var S,_=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,f);if(a.useMac){var A=F.md.sha1.create(),T=new F.util.ByteBuffer(F.random.getBytes(a.saltSize)),x=a.count,I=(e=n.generateKey(o,T,3,x,20),F.hmac.create());I.start(A,e),I.update(t.toDer(_).getBytes());var B=I.getMac();S=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.sha1).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,B.getBytes())]),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,T.getBytes()),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(x).getBytes())])}return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(3).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.oids.data).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,t.toDer(_).getBytes())])]),S])},n.generateKey=F.pbe.generatePkcs12Key})),w((function(e){var t=F.asn1,r=e.exports=F.pki=F.pki||{};r.pemToDer=function(e){var t=F.pem.decode(e)[0];if(t.procType&&"ENCRYPTED"===t.procType.type)throw new Error("Could not convert PEM to DER; PEM is encrypted.");return F.util.createBuffer(t.body)},r.privateKeyFromPem=function(e){var n=F.pem.decode(e)[0];if("PRIVATE KEY"!==n.type&&"RSA PRIVATE KEY"!==n.type){var i=new Error('Could not convert private key from PEM; PEM header type is not "PRIVATE KEY" or "RSA PRIVATE KEY".');throw i.headerType=n.type,i}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert private key from PEM; PEM is encrypted.");var o=t.fromDer(n.body);return r.privateKeyFromAsn1(o)},r.privateKeyToPem=function(e,n){var i={type:"RSA PRIVATE KEY",body:t.toDer(r.privateKeyToAsn1(e)).getBytes()};return F.pem.encode(i,{maxline:n})},r.privateKeyInfoToPem=function(e,r){var n={type:"PRIVATE KEY",body:t.toDer(e).getBytes()};return F.pem.encode(n,{maxline:r})}}));var Ct=function(e,t,r,n){var i=F.util.createBuffer(),o=e.length>>1,a=o+(1&e.length),s=e.substr(0,a),c=e.substr(o,a),u=F.util.createBuffer(),l=F.hmac.create();r=t+r;var f=Math.ceil(n/16),d=Math.ceil(n/20);l.start("MD5",s);var p=F.util.createBuffer();u.putBytes(r);for(var h=0;h<f;++h)l.start(null,null),l.update(u.getBytes()),u.putBuffer(l.digest()),l.start(null,null),l.update(u.bytes()+r),p.putBuffer(l.digest());l.start("SHA1",c);var g=F.util.createBuffer();for(u.clear(),u.putBytes(r),h=0;h<d;++h)l.start(null,null),l.update(u.getBytes()),u.putBuffer(l.digest()),l.start(null,null),l.update(u.bytes()+r),g.putBuffer(l.digest());return i.putBytes(F.util.xorBytes(p.getBytes(),g.getBytes(),n)),i},Et=function(e,t,r){var n=!1;try{var i=e.deflate(t.fragment.getBytes());t.fragment=F.util.createBuffer(i),t.length=i.length,n=!0}catch(e){}return n},kt=function(e,t,r){var n=!1;try{var i=e.inflate(t.fragment.getBytes());t.fragment=F.util.createBuffer(i),t.length=i.length,n=!0}catch(e){}return n},St=function(e,t){var r=0;switch(t){case 1:r=e.getByte();break;case 2:r=e.getInt16();break;case 3:r=e.getInt24();break;case 4:r=e.getInt32()}return F.util.createBuffer(e.getBytes(r))},_t=function(e,t,r){e.putInt(r.length(),t<<3),e.putBuffer(r)},At={Versions:{TLS_1_0:{major:3,minor:1},TLS_1_1:{major:3,minor:2},TLS_1_2:{major:3,minor:3}}};At.SupportedVersions=[At.Versions.TLS_1_1,At.Versions.TLS_1_0],At.Version=At.SupportedVersions[0],At.MaxFragment=15360,At.ConnectionEnd={server:0,client:1},At.PRFAlgorithm={tls_prf_sha256:0},At.BulkCipherAlgorithm={none:null,rc4:0,des3:1,aes:2},At.CipherType={stream:0,block:1,aead:2},At.MACAlgorithm={none:null,hmac_md5:0,hmac_sha1:1,hmac_sha256:2,hmac_sha384:3,hmac_sha512:4},At.CompressionMethod={none:0,deflate:1},At.ContentType={change_cipher_spec:20,alert:21,handshake:22,application_data:23,heartbeat:24},At.HandshakeType={hello_request:0,client_hello:1,server_hello:2,certificate:11,server_key_exchange:12,certificate_request:13,server_hello_done:14,certificate_verify:15,client_key_exchange:16,finished:20},At.Alert={},At.Alert.Level={warning:1,fatal:2},At.Alert.Description={close_notify:0,unexpected_message:10,bad_record_mac:20,decryption_failed:21,record_overflow:22,decompression_failure:30,handshake_failure:40,bad_certificate:42,unsupported_certificate:43,certificate_revoked:44,certificate_expired:45,certificate_unknown:46,illegal_parameter:47,unknown_ca:48,access_denied:49,decode_error:50,decrypt_error:51,export_restriction:60,protocol_version:70,insufficient_security:71,internal_error:80,user_canceled:90,no_renegotiation:100},At.HeartbeatMessageType={heartbeat_request:1,heartbeat_response:2},At.CipherSuites={},At.getCipherSuite=function(e){var t=null;for(var r in At.CipherSuites){var n=At.CipherSuites[r];if(n.id[0]===e.charCodeAt(0)&&n.id[1]===e.charCodeAt(1)){t=n;break}}return t},At.handleUnexpected=function(e,t){!e.open&&e.entity===At.ConnectionEnd.client||e.error(e,{message:"Unexpected message. Received TLS record out of order.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.unexpected_message}})},At.handleHelloRequest=function(e,t,r){!e.handshaking&&e.handshakes>0&&(At.queue(e,At.createAlert(e,{level:At.Alert.Level.warning,description:At.Alert.Description.no_renegotiation})),At.flush(e)),e.process()},At.parseHelloMessage=function(e,t,r){var n=null,i=e.entity===At.ConnectionEnd.client;if(r<38)e.error(e,{message:i?"Invalid ServerHello message. Message too short.":"Invalid ClientHello message. Message too short.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.illegal_parameter}});else{var o=t.fragment,a=o.length();if(n={version:{major:o.getByte(),minor:o.getByte()},random:F.util.createBuffer(o.getBytes(32)),session_id:St(o,1),extensions:[]},i?(n.cipher_suite=o.getBytes(2),n.compression_method=o.getByte()):(n.cipher_suites=St(o,2),n.compression_methods=St(o,1)),(a=r-(a-o.length()))>0){for(var s=St(o,2);s.length()>0;)n.extensions.push({type:[s.getByte(),s.getByte()],data:St(s,2)});if(!i)for(var c=0;c<n.extensions.length;++c){var u=n.extensions[c];if(0===u.type[0]&&0===u.type[1])for(var l=St(u.data,2);l.length()>0&&0===l.getByte();)e.session.extensions.server_name.serverNameList.push(St(l,2).getBytes())}}if(e.session.version&&(n.version.major!==e.session.version.major||n.version.minor!==e.session.version.minor))return e.error(e,{message:"TLS version change is disallowed during renegotiation.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.protocol_version}});if(i)e.session.cipherSuite=At.getCipherSuite(n.cipher_suite);else for(var f=F.util.createBuffer(n.cipher_suites.bytes());f.length()>0&&(e.session.cipherSuite=At.getCipherSuite(f.getBytes(2)),null===e.session.cipherSuite););if(null===e.session.cipherSuite)return e.error(e,{message:"No cipher suites in common.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.handshake_failure},cipherSuite:F.util.bytesToHex(n.cipher_suite)});e.session.compressionMethod=i?n.compression_method:At.CompressionMethod.none}return n},At.createSecurityParameters=function(e,t){var r=e.entity===At.ConnectionEnd.client,n=t.random.bytes(),i=r?e.session.sp.client_random:n,o=r?n:At.createRandom().getBytes();e.session.sp={entity:e.entity,prf_algorithm:At.PRFAlgorithm.tls_prf_sha256,bulk_cipher_algorithm:null,cipher_type:null,enc_key_length:null,block_length:null,fixed_iv_length:null,record_iv_length:null,mac_algorithm:null,mac_length:null,mac_key_length:null,compression_algorithm:e.session.compressionMethod,pre_master_secret:null,master_secret:null,client_random:i,server_random:o}},At.handleServerHello=function(e,t,r){var n=At.parseHelloMessage(e,t,r);if(!e.fail){if(!(n.version.minor<=e.version.minor))return e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.protocol_version}});e.version.minor=n.version.minor,e.session.version=e.version;var i=n.session_id.bytes();i.length>0&&i===e.session.id?(e.expect=Rt,e.session.resuming=!0,e.session.sp.server_random=n.random.bytes()):(e.expect=Tt,e.session.resuming=!1,At.createSecurityParameters(e,n)),e.session.id=i,e.process()}},At.handleClientHello=function(e,t,r){var n=At.parseHelloMessage(e,t,r);if(!e.fail){var i=n.session_id.bytes(),o=null;if(e.sessionCache&&(null===(o=e.sessionCache.getSession(i))?i="":(o.version.major!==n.version.major||o.version.minor>n.version.minor)&&(o=null,i="")),0===i.length&&(i=F.random.getBytes(32)),e.session.id=i,e.session.clientHelloVersion=n.version,e.session.sp={},o)e.version=e.session.version=o.version,e.session.sp=o.sp;else{for(var a,s=1;s<At.SupportedVersions.length&&!((a=At.SupportedVersions[s]).minor<=n.version.minor);++s);e.version={major:a.major,minor:a.minor},e.session.version=e.version}null!==o?(e.expect=Ut,e.session.resuming=!0,e.session.sp.client_random=n.random.bytes()):(e.expect=!1!==e.verifyClient?Dt:Lt,e.session.resuming=!1,At.createSecurityParameters(e,n)),e.open=!0,At.queue(e,At.createRecord(e,{type:At.ContentType.handshake,data:At.createServerHello(e)})),e.session.resuming?(At.queue(e,At.createRecord(e,{type:At.ContentType.change_cipher_spec,data:At.createChangeCipherSpec()})),e.state.pending=At.createConnectionState(e),e.state.current.write=e.state.pending.write,At.queue(e,At.createRecord(e,{type:At.ContentType.handshake,data:At.createFinished(e)}))):(At.queue(e,At.createRecord(e,{type:At.ContentType.handshake,data:At.createCertificate(e)})),e.fail||(At.queue(e,At.createRecord(e,{type:At.ContentType.handshake,data:At.createServerKeyExchange(e)})),!1!==e.verifyClient&&At.queue(e,At.createRecord(e,{type:At.ContentType.handshake,data:At.createCertificateRequest(e)})),At.queue(e,At.createRecord(e,{type:At.ContentType.handshake,data:At.createServerHelloDone(e)})))),At.flush(e),e.process()}},At.handleCertificate=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid Certificate message. Message too short.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.illegal_parameter}});var n,i,o=t.fragment,a={certificate_list:St(o,3)},s=[];try{for(;a.certificate_list.length()>0;)n=St(a.certificate_list,3),i=F.asn1.fromDer(n),n=F.pki.certificateFromAsn1(i,!0),s.push(n)}catch(t){return e.error(e,{message:"Could not parse certificate list.",cause:t,send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.bad_certificate}})}var c=e.entity===At.ConnectionEnd.client;!c&&!0!==e.verifyClient||0!==s.length?0===s.length?e.expect=c?xt:Lt:(c?e.session.serverCertificate=s[0]:e.session.clientCertificate=s[0],At.verifyCertificateChain(e,s)&&(e.expect=c?xt:Lt)):e.error(e,{message:c?"No server certificate provided.":"No client certificate provided.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.illegal_parameter}}),e.process()},At.handleServerKeyExchange=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.unsupported_certificate}});e.expect=It,e.process()},At.handleClientKeyExchange=function(e,t,r){if(r<48)return e.error(e,{message:"Invalid key parameters. Only RSA is supported.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.unsupported_certificate}});var n=t.fragment,i={enc_pre_master_secret:St(n,2).getBytes()},o=null;if(e.getPrivateKey)try{o=e.getPrivateKey(e,e.session.serverCertificate),o=F.pki.privateKeyFromPem(o)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.internal_error}})}if(null===o)return e.error(e,{message:"No private key set.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.internal_error}});try{var a=e.session.sp;a.pre_master_secret=o.decrypt(i.enc_pre_master_secret);var s=e.session.clientHelloVersion;if(s.major!==a.pre_master_secret.charCodeAt(0)||s.minor!==a.pre_master_secret.charCodeAt(1))throw new Error("TLS version rollback attack detected.")}catch(e){a.pre_master_secret=F.random.getBytes(48)}e.expect=Ut,null!==e.session.clientCertificate&&(e.expect=Mt),e.process()},At.handleCertificateRequest=function(e,t,r){if(r<3)return e.error(e,{message:"Invalid CertificateRequest. Message too short.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.illegal_parameter}});var n=t.fragment,i={certificate_types:St(n,1),certificate_authorities:St(n,2)};e.session.certificateRequest=i,e.expect=Bt,e.process()},At.handleCertificateVerify=function(e,t,r){if(r<2)return e.error(e,{message:"Invalid CertificateVerify. Message too short.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.illegal_parameter}});var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var o={signature:St(n,2).getBytes()},a=F.util.createBuffer();a.putBuffer(e.session.md5.digest()),a.putBuffer(e.session.sha1.digest()),a=a.getBytes();try{if(!e.session.clientCertificate.publicKey.verify(a,o.signature,"NONE"))throw new Error("CertificateVerify signature does not match.");e.session.md5.update(i),e.session.sha1.update(i)}catch(t){return e.error(e,{message:"Bad signature in CertificateVerify.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.handshake_failure}})}e.expect=Ut,e.process()},At.handleServerHelloDone=function(e,t,r){if(r>0)return e.error(e,{message:"Invalid ServerHelloDone message. Invalid length.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.record_overflow}});if(null===e.serverCertificate){var n={message:"No server certificate provided. Not enough security.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.insufficient_security}},i=e.verify(e,n.alert.description,0,[]);if(!0!==i)return(i||0===i)&&("object"!=ky(i)||F.util.isArray(i)?"number"==typeof i&&(n.alert.description=i):(i.message&&(n.message=i.message),i.alert&&(n.alert.description=i.alert))),e.error(e,n)}null!==e.session.certificateRequest&&(t=At.createRecord(e,{type:At.ContentType.handshake,data:At.createCertificate(e)}),At.queue(e,t)),t=At.createRecord(e,{type:At.ContentType.handshake,data:At.createClientKeyExchange(e)}),At.queue(e,t),e.expect=Ot;var o=function(e,t){null!==e.session.certificateRequest&&null!==e.session.clientCertificate&&At.queue(e,At.createRecord(e,{type:At.ContentType.handshake,data:At.createCertificateVerify(e,t)})),At.queue(e,At.createRecord(e,{type:At.ContentType.change_cipher_spec,data:At.createChangeCipherSpec()})),e.state.pending=At.createConnectionState(e),e.state.current.write=e.state.pending.write,At.queue(e,At.createRecord(e,{type:At.ContentType.handshake,data:At.createFinished(e)})),e.expect=Rt,At.flush(e),e.process()};if(null===e.session.certificateRequest||null===e.session.clientCertificate)return o(e,null);At.getClientSignature(e,o)},At.handleChangeCipherSpec=function(e,t){if(1!==t.fragment.getByte())return e.error(e,{message:"Invalid ChangeCipherSpec message received.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.illegal_parameter}});var r=e.entity===At.ConnectionEnd.client;(e.session.resuming&&r||!e.session.resuming&&!r)&&(e.state.pending=At.createConnectionState(e)),e.state.current.read=e.state.pending.read,(!e.session.resuming&&r||e.session.resuming&&!r)&&(e.state.pending=null),e.expect=r?Pt:jt,e.process()},At.handleFinished=function(e,t,r){var n=t.fragment;n.read-=4;var i=n.bytes();n.read+=4;var o=t.fragment.getBytes();(n=F.util.createBuffer()).putBuffer(e.session.md5.digest()),n.putBuffer(e.session.sha1.digest());var a=e.entity===At.ConnectionEnd.client,s=a?"server finished":"client finished",c=e.session.sp;if((n=Ct(c.master_secret,s,n.getBytes(),12)).getBytes()!==o)return e.error(e,{message:"Invalid verify_data in Finished message.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.decrypt_error}});e.session.md5.update(i),e.session.sha1.update(i),(e.session.resuming&&a||!e.session.resuming&&!a)&&(At.queue(e,At.createRecord(e,{type:At.ContentType.change_cipher_spec,data:At.createChangeCipherSpec()})),e.state.current.write=e.state.pending.write,e.state.pending=null,At.queue(e,At.createRecord(e,{type:At.ContentType.handshake,data:At.createFinished(e)}))),e.expect=a?Nt:Ft,e.handshaking=!1,++e.handshakes,e.peerCertificate=a?e.session.serverCertificate:e.session.clientCertificate,At.flush(e),e.isConnected=!0,e.connected(e),e.process()},At.handleAlert=function(e,t){var r,n=t.fragment,i={level:n.getByte(),description:n.getByte()};switch(i.description){case At.Alert.Description.close_notify:r="Connection closed.";break;case At.Alert.Description.unexpected_message:r="Unexpected message.";break;case At.Alert.Description.bad_record_mac:r="Bad record MAC.";break;case At.Alert.Description.decryption_failed:r="Decryption failed.";break;case At.Alert.Description.record_overflow:r="Record overflow.";break;case At.Alert.Description.decompression_failure:r="Decompression failed.";break;case At.Alert.Description.handshake_failure:r="Handshake failure.";break;case At.Alert.Description.bad_certificate:r="Bad certificate.";break;case At.Alert.Description.unsupported_certificate:r="Unsupported certificate.";break;case At.Alert.Description.certificate_revoked:r="Certificate revoked.";break;case At.Alert.Description.certificate_expired:r="Certificate expired.";break;case At.Alert.Description.certificate_unknown:r="Certificate unknown.";break;case At.Alert.Description.illegal_parameter:r="Illegal parameter.";break;case At.Alert.Description.unknown_ca:r="Unknown certificate authority.";break;case At.Alert.Description.access_denied:r="Access denied.";break;case At.Alert.Description.decode_error:r="Decode error.";break;case At.Alert.Description.decrypt_error:r="Decrypt error.";break;case At.Alert.Description.export_restriction:r="Export restriction.";break;case At.Alert.Description.protocol_version:r="Unsupported protocol version.";break;case At.Alert.Description.insufficient_security:r="Insufficient security.";break;case At.Alert.Description.internal_error:r="Internal error.";break;case At.Alert.Description.user_canceled:r="User canceled.";break;case At.Alert.Description.no_renegotiation:r="Renegotiation not supported.";break;default:r="Unknown error."}if(i.description===At.Alert.Description.close_notify)return e.close();e.error(e,{message:r,send:!1,origin:e.entity===At.ConnectionEnd.client?"server":"client",alert:i}),e.process()},At.handleHandshake=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt24();if(i>r.length())return e.fragmented=t,t.fragment=F.util.createBuffer(),r.read-=4,e.process();e.fragmented=null,r.read-=4;var o=r.bytes(i+4);r.read+=4,n in tr[e.entity][e.expect]?(e.entity!==At.ConnectionEnd.server||e.open||e.fail||(e.handshaking=!0,e.session={version:null,extensions:{server_name:{serverNameList:[]}},cipherSuite:null,compressionMethod:null,serverCertificate:null,clientCertificate:null,md5:F.md.md5.create(),sha1:F.md.sha1.create()}),n!==At.HandshakeType.hello_request&&n!==At.HandshakeType.certificate_verify&&n!==At.HandshakeType.finished&&(e.session.md5.update(o),e.session.sha1.update(o)),tr[e.entity][e.expect][n](e,t,i)):At.handleUnexpected(e,t)},At.handleApplicationData=function(e,t){e.data.putBuffer(t.fragment),e.dataReady(e),e.process()},At.handleHeartbeat=function(e,t){var r=t.fragment,n=r.getByte(),i=r.getInt16(),o=r.getBytes(i);if(n===At.HeartbeatMessageType.heartbeat_request){if(e.handshaking||i>o.length)return e.process();At.queue(e,At.createRecord(e,{type:At.ContentType.heartbeat,data:At.createHeartbeat(At.HeartbeatMessageType.heartbeat_response,o)})),At.flush(e)}else if(n===At.HeartbeatMessageType.heartbeat_response){if(o!==e.expectedHeartbeatPayload)return e.process();e.heartbeatReceived&&e.heartbeatReceived(e,F.util.createBuffer(o))}e.process()};var Tt=1,xt=2,It=3,Bt=4,Rt=5,Pt=6,Nt=7,Ot=8,Dt=1,Lt=2,Mt=3,Ut=4,jt=5,Ft=6,Vt=At.handleUnexpected,zt=At.handleChangeCipherSpec,Kt=At.handleAlert,qt=At.handleHandshake,Ht=At.handleApplicationData,Qt=At.handleHeartbeat,Wt=[];Wt[At.ConnectionEnd.client]=[[Vt,Kt,qt,Vt,Qt],[Vt,Kt,qt,Vt,Qt],[Vt,Kt,qt,Vt,Qt],[Vt,Kt,qt,Vt,Qt],[Vt,Kt,qt,Vt,Qt],[zt,Kt,Vt,Vt,Qt],[Vt,Kt,qt,Vt,Qt],[Vt,Kt,qt,Ht,Qt],[Vt,Kt,qt,Vt,Qt]],Wt[At.ConnectionEnd.server]=[[Vt,Kt,qt,Vt,Qt],[Vt,Kt,qt,Vt,Qt],[Vt,Kt,qt,Vt,Qt],[Vt,Kt,qt,Vt,Qt],[zt,Kt,Vt,Vt,Qt],[Vt,Kt,qt,Vt,Qt],[Vt,Kt,qt,Ht,Qt],[Vt,Kt,qt,Vt,Qt]];var Gt=At.handleHelloRequest,Yt=At.handleServerHello,Xt=At.handleCertificate,$t=At.handleServerKeyExchange,Zt=At.handleCertificateRequest,Jt=At.handleServerHelloDone,er=At.handleFinished,tr=[];tr[At.ConnectionEnd.client]=[[Vt,Vt,Yt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt],[Gt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Xt,$t,Zt,Jt,Vt,Vt,Vt,Vt,Vt,Vt],[Gt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,$t,Zt,Jt,Vt,Vt,Vt,Vt,Vt,Vt],[Gt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Zt,Jt,Vt,Vt,Vt,Vt,Vt,Vt],[Gt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Jt,Vt,Vt,Vt,Vt,Vt,Vt],[Gt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt],[Gt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,er],[Gt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt],[Gt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt]];var rr=At.handleClientHello,nr=At.handleClientKeyExchange,ir=At.handleCertificateVerify;tr[At.ConnectionEnd.server]=[[Vt,rr,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt],[Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Xt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt],[Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,nr,Vt,Vt,Vt,Vt],[Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,ir,Vt,Vt,Vt,Vt,Vt],[Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt],[Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,er],[Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt],[Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt,Vt]],At.generateKeys=function(e,t){var r=Ct,n=t.client_random+t.server_random;e.session.resuming||(t.master_secret=r(t.pre_master_secret,"master secret",n,48).bytes(),t.pre_master_secret=null),n=t.server_random+t.client_random;var i=2*t.mac_key_length+2*t.enc_key_length,o=e.version.major===At.Versions.TLS_1_0.major&&e.version.minor===At.Versions.TLS_1_0.minor;o&&(i+=2*t.fixed_iv_length);var a=r(t.master_secret,"key expansion",n,i),s={client_write_MAC_key:a.getBytes(t.mac_key_length),server_write_MAC_key:a.getBytes(t.mac_key_length),client_write_key:a.getBytes(t.enc_key_length),server_write_key:a.getBytes(t.enc_key_length)};return o&&(s.client_write_IV=a.getBytes(t.fixed_iv_length),s.server_write_IV=a.getBytes(t.fixed_iv_length)),s},At.createConnectionState=function(e){var t=e.entity===At.ConnectionEnd.client,r=function(){var e={sequenceNumber:[0,0],macKey:null,macLength:0,macFunction:null,cipherState:null,cipherFunction:function(e){return!0},compressionState:null,compressFunction:function(e){return!0},updateSequenceNumber:function(){4294967295===e.sequenceNumber[1]?(e.sequenceNumber[1]=0,++e.sequenceNumber[0]):++e.sequenceNumber[1]}};return e},n={read:r(),write:r()};if(n.read.update=function(e,t){return n.read.cipherFunction(t,n.read)?n.read.compressFunction(e,t,n.read)||e.error(e,{message:"Could not decompress record.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.decompression_failure}}):e.error(e,{message:"Could not decrypt record or bad MAC.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.bad_record_mac}}),!e.fail},n.write.update=function(e,t){return n.write.compressFunction(e,t,n.write)?n.write.cipherFunction(t,n.write)||e.error(e,{message:"Could not encrypt record.",send:!1,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.internal_error}}):e.error(e,{message:"Could not compress record.",send:!1,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.internal_error}}),!e.fail},e.session){var i=e.session.sp;switch(e.session.cipherSuite.initSecurityParameters(i),i.keys=At.generateKeys(e,i),n.read.macKey=t?i.keys.server_write_MAC_key:i.keys.client_write_MAC_key,n.write.macKey=t?i.keys.client_write_MAC_key:i.keys.server_write_MAC_key,e.session.cipherSuite.initConnectionState(n,e,i),i.compression_algorithm){case At.CompressionMethod.none:break;case At.CompressionMethod.deflate:n.read.compressFunction=kt,n.write.compressFunction=Et;break;default:throw new Error("Unsupported compression algorithm.")}}return n},At.createRandom=function(){var e=new Date,t=+e+6e4*e.getTimezoneOffset(),r=F.util.createBuffer();return r.putInt32(t),r.putBytes(F.random.getBytes(28)),r},At.createRecord=function(e,t){return t.data?{type:t.type,version:{major:e.version.major,minor:e.version.minor},length:t.data.length(),fragment:t.data}:null},At.createAlert=function(e,t){var r=F.util.createBuffer();return r.putByte(t.level),r.putByte(t.description),At.createRecord(e,{type:At.ContentType.alert,data:r})},At.createClientHello=function(e){e.session.clientHelloVersion={major:e.version.major,minor:e.version.minor};for(var t=F.util.createBuffer(),r=0;r<e.cipherSuites.length;++r){var n=e.cipherSuites[r];t.putByte(n.id[0]),t.putByte(n.id[1])}var i=t.length(),o=F.util.createBuffer();o.putByte(At.CompressionMethod.none);var a=o.length(),s=F.util.createBuffer();if(e.virtualHost){var c=F.util.createBuffer();c.putByte(0),c.putByte(0);var u=F.util.createBuffer();u.putByte(0),_t(u,2,F.util.createBuffer(e.virtualHost));var l=F.util.createBuffer();_t(l,2,u),_t(c,2,l),s.putBuffer(c)}var f=s.length();f>0&&(f+=2);var d=e.session.id,p=d.length+1+2+4+28+2+i+1+a+f,h=F.util.createBuffer();return h.putByte(At.HandshakeType.client_hello),h.putInt24(p),h.putByte(e.version.major),h.putByte(e.version.minor),h.putBytes(e.session.sp.client_random),_t(h,1,F.util.createBuffer(d)),_t(h,2,t),_t(h,1,o),f>0&&_t(h,2,s),h},At.createServerHello=function(e){var t=e.session.id,r=t.length+1+2+4+28+2+1,n=F.util.createBuffer();return n.putByte(At.HandshakeType.server_hello),n.putInt24(r),n.putByte(e.version.major),n.putByte(e.version.minor),n.putBytes(e.session.sp.server_random),_t(n,1,F.util.createBuffer(t)),n.putByte(e.session.cipherSuite.id[0]),n.putByte(e.session.cipherSuite.id[1]),n.putByte(e.session.compressionMethod),n},At.createCertificate=function(e){var t,r=e.entity===At.ConnectionEnd.client,n=null;e.getCertificate&&(t=r?e.session.certificateRequest:e.session.extensions.server_name.serverNameList,n=e.getCertificate(e,t));var i=F.util.createBuffer();if(null!==n)try{F.util.isArray(n)||(n=[n]);for(var o=null,a=0;a<n.length;++a){var s=F.pem.decode(n[a])[0];if("CERTIFICATE"!==s.type&&"X509 CERTIFICATE"!==s.type&&"TRUSTED CERTIFICATE"!==s.type){var c=new Error('Could not convert certificate from PEM; PEM header type is not "CERTIFICATE", "X509 CERTIFICATE", or "TRUSTED CERTIFICATE".');throw c.headerType=s.type,c}if(s.procType&&"ENCRYPTED"===s.procType.type)throw new Error("Could not convert certificate from PEM; PEM is encrypted.");var u=F.util.createBuffer(s.body);null===o&&(o=F.asn1.fromDer(u.bytes(),!1));var l=F.util.createBuffer();_t(l,3,u),i.putBuffer(l)}n=F.pki.certificateFromAsn1(o),r?e.session.clientCertificate=n:e.session.serverCertificate=n}catch(t){return e.error(e,{message:"Could not send certificate list.",cause:t,send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.bad_certificate}})}var f=3+i.length(),d=F.util.createBuffer();return d.putByte(At.HandshakeType.certificate),d.putInt24(f),_t(d,3,i),d},At.createClientKeyExchange=function(e){var t=F.util.createBuffer();t.putByte(e.session.clientHelloVersion.major),t.putByte(e.session.clientHelloVersion.minor),t.putBytes(F.random.getBytes(46));var r=e.session.sp;r.pre_master_secret=t.getBytes();var n=(t=e.session.serverCertificate.publicKey.encrypt(r.pre_master_secret)).length+2,i=F.util.createBuffer();return i.putByte(At.HandshakeType.client_key_exchange),i.putInt24(n),i.putInt16(t.length),i.putBytes(t),i},At.createServerKeyExchange=function(e){return F.util.createBuffer()},At.getClientSignature=function(e,t){var r=F.util.createBuffer();r.putBuffer(e.session.md5.digest()),r.putBuffer(e.session.sha1.digest()),r=r.getBytes(),e.getSignature=e.getSignature||function(e,t,r){var n=null;if(e.getPrivateKey)try{n=e.getPrivateKey(e,e.session.clientCertificate),n=F.pki.privateKeyFromPem(n)}catch(t){e.error(e,{message:"Could not get private key.",cause:t,send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.internal_error}})}null===n?e.error(e,{message:"No private key set.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.internal_error}}):t=n.sign(t,null),r(e,t)},e.getSignature(e,r,t)},At.createCertificateVerify=function(e,t){var r=t.length+2,n=F.util.createBuffer();return n.putByte(At.HandshakeType.certificate_verify),n.putInt24(r),n.putInt16(t.length),n.putBytes(t),n},At.createCertificateRequest=function(e){var t=F.util.createBuffer();t.putByte(1);var r=F.util.createBuffer();for(var n in e.caStore.certs){var i=e.caStore.certs[n],o=F.pki.distinguishedNameToAsn1(i.subject),a=F.asn1.toDer(o);r.putInt16(a.length()),r.putBuffer(a)}var s=1+t.length()+2+r.length(),c=F.util.createBuffer();return c.putByte(At.HandshakeType.certificate_request),c.putInt24(s),_t(c,1,t),_t(c,2,r),c},At.createServerHelloDone=function(e){var t=F.util.createBuffer();return t.putByte(At.HandshakeType.server_hello_done),t.putInt24(0),t},At.createChangeCipherSpec=function(){var e=F.util.createBuffer();return e.putByte(1),e},At.createFinished=function(e){var t=F.util.createBuffer();t.putBuffer(e.session.md5.digest()),t.putBuffer(e.session.sha1.digest());var r=e.entity===At.ConnectionEnd.client,n=e.session.sp,i=r?"client finished":"server finished";t=Ct(n.master_secret,i,t.getBytes(),12);var o=F.util.createBuffer();return o.putByte(At.HandshakeType.finished),o.putInt24(t.length()),o.putBuffer(t),o},At.createHeartbeat=function(e,t,r){void 0===r&&(r=t.length);var n=F.util.createBuffer();n.putByte(e),n.putInt16(r),n.putBytes(t);var i=n.length(),o=Math.max(16,i-r-3);return n.putBytes(F.random.getBytes(o)),n},At.queue=function(e,t){if(t&&(0!==t.fragment.length()||t.type!==At.ContentType.handshake&&t.type!==At.ContentType.alert&&t.type!==At.ContentType.change_cipher_spec)){if(t.type===At.ContentType.handshake){var r=t.fragment.bytes();e.session.md5.update(r),e.session.sha1.update(r),r=null}var n;if(t.fragment.length()<=At.MaxFragment)n=[t];else{n=[];for(var i=t.fragment.bytes();i.length>At.MaxFragment;)n.push(At.createRecord(e,{type:t.type,data:F.util.createBuffer(i.slice(0,At.MaxFragment))})),i=i.slice(At.MaxFragment);i.length>0&&n.push(At.createRecord(e,{type:t.type,data:F.util.createBuffer(i)}))}for(var o=0;o<n.length&&!e.fail;++o){var a=n[o];e.state.current.write.update(e,a)&&e.records.push(a)}}},At.flush=function(e){for(var t=0;t<e.records.length;++t){var r=e.records[t];e.tlsData.putByte(r.type),e.tlsData.putByte(r.version.major),e.tlsData.putByte(r.version.minor),e.tlsData.putInt16(r.fragment.length()),e.tlsData.putBuffer(e.records[t].fragment)}return e.records=[],e.tlsDataReady(e)};var or=function(e){switch(e){case!0:return!0;case F.pki.certificateError.bad_certificate:return At.Alert.Description.bad_certificate;case F.pki.certificateError.unsupported_certificate:return At.Alert.Description.unsupported_certificate;case F.pki.certificateError.certificate_revoked:return At.Alert.Description.certificate_revoked;case F.pki.certificateError.certificate_expired:return At.Alert.Description.certificate_expired;case F.pki.certificateError.certificate_unknown:return At.Alert.Description.certificate_unknown;case F.pki.certificateError.unknown_ca:return At.Alert.Description.unknown_ca;default:return At.Alert.Description.bad_certificate}};for(var ar in At.verifyCertificateChain=function(e,t){try{var r={};for(var n in e.verifyOptions)r[n]=e.verifyOptions[n];r.verify=function(t,r,n){or(t);var i=e.verify(e,t,r,n);if(!0!==i){if("object"==ky(i)&&!F.util.isArray(i)){var o=new Error("The application rejected the certificate.");throw o.send=!0,o.alert={level:At.Alert.Level.fatal,description:At.Alert.Description.bad_certificate},i.message&&(o.message=i.message),i.alert&&(o.alert.description=i.alert),o}i!==t&&(i=function(e){switch(e){case!0:return!0;case At.Alert.Description.bad_certificate:return F.pki.certificateError.bad_certificate;case At.Alert.Description.unsupported_certificate:return F.pki.certificateError.unsupported_certificate;case At.Alert.Description.certificate_revoked:return F.pki.certificateError.certificate_revoked;case At.Alert.Description.certificate_expired:return F.pki.certificateError.certificate_expired;case At.Alert.Description.certificate_unknown:return F.pki.certificateError.certificate_unknown;case At.Alert.Description.unknown_ca:return F.pki.certificateError.unknown_ca;default:return F.pki.certificateError.bad_certificate}}(i))}return i},F.pki.verifyCertificateChain(e.caStore,t,r)}catch(t){var i=t;("object"!=ky(i)||F.util.isArray(i))&&(i={send:!0,alert:{level:At.Alert.Level.fatal,description:or(t)}}),"send"in i||(i.send=!0),"alert"in i||(i.alert={level:At.Alert.Level.fatal,description:or(i.error)}),e.error(e,i)}return!e.fail},At.createSessionCache=function(e,t){var r=null;if(e&&e.getSession&&e.setSession&&e.order)r=e;else{for(var n in(r={}).cache=e||{},r.capacity=Math.max(t||100,1),r.order=[],e)r.order.length<=t?r.order.push(n):delete e[n];r.getSession=function(e){var t=null,n=null;if(e?n=F.util.bytesToHex(e):r.order.length>0&&(n=r.order[0]),null!==n&&n in r.cache)for(var i in t=r.cache[n],delete r.cache[n],r.order)if(r.order[i]===n){r.order.splice(i,1);break}return t},r.setSession=function(e,t){if(r.order.length===r.capacity){var n=r.order.shift();delete r.cache[n]}n=F.util.bytesToHex(e),r.order.push(n),r.cache[n]=t}}return r},At.createConnection=function(e){var t;t=e.caStore?F.util.isArray(e.caStore)?F.pki.createCaStore(e.caStore):e.caStore:F.pki.createCaStore();var r=e.cipherSuites||null;if(null===r)for(var n in r=[],At.CipherSuites)r.push(At.CipherSuites[n]);var i=e.server?At.ConnectionEnd.server:At.ConnectionEnd.client,o=e.sessionCache?At.createSessionCache(e.sessionCache):null,a={version:{major:At.Version.major,minor:At.Version.minor},entity:i,sessionId:e.sessionId,caStore:t,sessionCache:o,cipherSuites:r,connected:e.connected,virtualHost:e.virtualHost||null,verifyClient:e.verifyClient||!1,verify:e.verify||function(e,t,r,n){return t},verifyOptions:e.verifyOptions||{},getCertificate:e.getCertificate||null,getPrivateKey:e.getPrivateKey||null,getSignature:e.getSignature||null,input:F.util.createBuffer(),tlsData:F.util.createBuffer(),data:F.util.createBuffer(),tlsDataReady:e.tlsDataReady,dataReady:e.dataReady,heartbeatReceived:e.heartbeatReceived,closed:e.closed,error:function(t,r){r.origin=r.origin||(t.entity===At.ConnectionEnd.client?"client":"server"),r.send&&(At.queue(t,At.createAlert(t,r.alert)),At.flush(t));var n=!1!==r.fatal;n&&(t.fail=!0),e.error(t,r),n&&t.close(!1)},deflate:e.deflate||null,inflate:e.inflate||null,reset:function(e){a.version={major:At.Version.major,minor:At.Version.minor},a.record=null,a.session=null,a.peerCertificate=null,a.state={pending:null,current:null},a.expect=(At.ConnectionEnd.client,0),a.fragmented=null,a.records=[],a.open=!1,a.handshakes=0,a.handshaking=!1,a.isConnected=!1,a.fail=!(e||void 0===e),a.input.clear(),a.tlsData.clear(),a.data.clear(),a.state.current=At.createConnectionState(a)}};return a.reset(),a.handshake=function(e){if(a.entity!==At.ConnectionEnd.client)a.error(a,{message:"Cannot initiate handshake as a server.",fatal:!1});else if(a.handshaking)a.error(a,{message:"Handshake already in progress.",fatal:!1});else{a.fail&&!a.open&&0===a.handshakes&&(a.fail=!1),a.handshaking=!0;var t=null;(e=e||"").length>0&&(a.sessionCache&&(t=a.sessionCache.getSession(e)),null===t&&(e="")),0===e.length&&a.sessionCache&&null!==(t=a.sessionCache.getSession())&&(e=t.id),a.session={id:e,version:null,cipherSuite:null,compressionMethod:null,serverCertificate:null,certificateRequest:null,clientCertificate:null,sp:{},md5:F.md.md5.create(),sha1:F.md.sha1.create()},t&&(a.version=t.version,a.session.sp=t.sp),a.session.sp.client_random=At.createRandom().getBytes(),a.open=!0,At.queue(a,At.createRecord(a,{type:At.ContentType.handshake,data:At.createClientHello(a)})),At.flush(a)}},a.process=function(e){var t=0;return e&&a.input.putBytes(e),a.fail||(null!==a.record&&a.record.ready&&a.record.fragment.isEmpty()&&(a.record=null),null===a.record&&(t=function(e){var t=0,r=e.input,n=r.length();if(n<5)t=5-n;else{e.record={type:r.getByte(),version:{major:r.getByte(),minor:r.getByte()},length:r.getInt16(),fragment:F.util.createBuffer(),ready:!1};var i=e.record.version.major===e.version.major;i&&e.session&&e.session.version&&(i=e.record.version.minor===e.version.minor),i||e.error(e,{message:"Incompatible TLS version.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.protocol_version}})}return t}(a)),a.fail||null===a.record||a.record.ready||(t=function(e){var t=0,r=e.input,n=r.length();return n<e.record.length?t=e.record.length-n:(e.record.fragment.putBytes(r.getBytes(e.record.length)),r.compact(),e.state.current.read.update(e,e.record)&&(null!==e.fragmented&&(e.fragmented.type===e.record.type?(e.fragmented.fragment.putBuffer(e.record.fragment),e.record=e.fragmented):e.error(e,{message:"Invalid fragmented record.",send:!0,alert:{level:At.Alert.Level.fatal,description:At.Alert.Description.unexpected_message}})),e.record.ready=!0)),t}(a)),!a.fail&&null!==a.record&&a.record.ready&&function(e,t){var r=t.type-At.ContentType.change_cipher_spec,n=Wt[e.entity][e.expect];r in n?n[r](e,t):At.handleUnexpected(e,t)}(a,a.record)),t},a.prepare=function(e){return At.queue(a,At.createRecord(a,{type:At.ContentType.application_data,data:F.util.createBuffer(e)})),At.flush(a)},a.prepareHeartbeatRequest=function(e,t){return e instanceof F.util.ByteBuffer&&(e=e.bytes()),void 0===t&&(t=e.length),a.expectedHeartbeatPayload=e,At.queue(a,At.createRecord(a,{type:At.ContentType.heartbeat,data:At.createHeartbeat(At.HeartbeatMessageType.heartbeat_request,e,t)})),At.flush(a)},a.close=function(e){if(!a.fail&&a.sessionCache&&a.session){var t={id:a.session.id,version:a.session.version,sp:a.session.sp};t.sp.keys=null,a.sessionCache.setSession(t.id,t)}a.open&&(a.open=!1,a.input.clear(),(a.isConnected||a.handshaking)&&(a.isConnected=a.handshaking=!1,At.queue(a,At.createAlert(a,{level:At.Alert.Level.warning,description:At.Alert.Description.close_notify})),At.flush(a)),a.closed(a)),a.reset(e)},a},F.tls=F.tls||{},At)"function"!=typeof At[ar]&&(F.tls[ar]=At[ar]);F.tls.prf_tls1=Ct,F.tls.hmac_sha1=function(e,t,r){var n=F.hmac.create();n.start("SHA1",e);var i=F.util.createBuffer();return i.putInt32(t[0]),i.putInt32(t[1]),i.putByte(r.type),i.putByte(r.version.major),i.putByte(r.version.minor),i.putInt16(r.length),i.putBytes(r.fragment.bytes()),n.update(i.getBytes()),n.digest().getBytes()},F.tls.createSessionCache=At.createSessionCache,F.tls.createConnection=At.createConnection,w((function(e){var t=e.exports=F.tls;function r(e,r,i){var o=r.entity===F.tls.ConnectionEnd.client;e.read.cipherState={init:!1,cipher:F.cipher.createDecipher("AES-CBC",o?i.keys.server_write_key:i.keys.client_write_key),iv:o?i.keys.server_write_IV:i.keys.client_write_IV},e.write.cipherState={init:!1,cipher:F.cipher.createCipher("AES-CBC",o?i.keys.client_write_key:i.keys.server_write_key),iv:o?i.keys.client_write_IV:i.keys.server_write_IV},e.read.cipherFunction=a,e.write.cipherFunction=n,e.read.macLength=e.write.macLength=i.mac_length,e.read.macFunction=e.write.macFunction=t.hmac_sha1}function n(e,r){var n,o=!1,a=r.macFunction(r.macKey,r.sequenceNumber,e);e.fragment.putBytes(a),r.updateSequenceNumber(),n=e.version.minor===t.Versions.TLS_1_0.minor?r.cipherState.init?null:r.cipherState.iv:F.random.getBytesSync(16),r.cipherState.init=!0;var s=r.cipherState.cipher;return s.start({iv:n}),e.version.minor>=t.Versions.TLS_1_1.minor&&s.output.putBytes(n),s.update(e.fragment),s.finish(i)&&(e.fragment=s.output,e.length=e.fragment.length(),o=!0),o}function i(e,t,r){if(!r){var n=e-t.length()%e;t.fillWithByte(n-1,n)}return!0}function o(e,t,r){var n=!0;if(r){for(var i=t.length(),o=t.last(),a=i-1-o;a<i-1;++a)n=n&&t.at(a)==o;n&&t.truncate(o+1)}return n}function a(e,r){var n,i;n=e.version.minor===t.Versions.TLS_1_0.minor?r.cipherState.init?null:r.cipherState.iv:e.fragment.getBytes(16),r.cipherState.init=!0;var a=r.cipherState.cipher;a.start({iv:n}),a.update(e.fragment),i=a.finish(o);var s=r.macLength,c=F.random.getBytesSync(s),u=a.output.length();u>=s?(e.fragment=a.output.getBytes(u-s),c=a.output.getBytes(s)):e.fragment=a.output.getBytes(),e.fragment=F.util.createBuffer(e.fragment),e.length=e.fragment.length();var l=r.macFunction(r.macKey,r.sequenceNumber,e);return r.updateSequenceNumber(),function(e,t,r){var n=F.hmac.create();return n.start("SHA1",e),n.update(t),t=n.digest().getBytes(),n.start(null,null),n.update(r),t===n.digest().getBytes()}(r.macKey,c,l)&&i}t.CipherSuites.TLS_RSA_WITH_AES_128_CBC_SHA={id:[0,47],name:"TLS_RSA_WITH_AES_128_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=t.BulkCipherAlgorithm.aes,e.cipher_type=t.CipherType.block,e.enc_key_length=16,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=t.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:r},t.CipherSuites.TLS_RSA_WITH_AES_256_CBC_SHA={id:[0,53],name:"TLS_RSA_WITH_AES_256_CBC_SHA",initSecurityParameters:function(e){e.bulk_cipher_algorithm=t.BulkCipherAlgorithm.aes,e.cipher_type=t.CipherType.block,e.enc_key_length=32,e.block_length=16,e.fixed_iv_length=16,e.record_iv_length=16,e.mac_algorithm=t.MACAlgorithm.hmac_sha1,e.mac_length=20,e.mac_key_length=20},initConnectionState:r}})),F.debug=F.debug||{},F.debug.storage={},F.debug.get=function(e,t){var r;return void 0===e?r=F.debug.storage:e in F.debug.storage&&(r=void 0===t?F.debug.storage[e]:F.debug.storage[e][t]),r},F.debug.set=function(e,t,r){e in F.debug.storage||(F.debug.storage[e]={}),F.debug.storage[e][t]=r},F.debug.clear=function(e,t){void 0===e?F.debug.storage={}:e in F.debug.storage&&(void 0===t?delete F.debug.storage[e]:delete F.debug.storage[e][t])},w((function(e){var t=e.exports=F.sha512=F.sha512||{};F.md.sha512=F.md.algorithms.sha512=t;var r=F.sha384=F.sha512.sha384=F.sha512.sha384||{};r.create=function(){return t.create("SHA-384")},F.md.sha384=F.md.algorithms.sha384=r,F.sha512.sha256=F.sha512.sha256||{create:function(){return t.create("SHA-512/256")}},F.md["sha512/256"]=F.md.algorithms["sha512/256"]=F.sha512.sha256,F.sha512.sha224=F.sha512.sha224||{create:function(){return t.create("SHA-512/224")}},F.md["sha512/224"]=F.md.algorithms["sha512/224"]=F.sha512.sha224,t.create=function(e){if(i||(n=String.fromCharCode(128),n+=F.util.fillString(String.fromCharCode(0),128),o=[[1116352408,3609767458],[1899447441,602891725],[3049323471,3964484399],[3921009573,2173295548],[961987163,4081628472],[1508970993,3053834265],[2453635748,2937671579],[2870763221,3664609560],[3624381080,2734883394],[310598401,1164996542],[607225278,1323610764],[1426881987,3590304994],[1925078388,4068182383],[2162078206,991336113],[2614888103,633803317],[3248222580,3479774868],[3835390401,2666613458],[4022224774,944711139],[264347078,2341262773],[604807628,2007800933],[770255983,1495990901],[1249150122,1856431235],[1555081692,3175218132],[1996064986,2198950837],[2554220882,3999719339],[2821834349,766784016],[2952996808,2566594879],[3210313671,3203337956],[3336571891,1034457026],[3584528711,2466948901],[113926993,3758326383],[338241895,168717936],[666307205,1188179964],[773529912,1546045734],[1294757372,1522805485],[1396182291,2643833823],[1695183700,2343527390],[1986661051,1014477480],[2177026350,1206759142],[2456956037,344077627],[2730485921,1290863460],[2820302411,3158454273],[3259730800,3505952657],[3345764771,106217008],[3516065817,3606008344],[3600352804,1432725776],[4094571909,1467031594],[275423344,851169720],[430227734,3100823752],[506948616,1363258195],[659060556,3750685593],[883997877,3785050280],[958139571,3318307427],[1322822218,3812723403],[1537002063,2003034995],[1747873779,3602036899],[1955562222,1575990012],[2024104815,1125592928],[2227730452,2716904306],[2361852424,442776044],[2428436474,593698344],[2756734187,3733110249],[3204031479,2999351573],[3329325298,3815920427],[3391569614,3928383900],[3515267271,566280711],[3940187606,3454069534],[4118630271,4000239992],[116418474,1914138554],[174292421,2731055270],[289380356,3203993006],[460393269,320620315],[685471733,587496836],[852142971,1086792851],[1017036298,365543100],[1126000580,2618297676],[1288033470,3409855158],[1501505948,4234509866],[1607167915,987167468],[1816402316,1246189591]],(a={})["SHA-512"]=[[1779033703,4089235720],[3144134277,2227873595],[1013904242,4271175723],[2773480762,1595750129],[1359893119,2917565137],[2600822924,725511199],[528734635,4215389547],[1541459225,327033209]],a["SHA-384"]=[[3418070365,3238371032],[1654270250,914150663],[2438529370,812702999],[355462360,4144912697],[1731405415,4290775857],[2394180231,1750603025],[3675008525,1694076839],[1203062813,3204075428]],a["SHA-512/256"]=[[573645204,4230739756],[2673172387,3360449730],[596883563,1867755857],[2520282905,1497426621],[2519219938,2827943907],[3193839141,1401305490],[721525244,746961066],[246885852,2177182882]],a["SHA-512/224"]=[[2352822216,424955298],[1944164710,2312950998],[502970286,855612546],[1738396948,1479516111],[258812777,2077511080],[2011393907,79989058],[1067287976,1780299464],[286451373,2446758561]],i=!0),void 0===e&&(e="SHA-512"),!(e in a))throw new Error("Invalid SHA-512 algorithm: "+e);for(var t=a[e],r=null,c=F.util.createBuffer(),u=new Array(80),l=0;l<80;++l)u[l]=new Array(2);var f=64;switch(e){case"SHA-384":f=48;break;case"SHA-512/256":f=32;break;case"SHA-512/224":f=28}var d={algorithm:e.replace("-","").toLowerCase(),blockLength:128,digestLength:f,messageLength:0,fullMessageLength:null,messageLengthSize:16,start:function(){d.messageLength=0,d.fullMessageLength=d.messageLength128=[];for(var e=d.messageLengthSize/4,n=0;n<e;++n)d.fullMessageLength.push(0);for(c=F.util.createBuffer(),r=new Array(t.length),n=0;n<t.length;++n)r[n]=t[n].slice(0);return d}};return d.start(),d.update=function(e,t){"utf8"===t&&(e=F.util.encodeUtf8(e));var n=e.length;d.messageLength+=n,n=[n/4294967296>>>0,n>>>0];for(var i=d.fullMessageLength.length-1;i>=0;--i)d.fullMessageLength[i]+=n[1],n[1]=n[0]+(d.fullMessageLength[i]/4294967296>>>0),d.fullMessageLength[i]=d.fullMessageLength[i]>>>0,n[0]=n[1]/4294967296>>>0;return c.putBytes(e),s(r,u,c),(c.read>2048||0===c.length())&&c.compact(),d},d.digest=function(){var t=F.util.createBuffer();t.putBytes(c.bytes());var i,o=d.fullMessageLength[d.fullMessageLength.length-1]+d.messageLengthSize&d.blockLength-1;t.putBytes(n.substr(0,d.blockLength-o));for(var a=8*d.fullMessageLength[0],l=0;l<d.fullMessageLength.length-1;++l)a+=(i=8*d.fullMessageLength[l+1])/4294967296>>>0,t.putInt32(a>>>0),a=i>>>0;t.putInt32(a);var f=new Array(r.length);for(l=0;l<r.length;++l)f[l]=r[l].slice(0);s(f,u,t);var p,h=F.util.createBuffer();for(p="SHA-512"===e?f.length:"SHA-384"===e?f.length-2:f.length-4,l=0;l<p;++l)h.putInt32(f[l][0]),l===p-1&&"SHA-512/224"===e||h.putInt32(f[l][1]);return h},d};var n=null,i=!1,o=null,a=null;function s(e,t,r){for(var n,i,a,s,c,u,l,f,d,p,h,g,m,v,y,b,w,C,E,k,S,_,A,T,x,I,B,R,P,N,O,D,L,M=r.length();M>=128;){for(B=0;B<16;++B)t[B][0]=r.getInt32()>>>0,t[B][1]=r.getInt32()>>>0;for(;B<80;++B)n=(((R=(N=t[B-2])[0])>>>19|(P=N[1])<<13)^(P>>>29|R<<3)^R>>>6)>>>0,i=((R<<13|P>>>19)^(P<<3|R>>>29)^(R<<26|P>>>6))>>>0,a=(((R=(D=t[B-15])[0])>>>1|(P=D[1])<<31)^(R>>>8|P<<24)^R>>>7)>>>0,s=((R<<31|P>>>1)^(R<<24|P>>>8)^(R<<25|P>>>7))>>>0,O=t[B-7],L=t[B-16],P=i+O[1]+s+L[1],t[B][0]=n+O[0]+a+L[0]+(P/4294967296>>>0)>>>0,t[B][1]=P>>>0;for(h=e[0][0],g=e[0][1],m=e[1][0],v=e[1][1],y=e[2][0],b=e[2][1],w=e[3][0],C=e[3][1],E=e[4][0],k=e[4][1],S=e[5][0],_=e[5][1],A=e[6][0],T=e[6][1],x=e[7][0],I=e[7][1],B=0;B<80;++B)l=((E>>>14|k<<18)^(E>>>18|k<<14)^(k>>>9|E<<23))>>>0,f=(A^E&(S^A))>>>0,c=((h>>>28|g<<4)^(g>>>2|h<<30)^(g>>>7|h<<25))>>>0,u=((h<<4|g>>>28)^(g<<30|h>>>2)^(g<<25|h>>>7))>>>0,d=(h&m|y&(h^m))>>>0,p=(g&v|b&(g^v))>>>0,P=I+(((E<<18|k>>>14)^(E<<14|k>>>18)^(k<<23|E>>>9))>>>0)+((T^k&(_^T))>>>0)+o[B][1]+t[B][1],n=x+l+f+o[B][0]+t[B][0]+(P/4294967296>>>0)>>>0,i=P>>>0,a=c+d+((P=u+p)/4294967296>>>0)>>>0,s=P>>>0,x=A,I=T,A=S,T=_,S=E,_=k,E=w+n+((P=C+i)/4294967296>>>0)>>>0,k=P>>>0,w=y,C=b,y=m,b=v,m=h,v=g,h=n+a+((P=i+s)/4294967296>>>0)>>>0,g=P>>>0;P=e[0][1]+g,e[0][0]=e[0][0]+h+(P/4294967296>>>0)>>>0,e[0][1]=P>>>0,P=e[1][1]+v,e[1][0]=e[1][0]+m+(P/4294967296>>>0)>>>0,e[1][1]=P>>>0,P=e[2][1]+b,e[2][0]=e[2][0]+y+(P/4294967296>>>0)>>>0,e[2][1]=P>>>0,P=e[3][1]+C,e[3][0]=e[3][0]+w+(P/4294967296>>>0)>>>0,e[3][1]=P>>>0,P=e[4][1]+k,e[4][0]=e[4][0]+E+(P/4294967296>>>0)>>>0,e[4][1]=P>>>0,P=e[5][1]+_,e[5][0]=e[5][0]+S+(P/4294967296>>>0)>>>0,e[5][1]=P>>>0,P=e[6][1]+T,e[6][0]=e[6][0]+A+(P/4294967296>>>0)>>>0,e[6][1]=P>>>0,P=e[7][1]+I,e[7][0]=e[7][0]+x+(P/4294967296>>>0)>>>0,e[7][1]=P>>>0,M-=128}}}));var sr=F.asn1,cr={privateKeyValidator:{name:"PrivateKeyInfo",tagClass:sr.Class.UNIVERSAL,type:sr.Type.SEQUENCE,constructed:!0,value:[{name:"PrivateKeyInfo.version",tagClass:sr.Class.UNIVERSAL,type:sr.Type.INTEGER,constructed:!1,capture:"privateKeyVersion"},{name:"PrivateKeyInfo.privateKeyAlgorithm",tagClass:sr.Class.UNIVERSAL,type:sr.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:sr.Class.UNIVERSAL,type:sr.Type.OID,constructed:!1,capture:"privateKeyOid"}]},{name:"PrivateKeyInfo",tagClass:sr.Class.UNIVERSAL,type:sr.Type.OCTETSTRING,constructed:!1,capture:"privateKey"}]},publicKeyValidator:{name:"SubjectPublicKeyInfo",tagClass:sr.Class.UNIVERSAL,type:sr.Type.SEQUENCE,constructed:!0,captureAsn1:"subjectPublicKeyInfo",value:[{name:"SubjectPublicKeyInfo.AlgorithmIdentifier",tagClass:sr.Class.UNIVERSAL,type:sr.Type.SEQUENCE,constructed:!0,value:[{name:"AlgorithmIdentifier.algorithm",tagClass:sr.Class.UNIVERSAL,type:sr.Type.OID,constructed:!1,capture:"publicKeyOid"}]},{tagClass:sr.Class.UNIVERSAL,type:sr.Type.BITSTRING,constructed:!1,composed:!0,captureBitStringValue:"ed25519PublicKey"}]}},ur=cr.publicKeyValidator,lr=cr.privateKeyValidator;if(void 0===fr)var fr=F.jsbn.BigInteger;var dr=F.util.ByteBuffer,pr="undefined"==typeof Buffer?Uint8Array:Buffer;F.pki=F.pki||{},F.pki.ed25519=F.ed25519=F.ed25519||{};var hr=F.ed25519;function gr(e){var t=e.message;if(t instanceof Uint8Array||t instanceof pr)return t;var r=e.encoding;if(void 0===t){if(!e.md)throw new TypeError('"options.message" or "options.md" not specified.');t=e.md.digest().getBytes(),r="binary"}if("string"==typeof t&&!r)throw new TypeError('"options.encoding" must be "binary" or "utf8".');if("string"==typeof t){if("undefined"!=typeof Buffer)return Buffer.from(t,r);t=new dr(t,r)}else if(!(t instanceof dr))throw new TypeError('"options.message" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a string with "options.encoding" specifying its encoding.');for(var n=new pr(t.length()),i=0;i<n.length;++i)n[i]=t.at(i);return n}hr.constants={},hr.constants.PUBLIC_KEY_BYTE_LENGTH=32,hr.constants.PRIVATE_KEY_BYTE_LENGTH=64,hr.constants.SEED_BYTE_LENGTH=32,hr.constants.SIGN_BYTE_LENGTH=64,hr.constants.HASH_BYTE_LENGTH=64,hr.generateKeyPair=function(e){var t=(e=e||{}).seed;if(void 0===t)t=F.random.getBytesSync(hr.constants.SEED_BYTE_LENGTH);else if("string"==typeof t){if(t.length!==hr.constants.SEED_BYTE_LENGTH)throw new TypeError('"seed" must be '+hr.constants.SEED_BYTE_LENGTH+" bytes in length.")}else if(!(t instanceof Uint8Array))throw new TypeError('"seed" must be a node.js Buffer, Uint8Array, or a binary string.');t=gr({message:t,encoding:"binary"});for(var r=new pr(hr.constants.PUBLIC_KEY_BYTE_LENGTH),n=new pr(hr.constants.PRIVATE_KEY_BYTE_LENGTH),i=0;i<32;++i)n[i]=t[i];return function(e,t){var r,n=[jr(),jr(),jr(),jr()],i=Sr(t,32);for(i[0]&=248,i[31]&=127,i[31]|=64,Dr(n,i),Ir(e,n),r=0;r<32;++r)t[r+32]=e[r]}(r,n),{publicKey:r,privateKey:n}},hr.privateKeyFromAsn1=function(e){var t={},r=[];if(!F.asn1.validate(e,lr,t,r)){var n=new Error("Invalid Key.");throw n.errors=r,n}var i=F.asn1.derToOid(t.privateKeyOid),o=F.oids.EdDSA25519;if(i!==o)throw new Error('Invalid OID "'+i+'"; OID must be "'+o+'".');var a=t.privateKey;return{privateKeyBytes:gr({message:F.asn1.fromDer(a).value,encoding:"binary"})}},hr.publicKeyFromAsn1=function(e){var t={},r=[];if(!F.asn1.validate(e,ur,t,r)){var n=new Error("Invalid Key.");throw n.errors=r,n}var i=F.asn1.derToOid(t.publicKeyOid),o=F.oids.EdDSA25519;if(i!==o)throw new Error('Invalid OID "'+i+'"; OID must be "'+o+'".');var a=t.ed25519PublicKey;if(a.length!==hr.constants.PUBLIC_KEY_BYTE_LENGTH)throw new Error("Key length is invalid.");return gr({message:a,encoding:"binary"})},hr.publicKeyFromPrivateKey=function(e){var t=gr({message:(e=e||{}).privateKey,encoding:"binary"});if(t.length!==hr.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+hr.constants.PRIVATE_KEY_BYTE_LENGTH);for(var r=new pr(hr.constants.PUBLIC_KEY_BYTE_LENGTH),n=0;n<r.length;++n)r[n]=t[32+n];return r},hr.sign=function(e){var t=gr(e=e||{}),r=gr({message:e.privateKey,encoding:"binary"});if(r.length===hr.constants.SEED_BYTE_LENGTH)r=hr.generateKeyPair({seed:r}).privateKey;else if(r.length!==hr.constants.PRIVATE_KEY_BYTE_LENGTH)throw new TypeError('"options.privateKey" must have a byte length of '+hr.constants.SEED_BYTE_LENGTH+" or "+hr.constants.PRIVATE_KEY_BYTE_LENGTH);var n=new pr(hr.constants.SIGN_BYTE_LENGTH+t.length);!function(e,t,r,n){var i,o,a=new Float64Array(64),s=[jr(),jr(),jr(),jr()],c=Sr(n,32);for(c[0]&=248,c[31]&=127,c[31]|=64,i=0;i<r;++i)e[64+i]=t[i];for(i=0;i<32;++i)e[32+i]=c[32+i];var u=Sr(e.subarray(32),r+32);for(Ar(u),Dr(s,u),Ir(e,s),i=32;i<64;++i)e[i]=n[i];var l=Sr(e,r+64);for(Ar(l),i=32;i<64;++i)a[i]=0;for(i=0;i<32;++i)a[i]=u[i];for(i=0;i<32;++i)for(o=0;o<32;o++)a[i+o]+=l[i]*c[o];_r(e.subarray(32),a)}(n,t,t.length,r);for(var i=new pr(hr.constants.SIGN_BYTE_LENGTH),o=0;o<i.length;++o)i[o]=n[o];return i},hr.verify=function(e){var t=gr(e=e||{});if(void 0===e.signature)throw new TypeError('"options.signature" must be a node.js Buffer, a Uint8Array, a forge ByteBuffer, or a binary string.');var r=gr({message:e.signature,encoding:"binary"});if(r.length!==hr.constants.SIGN_BYTE_LENGTH)throw new TypeError('"options.signature" must have a byte length of '+hr.constants.SIGN_BYTE_LENGTH);var n=gr({message:e.publicKey,encoding:"binary"});if(n.length!==hr.constants.PUBLIC_KEY_BYTE_LENGTH)throw new TypeError('"options.publicKey" must have a byte length of '+hr.constants.PUBLIC_KEY_BYTE_LENGTH);var i,o=new pr(hr.constants.SIGN_BYTE_LENGTH+t.length),a=new pr(hr.constants.SIGN_BYTE_LENGTH+t.length);for(i=0;i<hr.constants.SIGN_BYTE_LENGTH;++i)o[i]=r[i];for(i=0;i<t.length;++i)o[i+hr.constants.SIGN_BYTE_LENGTH]=t[i];return function(e,t,r,n){var i,o=new pr(32),a=[jr(),jr(),jr(),jr()],s=[jr(),jr(),jr(),jr()];if(r<64)return-1;if(function(e,t){var r=jr(),n=jr(),i=jr(),o=jr(),a=jr(),s=jr(),c=jr();return Lr(e[2],vr),function(e,t){var r;for(r=0;r<16;++r)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}(e[1],t),zr(i,e[1]),Kr(o,i,yr),Vr(i,i,e[2]),Fr(o,e[2],o),zr(a,o),zr(s,a),Kr(c,s,a),Kr(r,c,i),Kr(r,r,o),function(e,t){var r,n=jr();for(r=0;r<16;++r)n[r]=t[r];for(r=250;r>=0;--r)zr(n,n),1!==r&&Kr(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}(r,r),Kr(r,r,i),Kr(r,r,o),Kr(r,r,o),Kr(e[0],r,o),zr(n,e[0]),Kr(n,n,o),Rr(n,i)&&Kr(e[0],e[0],kr),zr(n,e[0]),Kr(n,n,o),Rr(n,i)?-1:(Nr(e[0])===t[31]>>7&&Vr(e[0],mr,e[0]),Kr(e[3],e[0],e[1]),0)}(s,n))return-1;for(i=0;i<r;++i)e[i]=t[i];for(i=0;i<32;++i)e[i+32]=n[i];var c=Sr(e,r);if(Ar(c),Or(a,s,c),Dr(s,t.subarray(32)),Tr(a,s),Ir(o,a),r-=64,Pr(t,0,o,0)){for(i=0;i<r;++i)e[i]=0;return-1}for(i=0;i<r;++i)e[i]=t[i+64];return r}(a,o,o.length,n)>=0};var mr=jr(),vr=jr([1]),yr=jr([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),br=jr([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),wr=jr([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),Cr=jr([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),Er=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]),kr=jr([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Sr(e,t){var r=F.md.sha512.create(),n=new dr(e);r.update(n.getBytes(t),"binary");var i=r.digest().getBytes();if("undefined"!=typeof Buffer)return Buffer.from(i,"binary");for(var o=new pr(hr.constants.HASH_BYTE_LENGTH),a=0;a<64;++a)o[a]=i.charCodeAt(a);return o}function _r(e,t){var r,n,i,o;for(n=63;n>=32;--n){for(r=0,i=n-32,o=n-12;i<o;++i)t[i]+=r-16*t[n]*Er[i-(n-32)],r=t[i]+128>>8,t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;++i)t[i]+=r-(t[31]>>4)*Er[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;++i)t[i]-=r*Er[i];for(n=0;n<32;++n)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function Ar(e){for(var t=new Float64Array(64),r=0;r<64;++r)t[r]=e[r],e[r]=0;_r(e,t)}function Tr(e,t){var r=jr(),n=jr(),i=jr(),o=jr(),a=jr(),s=jr(),c=jr(),u=jr(),l=jr();Vr(r,e[1],e[0]),Vr(l,t[1],t[0]),Kr(r,r,l),Fr(n,e[0],e[1]),Fr(l,t[0],t[1]),Kr(n,n,l),Kr(i,e[3],t[3]),Kr(i,i,br),Kr(o,e[2],t[2]),Fr(o,o,o),Vr(a,n,r),Vr(s,o,i),Fr(c,o,i),Fr(u,n,r),Kr(e[0],a,s),Kr(e[1],u,c),Kr(e[2],c,s),Kr(e[3],a,u)}function xr(e,t,r){for(var n=0;n<4;++n)Ur(e[n],t[n],r)}function Ir(e,t){var r=jr(),n=jr(),i=jr();!function(e,t){var r,n=jr();for(r=0;r<16;++r)n[r]=t[r];for(r=253;r>=0;--r)zr(n,n),2!==r&&4!==r&&Kr(n,n,t);for(r=0;r<16;++r)e[r]=n[r]}(i,t[2]),Kr(r,t[0],i),Kr(n,t[1],i),Br(e,n),e[31]^=Nr(r)<<7}function Br(e,t){var r,n,i,o=jr(),a=jr();for(r=0;r<16;++r)a[r]=t[r];for(Mr(a),Mr(a),Mr(a),n=0;n<2;++n){for(o[0]=a[0]-65517,r=1;r<15;++r)o[r]=a[r]-65535-(o[r-1]>>16&1),o[r-1]&=65535;o[15]=a[15]-32767-(o[14]>>16&1),i=o[15]>>16&1,o[14]&=65535,Ur(a,o,1-i)}for(r=0;r<16;r++)e[2*r]=255&a[r],e[2*r+1]=a[r]>>8}function Rr(e,t){var r=new pr(32),n=new pr(32);return Br(r,e),Br(n,t),Pr(r,0,n,0)}function Pr(e,t,r,n){return function(e,t,r,n,i){var o,a=0;for(o=0;o<32;++o)a|=e[t+o]^r[n+o];return(1&a-1>>>8)-1}(e,t,r,n)}function Nr(e){var t=new pr(32);return Br(t,e),1&t[0]}function Or(e,t,r){var n,i;for(Lr(e[0],mr),Lr(e[1],vr),Lr(e[2],vr),Lr(e[3],mr),i=255;i>=0;--i)xr(e,t,n=r[i/8|0]>>(7&i)&1),Tr(t,e),Tr(e,e),xr(e,t,n)}function Dr(e,t){var r=[jr(),jr(),jr(),jr()];Lr(r[0],wr),Lr(r[1],Cr),Lr(r[2],vr),Kr(r[3],wr,Cr),Or(e,r,t)}function Lr(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function Mr(e){var t,r,n=1;for(t=0;t<16;++t)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function Ur(e,t,r){for(var n,i=~(r-1),o=0;o<16;++o)n=i&(e[o]^t[o]),e[o]^=n,t[o]^=n}function jr(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;++t)r[t]=e[t];return r}function Fr(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]+r[n]}function Vr(e,t,r){for(var n=0;n<16;++n)e[n]=t[n]-r[n]}function zr(e,t){Kr(e,t,t)}function Kr(e,t,r){var n,i,o=0,a=0,s=0,c=0,u=0,l=0,f=0,d=0,p=0,h=0,g=0,m=0,v=0,y=0,b=0,w=0,C=0,E=0,k=0,S=0,_=0,A=0,T=0,x=0,I=0,B=0,R=0,P=0,N=0,O=0,D=0,L=r[0],M=r[1],U=r[2],j=r[3],F=r[4],V=r[5],z=r[6],K=r[7],q=r[8],H=r[9],Q=r[10],W=r[11],G=r[12],Y=r[13],X=r[14],$=r[15];o+=(n=t[0])*L,a+=n*M,s+=n*U,c+=n*j,u+=n*F,l+=n*V,f+=n*z,d+=n*K,p+=n*q,h+=n*H,g+=n*Q,m+=n*W,v+=n*G,y+=n*Y,b+=n*X,w+=n*$,a+=(n=t[1])*L,s+=n*M,c+=n*U,u+=n*j,l+=n*F,f+=n*V,d+=n*z,p+=n*K,h+=n*q,g+=n*H,m+=n*Q,v+=n*W,y+=n*G,b+=n*Y,w+=n*X,C+=n*$,s+=(n=t[2])*L,c+=n*M,u+=n*U,l+=n*j,f+=n*F,d+=n*V,p+=n*z,h+=n*K,g+=n*q,m+=n*H,v+=n*Q,y+=n*W,b+=n*G,w+=n*Y,C+=n*X,E+=n*$,c+=(n=t[3])*L,u+=n*M,l+=n*U,f+=n*j,d+=n*F,p+=n*V,h+=n*z,g+=n*K,m+=n*q,v+=n*H,y+=n*Q,b+=n*W,w+=n*G,C+=n*Y,E+=n*X,k+=n*$,u+=(n=t[4])*L,l+=n*M,f+=n*U,d+=n*j,p+=n*F,h+=n*V,g+=n*z,m+=n*K,v+=n*q,y+=n*H,b+=n*Q,w+=n*W,C+=n*G,E+=n*Y,k+=n*X,S+=n*$,l+=(n=t[5])*L,f+=n*M,d+=n*U,p+=n*j,h+=n*F,g+=n*V,m+=n*z,v+=n*K,y+=n*q,b+=n*H,w+=n*Q,C+=n*W,E+=n*G,k+=n*Y,S+=n*X,_+=n*$,f+=(n=t[6])*L,d+=n*M,p+=n*U,h+=n*j,g+=n*F,m+=n*V,v+=n*z,y+=n*K,b+=n*q,w+=n*H,C+=n*Q,E+=n*W,k+=n*G,S+=n*Y,_+=n*X,A+=n*$,d+=(n=t[7])*L,p+=n*M,h+=n*U,g+=n*j,m+=n*F,v+=n*V,y+=n*z,b+=n*K,w+=n*q,C+=n*H,E+=n*Q,k+=n*W,S+=n*G,_+=n*Y,A+=n*X,T+=n*$,p+=(n=t[8])*L,h+=n*M,g+=n*U,m+=n*j,v+=n*F,y+=n*V,b+=n*z,w+=n*K,C+=n*q,E+=n*H,k+=n*Q,S+=n*W,_+=n*G,A+=n*Y,T+=n*X,x+=n*$,h+=(n=t[9])*L,g+=n*M,m+=n*U,v+=n*j,y+=n*F,b+=n*V,w+=n*z,C+=n*K,E+=n*q,k+=n*H,S+=n*Q,_+=n*W,A+=n*G,T+=n*Y,x+=n*X,I+=n*$,g+=(n=t[10])*L,m+=n*M,v+=n*U,y+=n*j,b+=n*F,w+=n*V,C+=n*z,E+=n*K,k+=n*q,S+=n*H,_+=n*Q,A+=n*W,T+=n*G,x+=n*Y,I+=n*X,B+=n*$,m+=(n=t[11])*L,v+=n*M,y+=n*U,b+=n*j,w+=n*F,C+=n*V,E+=n*z,k+=n*K,S+=n*q,_+=n*H,A+=n*Q,T+=n*W,x+=n*G,I+=n*Y,B+=n*X,R+=n*$,v+=(n=t[12])*L,y+=n*M,b+=n*U,w+=n*j,C+=n*F,E+=n*V,k+=n*z,S+=n*K,_+=n*q,A+=n*H,T+=n*Q,x+=n*W,I+=n*G,B+=n*Y,R+=n*X,P+=n*$,y+=(n=t[13])*L,b+=n*M,w+=n*U,C+=n*j,E+=n*F,k+=n*V,S+=n*z,_+=n*K,A+=n*q,T+=n*H,x+=n*Q,I+=n*W,B+=n*G,R+=n*Y,P+=n*X,N+=n*$,b+=(n=t[14])*L,w+=n*M,C+=n*U,E+=n*j,k+=n*F,S+=n*V,_+=n*z,A+=n*K,T+=n*q,x+=n*H,I+=n*Q,B+=n*W,R+=n*G,P+=n*Y,N+=n*X,O+=n*$,w+=(n=t[15])*L,a+=38*(E+=n*U),s+=38*(k+=n*j),c+=38*(S+=n*F),u+=38*(_+=n*V),l+=38*(A+=n*z),f+=38*(T+=n*K),d+=38*(x+=n*q),p+=38*(I+=n*H),h+=38*(B+=n*Q),g+=38*(R+=n*W),m+=38*(P+=n*G),v+=38*(N+=n*Y),y+=38*(O+=n*X),b+=38*(D+=n*$),o=(n=(o+=38*(C+=n*M))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=(o+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),a=(n=a+i+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),o+=i-1+37*(i-1),e[0]=o,e[1]=a,e[2]=s,e[3]=c,e[4]=u,e[5]=l,e[6]=f,e[7]=d,e[8]=p,e[9]=h,e[10]=g,e[11]=m,e[12]=v,e[13]=y,e[14]=b,e[15]=w}F.kem=F.kem||{};var qr=F.jsbn.BigInteger;function Hr(e,t,r,n){e.generate=function(e,i){for(var o=new F.util.ByteBuffer,a=Math.ceil(i/n)+r,s=new F.util.ByteBuffer,c=r;c<a;++c){s.putInt32(c),t.start(),t.update(e+s.getBytes());var u=t.digest();o.putBytes(u.getBytes(n))}return o.truncate(o.length()-i),o.getBytes()}}F.kem.rsa={},F.kem.rsa.create=function(e,t){var r=(t=t||{}).prng||F.random;return{encrypt:function(t,n){var i,o=Math.ceil(t.n.bitLength()/8);do{i=new qr(F.util.bytesToHex(r.getBytesSync(o)),16).mod(t.n)}while(i.compareTo(qr.ONE)<=0);var a=o-(i=F.util.hexToBytes(i.toString(16))).length;return a>0&&(i=F.util.fillString(String.fromCharCode(0),a)+i),{encapsulation:t.encrypt(i,"NONE"),key:e.generate(i,n)}},decrypt:function(t,r,n){var i=t.decrypt(r,"NONE");return e.generate(i,n)}}},F.kem.kdf1=function(e,t){Hr(this,e,0,t||e.digestLength)},F.kem.kdf2=function(e,t){Hr(this,e,1,t||e.digestLength)},F.log=F.log||{},F.log.levels=["none","error","warning","info","debug","verbose","max"];var Qr={},Wr=[],Gr=null;F.log.LEVEL_LOCKED=2,F.log.NO_LEVEL_CHECK=4,F.log.INTERPOLATE=8;for(var Yr=0;Yr<F.log.levels.length;++Yr){var Xr=F.log.levels[Yr];Qr[Xr]={index:Yr,name:Xr.toUpperCase()}}F.log.logMessage=function(e){for(var t=Qr[e.level].index,r=0;r<Wr.length;++r){var n=Wr[r];n.flags&F.log.NO_LEVEL_CHECK?n.f(e):t<=Qr[n.level].index&&n.f(n,e)}},F.log.prepareStandard=function(e){"standard"in e||(e.standard=Qr[e.level].name+" ["+e.category+"] "+e.message)},F.log.prepareFull=function(e){if(!("full"in e)){var t=[e.message];t=t.concat([]||e.arguments),e.full=F.util.format.apply(this,t)}},F.log.prepareStandardFull=function(e){"standardFull"in e||(F.log.prepareStandard(e),e.standardFull=e.standard)};var $r=["error","warning","info","debug","verbose"];for(Yr=0;Yr<$r.length;++Yr)!function(e){F.log[e]=function(t,r){var n=Array.prototype.slice.call(arguments).slice(2),i={timestamp:new Date,level:e,category:t,message:r,arguments:n};F.log.logMessage(i)}}($r[Yr]);if(F.log.makeLogger=function(e){var t={flags:0,f:e};return F.log.setLevel(t,"none"),t},F.log.setLevel=function(e,t){var r=!1;if(e&&!(e.flags&F.log.LEVEL_LOCKED))for(var n=0;n<F.log.levels.length;++n)if(t==F.log.levels[n]){e.level=t,r=!0;break}return r},F.log.lock=function(e,t){void 0===t||t?e.flags|=F.log.LEVEL_LOCKED:e.flags&=~F.log.LEVEL_LOCKED},F.log.addLogger=function(e){Wr.push(e)},"undefined"!=typeof console&&"log"in console){var Zr;if(console.error&&console.warn&&console.info&&console.debug){var Jr={error:console.error,warning:console.warn,info:console.info,debug:console.debug,verbose:console.debug},en=function(e,t){F.log.prepareStandard(t);var r=Jr[t.level],n=[t.standard];n=n.concat(t.arguments.slice()),r.apply(console,n)};Zr=F.log.makeLogger(en)}else en=function(e,t){F.log.prepareStandardFull(t),console.log(t.standardFull)},Zr=F.log.makeLogger(en);F.log.setLevel(Zr,"debug"),F.log.addLogger(Zr),Gr=Zr}else console={log:function(){}};if(null!==Gr){var tn=F.util.getQueryVariables();"console.level"in tn&&F.log.setLevel(Gr,tn["console.level"].slice(-1)[0]),"console.lock"in tn&&"true"==tn["console.lock"].slice(-1)[0]&&F.log.lock(Gr)}F.log.consoleLogger=Gr,w((function(e){var t=F.asn1,r=e.exports=F.pkcs7=F.pkcs7||{};function n(e){var n={},i=[];if(!t.validate(e,r.asn1.recipientInfoValidator,n,i)){var o=new Error("Cannot read PKCS#7 RecipientInfo. ASN.1 object is not an PKCS#7 RecipientInfo.");throw o.errors=i,o}return{version:n.version.charCodeAt(0),issuer:F.pki.RDNAttributesAsArray(n.issuer),serialNumber:F.util.createBuffer(n.serial).toHex(),encryptedContent:{algorithm:t.derToOid(n.encAlgorithm),parameter:n.encParameter.value,content:n.encKey}}}function i(e){for(var r,n=[],i=0;i<e.length;++i)n.push((r=e[i],t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(r.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[F.pki.distinguishedNameToAsn1({attributes:r.issuer}),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,F.util.hexToBytes(r.serialNumber))]),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.encryptedContent.algorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.encryptedContent.content)])));return n}function o(e){var r=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(e.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[F.pki.distinguishedNameToAsn1({attributes:e.issuer}),t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,F.util.hexToBytes(e.serialNumber))]),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.digestAlgorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])]);if(e.authenticatedAttributesAsn1&&r.value.push(e.authenticatedAttributesAsn1),r.value.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.signatureAlgorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")])),r.value.push(t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,e.signature)),e.unauthenticatedAttributes.length>0){for(var n=t.create(t.Class.CONTEXT_SPECIFIC,1,!0,[]),i=0;i<e.unauthenticatedAttributes.length;++i){var o=e.unauthenticatedAttributes[i];n.values.push(a(o))}r.value.push(n)}return r}function a(e){var r;if(e.type===F.pki.oids.contentType)r=t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.value).getBytes());else if(e.type===F.pki.oids.messageDigest)r=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,e.value.bytes());else if(e.type===F.pki.oids.signingTime){var n=new Date("1950-01-01T00:00:00Z"),i=new Date("2050-01-01T00:00:00Z"),o=e.value;if("string"==typeof o){var a=Date.parse(o);o=isNaN(a)?13===o.length?t.utcTimeToDate(o):t.generalizedTimeToDate(o):new Date(a)}r=o>=n&&o<i?t.create(t.Class.UNIVERSAL,t.Type.UTCTIME,!1,t.dateToUtcTime(o)):t.create(t.Class.UNIVERSAL,t.Type.GENERALIZEDTIME,!1,t.dateToGeneralizedTime(o))}return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.type).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[r])])}function s(e,r,n){var i={};if(!t.validate(r,n,i,[])){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not a supported PKCS#7 message.");throw o.errors=o,o}if(t.derToOid(i.contentType)!==F.pki.oids.data)throw new Error("Unsupported PKCS#7 message. Only wrapped ContentType Data supported.");if(i.encryptedContent){var a="";if(F.util.isArray(i.encryptedContent))for(var s=0;s<i.encryptedContent.length;++s){if(i.encryptedContent[s].type!==t.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting encrypted content constructed of only OCTET STRING objects.");a+=i.encryptedContent[s].value}else a=i.encryptedContent;e.encryptedContent={algorithm:t.derToOid(i.encAlgorithm),parameter:F.util.createBuffer(i.encParameter.value),content:F.util.createBuffer(a)}}if(i.content){if(a="",F.util.isArray(i.content))for(s=0;s<i.content.length;++s){if(i.content[s].type!==t.Type.OCTETSTRING)throw new Error("Malformed PKCS#7 message, expecting content constructed of only OCTET STRING objects.");a+=i.content[s].value}else a=i.content;e.content=F.util.createBuffer(a)}return e.version=i.version.charCodeAt(0),e.rawCapture=i,i}function c(e){if(void 0===e.encryptedContent.key)throw new Error("Symmetric key not available.");if(void 0===e.content){var t;switch(e.encryptedContent.algorithm){case F.pki.oids["aes128-CBC"]:case F.pki.oids["aes192-CBC"]:case F.pki.oids["aes256-CBC"]:t=F.aes.createDecryptionCipher(e.encryptedContent.key);break;case F.pki.oids.desCBC:case F.pki.oids["des-EDE3-CBC"]:t=F.des.createDecryptionCipher(e.encryptedContent.key);break;default:throw new Error("Unsupported symmetric cipher, OID "+e.encryptedContent.algorithm)}if(t.start(e.encryptedContent.parameter),t.update(e.encryptedContent.content),!t.finish())throw new Error("Symmetric decryption failed.");e.content=t.output}}r.messageFromPem=function(e){var n=F.pem.decode(e)[0];if("PKCS7"!==n.type){var i=new Error('Could not convert PKCS#7 message from PEM; PEM header type is not "PKCS#7".');throw i.headerType=n.type,i}if(n.procType&&"ENCRYPTED"===n.procType.type)throw new Error("Could not convert PKCS#7 message from PEM; PEM is encrypted.");var o=t.fromDer(n.body);return r.messageFromAsn1(o)},r.messageToPem=function(e,r){var n={type:"PKCS7",body:t.toDer(e.toAsn1()).getBytes()};return F.pem.encode(n,{maxline:r})},r.messageFromAsn1=function(e){var n={},i=[];if(!t.validate(e,r.asn1.contentInfoValidator,n,i)){var o=new Error("Cannot read PKCS#7 message. ASN.1 object is not an PKCS#7 ContentInfo.");throw o.errors=i,o}var a,s=t.derToOid(n.contentType);switch(s){case F.pki.oids.envelopedData:a=r.createEnvelopedData();break;case F.pki.oids.encryptedData:a=r.createEncryptedData();break;case F.pki.oids.signedData:a=r.createSignedData();break;default:throw new Error("Cannot read PKCS#7 message. ContentType with OID "+s+" is not (yet) supported.")}return a.fromAsn1(n.content.value[0]),a},r.createSignedData=function(){var e=null;return e={type:F.pki.oids.signedData,version:1,certificates:[],crls:[],signers:[],digestAlgorithmIdentifiers:[],contentInfo:null,signerInfos:[],fromAsn1:function(t){if(s(e,t,r.asn1.signedDataValidator),e.certificates=[],e.crls=[],e.digestAlgorithmIdentifiers=[],e.contentInfo=null,e.signerInfos=[],e.rawCapture.certificates)for(var n=e.rawCapture.certificates.value,i=0;i<n.length;++i)e.certificates.push(F.pki.certificateFromAsn1(n[i]))},toAsn1:function(){e.contentInfo||e.sign();for(var r=[],n=0;n<e.certificates.length;++n)r.push(F.pki.certificateToAsn1(e.certificates[n]));var i=[],o=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(e.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,e.digestAlgorithmIdentifiers),e.contentInfo])]);return r.length>0&&o.value[0].value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,r)),i.length>0&&o.value[0].value.push(t.create(t.Class.CONTEXT_SPECIFIC,1,!0,i)),o.value[0].value.push(t.create(t.Class.UNIVERSAL,t.Type.SET,!0,e.signerInfos)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.type).getBytes()),o])},addSigner:function(t){var r=t.issuer,n=t.serialNumber;if(t.certificate){var i=t.certificate;"string"==typeof i&&(i=F.pki.certificateFromPem(i)),r=i.issuer.attributes,n=i.serialNumber}var o=t.key;if(!o)throw new Error("Could not add PKCS#7 signer; no private key specified.");"string"==typeof o&&(o=F.pki.privateKeyFromPem(o));var a=t.digestAlgorithm||F.pki.oids.sha1;switch(a){case F.pki.oids.sha1:case F.pki.oids.sha256:case F.pki.oids.sha384:case F.pki.oids.sha512:case F.pki.oids.md5:break;default:throw new Error("Could not add PKCS#7 signer; unknown message digest algorithm: "+a)}var s=t.authenticatedAttributes||[];if(s.length>0){for(var c=!1,u=!1,l=0;l<s.length;++l){var f=s[l];if(c||f.type!==F.pki.oids.contentType){if(u||f.type!==F.pki.oids.messageDigest);else if(u=!0,c)break}else if(c=!0,u)break}if(!c||!u)throw new Error("Invalid signer.authenticatedAttributes. If signer.authenticatedAttributes is specified, then it must contain at least two attributes, PKCS #9 content-type and PKCS #9 message-digest.")}e.signers.push({key:o,version:1,issuer:r,serialNumber:n,digestAlgorithm:a,signatureAlgorithm:F.pki.oids.rsaEncryption,signature:null,authenticatedAttributes:s,unauthenticatedAttributes:[]})},sign:function(r){var n;r=r||{},("object"!=ky(e.content)||null===e.contentInfo)&&(e.contentInfo=t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(F.pki.oids.data).getBytes())]),"content"in e&&(e.content instanceof F.util.ByteBuffer?n=e.content.bytes():"string"==typeof e.content&&(n=F.util.encodeUtf8(e.content)),r.detached?e.detachedContent=t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,n):e.contentInfo.value.push(t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,n)])))),0!==e.signers.length&&function(r){var n;if(!(n=e.detachedContent?e.detachedContent:(n=e.contentInfo.value[1]).value[0]))throw new Error("Could not sign PKCS#7 message; there is no content to sign.");var i=t.derToOid(e.contentInfo.value[0].value),s=t.toDer(n);for(var c in s.getByte(),t.getBerValueLength(s),s=s.getBytes(),r)r[c].start().update(s);for(var u=new Date,l=0;l<e.signers.length;++l){var f=e.signers[l];if(0===f.authenticatedAttributes.length){if(i!==F.pki.oids.data)throw new Error("Invalid signer; authenticatedAttributes must be present when the ContentInfo content type is not PKCS#7 Data.")}else{f.authenticatedAttributesAsn1=t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[]);for(var d=t.create(t.Class.UNIVERSAL,t.Type.SET,!0,[]),p=0;p<f.authenticatedAttributes.length;++p){var h=f.authenticatedAttributes[p];h.type===F.pki.oids.messageDigest?h.value=r[f.digestAlgorithm].digest():h.type===F.pki.oids.signingTime&&(h.value||(h.value=u)),d.value.push(a(h)),f.authenticatedAttributesAsn1.value.push(a(h))}s=t.toDer(d).getBytes(),f.md.start().update(s)}f.signature=f.key.sign(f.md,"RSASSA-PKCS1-V1_5")}e.signerInfos=function(e){for(var t=[],r=0;r<e.length;++r)t.push(o(e[r]));return t}(e.signers)}(function(){for(var r={},n=0;n<e.signers.length;++n){var i=e.signers[n];(o=i.digestAlgorithm)in r||(r[o]=F.md[F.pki.oids[o]].create()),0===i.authenticatedAttributes.length?i.md=r[o]:i.md=F.md[F.pki.oids[o]].create()}for(var o in e.digestAlgorithmIdentifiers=[],r)e.digestAlgorithmIdentifiers.push(t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(o).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.NULL,!1,"")]));return r}())},verify:function(){throw new Error("PKCS#7 signature verification not yet implemented.")},addCertificate:function(t){"string"==typeof t&&(t=F.pki.certificateFromPem(t)),e.certificates.push(t)},addCertificateRevokationList:function(e){throw new Error("PKCS#7 CRL support not yet implemented.")}}},r.createEncryptedData=function(){var e=null;return e={type:F.pki.oids.encryptedData,version:0,encryptedContent:{algorithm:F.pki.oids["aes256-CBC"]},fromAsn1:function(t){s(e,t,r.asn1.encryptedDataValidator)},decrypt:function(t){void 0!==t&&(e.encryptedContent.key=t),c(e)}}},r.createEnvelopedData=function(){var e=null;return e={type:F.pki.oids.envelopedData,version:0,recipients:[],encryptedContent:{algorithm:F.pki.oids["aes256-CBC"]},fromAsn1:function(t){var i=s(e,t,r.asn1.envelopedDataValidator);e.recipients=function(e){for(var t=[],r=0;r<e.length;++r)t.push(n(e[r]));return t}(i.recipientInfos.value)},toAsn1:function(){return t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(e.type).getBytes()),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.INTEGER,!1,t.integerToDer(e.version).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SET,!0,i(e.recipients)),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,(r=e.encryptedContent,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(F.pki.oids.data).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.SEQUENCE,!0,[t.create(t.Class.UNIVERSAL,t.Type.OID,!1,t.oidToDer(r.algorithm).getBytes()),t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.parameter.getBytes())]),t.create(t.Class.CONTEXT_SPECIFIC,0,!0,[t.create(t.Class.UNIVERSAL,t.Type.OCTETSTRING,!1,r.content.getBytes())])]))])])]);var r},findRecipient:function(t){for(var r=t.issuer.attributes,n=0;n<e.recipients.length;++n){var i=e.recipients[n],o=i.issuer;if(i.serialNumber===t.serialNumber&&o.length===r.length){for(var a=!0,s=0;s<r.length;++s)if(o[s].type!==r[s].type||o[s].value!==r[s].value){a=!1;break}if(a)return i}}return null},decrypt:function(t,r){if(void 0===e.encryptedContent.key&&void 0!==t&&void 0!==r)switch(t.encryptedContent.algorithm){case F.pki.oids.rsaEncryption:case F.pki.oids.desCBC:var n=r.decrypt(t.encryptedContent.content);e.encryptedContent.key=F.util.createBuffer(n);break;default:throw new Error("Unsupported asymmetric cipher, OID "+t.encryptedContent.algorithm)}c(e)},addRecipient:function(t){e.recipients.push({version:0,issuer:t.issuer.attributes,serialNumber:t.serialNumber,encryptedContent:{algorithm:F.pki.oids.rsaEncryption,key:t.publicKey}})},encrypt:function(t,r){if(void 0===e.encryptedContent.content){var n,i,o;switch(r=r||e.encryptedContent.algorithm,t=t||e.encryptedContent.key,r){case F.pki.oids["aes128-CBC"]:n=16,i=16,o=F.aes.createEncryptionCipher;break;case F.pki.oids["aes192-CBC"]:n=24,i=16,o=F.aes.createEncryptionCipher;break;case F.pki.oids["aes256-CBC"]:n=32,i=16,o=F.aes.createEncryptionCipher;break;case F.pki.oids["des-EDE3-CBC"]:n=24,i=8,o=F.des.createEncryptionCipher;break;default:throw new Error("Unsupported symmetric cipher, OID "+r)}if(void 0===t)t=F.util.createBuffer(F.random.getBytes(n));else if(t.length()!=n)throw new Error("Symmetric key has wrong length; got "+t.length()+" bytes, expected "+n+".");e.encryptedContent.algorithm=r,e.encryptedContent.key=t,e.encryptedContent.parameter=F.util.createBuffer(F.random.getBytes(i));var a=o(t);if(a.start(e.encryptedContent.parameter.copy()),a.update(e.content),!a.finish())throw new Error("Symmetric encryption failed.");e.encryptedContent.content=a.output}for(var s=0;s<e.recipients.length;++s){var c=e.recipients[s];if(void 0===c.encryptedContent.content)switch(c.encryptedContent.algorithm){case F.pki.oids.rsaEncryption:c.encryptedContent.content=c.encryptedContent.key.encrypt(e.encryptedContent.key.data);break;default:throw new Error("Unsupported asymmetric cipher, OID "+c.encryptedContent.algorithm)}}}}}})),w((function(e){var t=e.exports=F.ssh=F.ssh||{};function r(e,t){var r=t.toString(16);r[0]>="8"&&(r="00"+r);var n=F.util.hexToBytes(r);e.putInt32(n.length),e.putBytes(n)}function n(e,t){e.putInt32(t.length),e.putString(t)}function i(){for(var e=F.md.sha1.create(),t=arguments.length,r=0;r<t;++r)e.update(arguments[r]);return e.digest()}t.privateKeyToPutty=function(e,t,o){var a=""===(t=t||"")?"none":"aes256-cbc",s="PuTTY-User-Key-File-2: ssh-rsa\r\n";s+="Encryption: "+a+"\r\n",s+="Comment: "+(o=o||"")+"\r\n";var c=F.util.createBuffer();n(c,"ssh-rsa"),r(c,e.e),r(c,e.n);var u=F.util.encode64(c.bytes(),64),l=Math.floor(u.length/66)+1;s+="Public-Lines: "+l+"\r\n",s+=u;var f,d=F.util.createBuffer();if(r(d,e.d),r(d,e.p),r(d,e.q),r(d,e.qInv),t){var p=d.length()+16-1;p-=p%16;var h=i(d.bytes());h.truncate(h.length()-p+d.length()),d.putBuffer(h);var g=F.util.createBuffer();g.putBuffer(i("\0\0\0\0",t)),g.putBuffer(i("\0\0\0",t));var m=F.aes.createEncryptionCipher(g.truncate(8),"CBC");m.start(F.util.createBuffer().fillWithByte(0,16)),m.update(d.copy()),m.finish();var v=m.output;v.truncate(16),f=F.util.encode64(v.bytes(),64)}else f=F.util.encode64(d.bytes(),64);s+="\r\nPrivate-Lines: "+(l=Math.floor(f.length/66)+1)+"\r\n",s+=f;var y=i("putty-private-key-file-mac-key",t),b=F.util.createBuffer();n(b,"ssh-rsa"),n(b,a),n(b,o),b.putInt32(c.length()),b.putBuffer(c),b.putInt32(d.length()),b.putBuffer(d);var w=F.hmac.create();return w.start("sha1",y),w.update(b.bytes()),s+"\r\nPrivate-MAC: "+w.digest().toHex()+"\r\n"},t.publicKeyToOpenSSH=function(e,t){t=t||"";var i=F.util.createBuffer();return n(i,"ssh-rsa"),r(i,e.e),r(i,e.n),"ssh-rsa "+F.util.encode64(i.bytes())+" "+t},t.privateKeyToOpenSSH=function(e,t){return t?F.pki.encryptRsaPrivateKey(e,t,{legacy:!0,algorithm:"aes128"}):F.pki.privateKeyToPem(e)},t.getPublicKeyFingerprint=function(e,t){var i=(t=t||{}).md||F.md.md5.create(),o=F.util.createBuffer();n(o,"ssh-rsa"),r(o,e.e),r(o,e.n),i.start(),i.update(o.getBytes());var a=i.digest();if("hex"===t.encoding){var s=a.toHex();return t.delimiter?s.match(/.{2}/g).join(t.delimiter):s}if("binary"===t.encoding)return a.getBytes();if(t.encoding)throw new Error('Unknown encoding "'+t.encoding+'".');return a}}));var rn="forge.task",nn={},on=0;F.debug.set(rn,"tasks",nn);var an={};F.debug.set(rn,"queues",an);var sn="ready",cn="running",un="blocked",ln="sleeping",fn="done",dn="error",pn={ready:{}};pn.ready.stop=sn,pn.ready.start=cn,pn.ready.cancel=fn,pn.ready.fail=dn,pn.running={},pn.running.stop=sn,pn.running.start=cn,pn.running.block=un,pn.running.unblock=cn,pn.running.sleep=ln,pn.running.wakeup=cn,pn.running.cancel=fn,pn.running.fail=dn,pn.blocked={},pn.blocked.stop=un,pn.blocked.start=un,pn.blocked.block=un,pn.blocked.unblock=un,pn.blocked.sleep=un,pn.blocked.wakeup=un,pn.blocked.cancel=fn,pn.blocked.fail=dn,pn.sleeping={},pn.sleeping.stop=ln,pn.sleeping.start=ln,pn.sleeping.block=ln,pn.sleeping.unblock=ln,pn.sleeping.sleep=ln,pn.sleeping.wakeup=ln,pn.sleeping.cancel=fn,pn.sleeping.fail=dn,pn.done={},pn.done.stop=fn,pn.done.start=fn,pn.done.block=fn,pn.done.unblock=fn,pn.done.sleep=fn,pn.done.wakeup=fn,pn.done.cancel=fn,pn.done.fail=dn,pn.error={},pn.error.stop=dn,pn.error.start=dn,pn.error.block=dn,pn.error.unblock=dn,pn.error.sleep=dn,pn.error.wakeup=dn,pn.error.cancel=dn,pn.error.fail=dn;var hn=function(e){this.id=-1,this.name=e.name||"?",this.parent=e.parent||null,this.run=e.run,this.subtasks=[],this.error=!1,this.state=sn,this.blocks=0,this.timeoutId=null,this.swapTime=null,this.userData=null,this.id=on++,nn[this.id]=this};hn.prototype.debug=function(e){e=e||"",F.log.debug(rn,e,"[%s][%s] task:",this.id,this.name,this,"subtasks:",this.subtasks.length,"queue:",an)},hn.prototype.next=function(e,t){"function"==typeof e&&(t=e,e=this.name);var r=new hn({run:t,name:e,parent:this});return r.state=cn,r.type=this.type,r.successCallback=this.successCallback||null,r.failureCallback=this.failureCallback||null,this.subtasks.push(r),this},hn.prototype.parallel=function(e,t){return F.util.isArray(e)&&(t=e,e=this.name),this.next(e,(function(r){var n=r;n.block(t.length);for(var i=function(e,r){F.task.start({type:e,run:function(e){t[r](e)},success:function(e){n.unblock()},failure:function(e){n.unblock()}})},o=0;o<t.length;o++)i(e+"__parallel-"+r.id+"-"+o,o)}))},hn.prototype.stop=function(){this.state=pn[this.state].stop},hn.prototype.start=function(){this.error=!1,this.state=pn[this.state].start,this.state===cn&&(this.start=new Date,this.run(this),gn(this,0))},hn.prototype.block=function(e){e=void 0===e?1:e,this.blocks+=e,this.blocks>0&&(this.state=pn[this.state].block)},hn.prototype.unblock=function(e){return e=void 0===e?1:e,this.blocks-=e,0===this.blocks&&this.state!==fn&&(this.state=cn,gn(this,0)),this.blocks},hn.prototype.sleep=function(e){e=void 0===e?0:e,this.state=pn[this.state].sleep;var t=this;this.timeoutId=setTimeout((function(){t.timeoutId=null,t.state=cn,gn(t,0)}),e)},hn.prototype.wait=function(e){e.wait(this)},hn.prototype.wakeup=function(){this.state===ln&&(cancelTimeout(this.timeoutId),this.timeoutId=null,this.state=cn,gn(this,0))},hn.prototype.cancel=function(){this.state=pn[this.state].cancel,this.permitsNeeded=0,null!==this.timeoutId&&(cancelTimeout(this.timeoutId),this.timeoutId=null),this.subtasks=[]},hn.prototype.fail=function(e){if(this.error=!0,mn(this,!0),e)e.error=this.error,e.swapTime=this.swapTime,e.userData=this.userData,gn(e,0);else{if(null!==this.parent){for(var t=this.parent;null!==t.parent;)t.error=this.error,t.swapTime=this.swapTime,t.userData=this.userData,t=t.parent;mn(t,!0)}this.failureCallback&&this.failureCallback(this)}};var gn=function e(t,r){var n=r>30||+new Date-t.swapTime>20,i=function(r){if(r++,t.state===cn)if(n&&(t.swapTime=+new Date),t.subtasks.length>0){var i=t.subtasks.shift();i.error=t.error,i.swapTime=t.swapTime,i.userData=t.userData,i.run(i),i.error||e(i,r)}else mn(t),t.error||null!==t.parent&&(t.parent.error=t.error,t.parent.swapTime=t.swapTime,t.parent.userData=t.userData,e(t.parent,r))};n?setTimeout(i,0):i(r)},mn=function(e,t){e.state=fn,delete nn[e.id],null===e.parent&&(e.type in an?0===an[e.type].length?F.log.error(rn,"[%s][%s] task queue empty [%s]",e.id,e.name,e.type):an[e.type][0]!==e?F.log.error(rn,"[%s][%s] task not first in queue [%s]",e.id,e.name,e.type):(an[e.type].shift(),0===an[e.type].length?delete an[e.type]:an[e.type][0].start()):F.log.error(rn,"[%s][%s] task queue missing [%s]",e.id,e.name,e.type),t||(e.error&&e.failureCallback?e.failureCallback(e):!e.error&&e.successCallback&&e.successCallback(e)))};F.task=F.task||{},F.task.start=function(e){var t=new hn({run:e.run,name:e.name||"?"});t.type=e.type,t.successCallback=e.success||null,t.failureCallback=e.failure||null,t.type in an?an[e.type].push(t):(an[t.type]=[t],function(e){e.error=!1,e.state=pn[e.state].start,setTimeout((function(){e.state===cn&&(e.swapTime=+new Date,e.run(e),gn(e,0))}),0)}(t))},F.task.cancel=function(e){e in an&&(an[e]=[an[e][0]])},F.task.createCondition=function(){var e={tasks:{},wait:function(t){t.id in e.tasks||(t.block(),e.tasks[t.id]=t)},notify:function(){var t=e.tasks;for(var r in e.tasks={},t)t[r].unblock()}};return e};var vn=F,yn=function(){function e(e){this.secretKey=e}return e.prototype.encrypt=function(e,t){throw new Error("Method not implemented.")},e.prototype.decrypt=function(e,t){return function(e,t,r){void 0===r&&(r=vn.util.createBuffer(Uint8Array.from([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]).buffer));var n,i,o=vn.cipher.createDecipher("AES-CBC",t);return o.start({iv:r}),o.update(vn.util.createBuffer(vn.util.hexToBytes(e))),i=(n=o.output.data).charCodeAt(n.length-1),n.slice(0,-i)}(e,(r=this.secretKey,n=t.transactionID,""+r.slice(0,16)+n.slice(0,16)));var r,n},e}(),bn=function(){function e(e,t,n,i){void 0===n&&(n="production"),void 0===i&&(i={supportTransaction:!1,enableEncryption:!1}),this.transactionEnabled=i.supportTransaction||!1,this.encryptionEnabled=i.enableEncryption||!1;var o=D(e,t,n,{headers:i.httpHeaders});this.transactionManager=new j(o),this.encryptionService=new yn(t),this.compareFaceService=new l(o),this.clientSettingsService=new f(o),this.convertPDFService=new v(o),this.ekycPDFService=new y(o),this.readIDCardService=new r(o),this.requestVerifyIDCardService=new p(o),this.requestVerifyPortraitSerivce=new h(o),this.imagesService=new c(o),this.fileService=new u(o),this.verifyFaceLivenessService=new d(o),this.searchFaceService=new m(o),this.detectIDTamperingService=new g(o),this.httpClient=o}return e.prototype.enableTransaction=function(){this.transactionEnabled=!0},e.prototype.disableTransaction=function(){this.transactionEnabled=!1},e.prototype.enableEncryption=function(){this.encryptionEnabled=!0},e.prototype.disableEncryption=function(){this.encryptionEnabled=!1},e.prototype.compareFaces=function(e,t){return this.compareFaceService.request(e,t)},e.prototype.clientSettings=function(){return this.clientSettingsService.request()},e.prototype.uploadImage=function(e){return this.imagesService.request(e)},e.prototype.uploadFile=function(e){return this.fileService.uploadFile(e)},e.prototype.convertPDF=function(e,t){return this.convertPDFService.request(e,t)},e.prototype.ekycPDF=function(e,t){return this.ekycPDFService.request(e,t)},e.prototype.readIDCard=function(e,t){return this.readIDCardService.request(e,t)},e.prototype.requestVerifyIDCard=function(e,t){return this.requestVerifyIDCardService.request(e,t)},e.prototype.requestVerifyPortrait=function(e,t){return this.requestVerifyPortraitSerivce.request(e,t)},e.prototype.verifyFaceLiveness=function(e,t){return this.verifyFaceLivenessService.request(e,t)},e.prototype.searchFaces=function(e,t){return this.searchFaceService.request(e,t)},e.prototype.deleteFaces=function(e,t){return this.searchFaceService.deleteFaces(e,t)},e.prototype.indexFaces=function(e,t){return this.searchFaceService.indexFaces(e,t)},e.prototype.downloadFaceImage=function(e){return this.searchFaceService.downloadFaceImage(e)},e.prototype.downloadImage=function(e){return this.imagesService.download(e)},e.prototype.updateMetadata=function(e,t){return this.imagesService.updateMetadata(e,t)},e.prototype.detectIDTampering=function(e,t){return this.detectIDTamperingService.request(e,t)},i([M({headerIndex:1}),U(),o("design:type",Function),o("design:paramtypes",[Object,Object]),o("design:returntype",Promise)],e.prototype,"compareFaces",null),i([M({headerIndex:1}),U(),o("design:type",Function),o("design:paramtypes",[Object,Object]),o("design:returntype",Promise)],e.prototype,"convertPDF",null),i([M({headerIndex:1}),U(),o("design:type",Function),o("design:paramtypes",[Object,Object]),o("design:returntype",Promise)],e.prototype,"readIDCard",null),i([M({headerIndex:1}),U(),o("design:type",Function),o("design:paramtypes",[Object,Object]),o("design:returntype",Promise)],e.prototype,"requestVerifyIDCard",null),i([M({headerIndex:1}),U(),o("design:type",Function),o("design:paramtypes",[Object,Object]),o("design:returntype",Promise)],e.prototype,"requestVerifyPortrait",null),i([M({headerIndex:1}),U(),o("design:type",Function),o("design:paramtypes",[Object,Object]),o("design:returntype",Promise)],e.prototype,"verifyFaceLiveness",null),i([M({headerIndex:1}),U(),o("design:type",Function),o("design:paramtypes",[Object,Object]),o("design:returntype",Promise)],e.prototype,"searchFaces",null),i([M({headerIndex:1}),U(),o("design:type",Function),o("design:paramtypes",[Object,Object]),o("design:returntype",Promise)],e.prototype,"deleteFaces",null),i([M({headerIndex:1}),U(),o("design:type",Function),o("design:paramtypes",[Object,Object]),o("design:returntype",Promise)],e.prototype,"indexFaces",null),i([M({headerIndex:1}),U(),o("design:type",Function),o("design:paramtypes",[Object,Object]),o("design:returntype",Promise)],e.prototype,"detectIDTampering",null),e}();e.ReadIDCard=r,e.UploadImage=c,e.UploadFile=u,e.CompareFaces=l,e.ClientSettings=f,e.VerifyFaceLiveness=d,e.RequestVerifyIDCard=p,e.RequestVerifyPortrait=h,e.DetectIDTampering=g,e.SearchFaces=m,e.ConvertPDF=v,e.EkycPDF=y,e.HttpClient=x,e.MockClient=I,e.TVAuthorizer=N,e.createHelpers=function(e,t,r){void 0===r&&(r="production");var n=new N(e,t),i=function(e){switch(e){case"testing":return"https://tv-testing.trustingsocial.com/api";case"staging":return"https://tv-staging.trustingsocial.com/api";case"production":default:return"https://vn-vision.trustingsocial.com/api"}}(r);return new x({authorizer:n,domain:i})},e.createHttpClient=D,e.SimpleTrustVisionAPI=L,e.default=bn,Object.defineProperty(e,"__esModule",{value:!0})}(t,dF)}))),hF=new Uint8Array(16);function gF(){if(!lF&&!(lF="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return lF(hF)}var mF=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function vF(e){return"string"==typeof e&&mF.test(e)}for(var yF=[],bF=0;bF<256;++bF)yF.push((bF+256).toString(16).substr(1));function wF(e,t,r){var n=(e=e||{}).random||(e.rng||gF)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){r=r||0;for(var i=0;i<16;++i)t[r+i]=n[i];return t}return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(yF[e[t+0]]+yF[e[t+1]]+yF[e[t+2]]+yF[e[t+3]]+"-"+yF[e[t+4]]+yF[e[t+5]]+"-"+yF[e[t+6]]+yF[e[t+7]]+"-"+yF[e[t+8]]+yF[e[t+9]]+"-"+yF[e[t+10]]+yF[e[t+11]]+yF[e[t+12]]+yF[e[t+13]]+yF[e[t+14]]+yF[e[t+15]]).toLowerCase();if(!vF(r))throw TypeError("Stringified UUID is invalid");return r}(n)}var CF=function(e){return bj(e,5)},EF=LL((function(e){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){e.exports={BROWSER_TYPES:{CHROME:"Chrome",FIREFOX:"Firefox",OPERA:"Opera",YANDEX:"Yandex",SAFARI:"Safari",INTERNET_EXPLORER:"Internet Explorer",EDGE:"Edge",CHROMIUM:"Chromium",IE:"IE",MOBILE_SAFARI:"Mobile Safari",EDGE_CHROMIUM:"Edge Chromium"},DEVICE_TYPES:{MOBILE:"mobile",TABLET:"tablet",SMART_TV:"smarttv",CONSOLE:"console",WEARABLE:"wearable",BROWSER:void 0},OS_TYPES:{IOS:"iOS",ANDROID:"Android",WINDOWS_PHONE:"Windows Phone",WINDOWS:"Windows",MAC_OS:"Mac OS"},defaultData:{isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1}}},function(e,t,r){var n,i=r(2),o=r(0),a=o.BROWSER_TYPES,s=o.OS_TYPES,c=o.DEVICE_TYPES,u=r(4),l=u.checkType,f=u.broPayload,d=u.mobilePayload,p=u.wearPayload,h=u.consolePayload,g=u.stvPayload,m=u.getNavigatorInstance,v=u.isIOS13Check,y=new i,b=y.getBrowser(),w=y.getDevice(),C=y.getEngine(),E=y.getOS(),k=y.getUA(),S=a.CHROME,_=a.CHROMIUM,A=a.IE,T=a.INTERNET_EXPLORER,x=a.OPERA,I=a.FIREFOX,B=a.SAFARI,R=a.EDGE,P=a.YANDEX,N=a.MOBILE_SAFARI,O=c.MOBILE,D=c.TABLET,L=c.SMART_TV,M=c.BROWSER,U=c.WEARABLE,j=c.CONSOLE,F=s.ANDROID,V=s.WINDOWS_PHONE,z=s.IOS,K=s.WINDOWS,q=s.MAC_OS,H=function(){return E.name===s.WINDOWS&&"10"===E.version&&"string"==typeof k&&-1!==k.indexOf("Edg/")},Q=function(){return b.name===R},W=function(){return v("iPad")},G=w.type===L,Y=w.type===j,X=w.type===U,$=b.name===N||W(),Z=b.name===_,J=function(){switch(w.type){case O:case D:return!0;default:return!1}}()||W(),ee=w.type===O,te=w.type===D||W(),re=w.type===M,ne=E.name===F,ie=E.name===V,oe=E.name===z||W(),ae=b.name===S,se=b.name===I,ce=b.name===B||b.name===N,ue=b.name===x,le=b.name===T||b.name===A,fe=E.version?E.version:"none",de=E.name?E.name:"none",pe=b.major,he=b.version,ge=b.name,me=w.vendor?w.vendor:"none",ve=w.model?w.model:"none",ye=C.name,be=C.version,we=k,Ce=Q()||H(),Ee=b.name===P,ke=w.type,Se=(n=m())&&(/iPad|iPhone|iPod/.test(n.platform)||"MacIntel"===n.platform&&n.maxTouchPoints>1)&&!window.MSStream,_e=W(),Ae=v("iPhone"),Te=v("iPod"),xe=function(){var e=m(),t=e&&e.userAgent.toLowerCase();return"string"==typeof t&&/electron/.test(t)}(),Ie=H(),Be=Q(),Re=E.name===K,Pe=E.name===q,Ne=l(w.type);e.exports={deviceDetect:function(){var e=Ne.isBrowser,t=Ne.isMobile,r=Ne.isTablet,n=Ne.isSmartTV,i=Ne.isConsole,o=Ne.isWearable;return e?f(e,b,C,E,k):n?g(n,C,E,k):i?h(i,C,E,k):t||r?d(Ne,w,E,k):o?p(o,C,E,k):void 0},isSmartTV:G,isConsole:Y,isWearable:X,isMobileSafari:$,isChromium:Z,isMobile:J,isMobileOnly:ee,isTablet:te,isBrowser:re,isAndroid:ne,isWinPhone:ie,isIOS:oe,isChrome:ae,isFirefox:se,isSafari:ce,isOpera:ue,isIE:le,osVersion:fe,osName:de,fullBrowserVersion:pe,browserVersion:he,browserName:ge,mobileVendor:me,mobileModel:ve,engineName:ye,engineVersion:be,getUA:we,isEdge:Ce,isYandex:Ee,deviceType:ke,isIOS13:Se,isIPad13:_e,isIPhone13:Ae,isIPod13:Te,isElectron:xe,isEdgeChromium:Ie,isLegacyEdge:Be,isWindows:Re,isMacOs:Pe}},function(e,t,r){var n;
/*!
	     * UAParser.js v0.7.18
	     * Lightweight JavaScript-based User-Agent string parser
	     * https://github.com/faisalman/ua-parser-js
	     *
	     * Copyright © 2012-2016 Faisal Salman <fyzlman@gmail.com>
	     * Dual licensed under GPLv2 or MIT
	     */!function(i,o){var a="function",s="undefined",c="object",u="model",l="name",f="type",d="vendor",p="version",h="architecture",g="console",m="mobile",v="tablet",y="smarttv",b="wearable",w={extend:function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},C={rgx:function(e,t){for(var r,n,i,s,u,l,f=0;f<t.length&&!u;){var d=t[f],p=t[f+1];for(r=n=0;r<d.length&&!u;)if(u=d[r++].exec(e))for(i=0;i<p.length;i++)l=u[++n],ky(s=p[i])===c&&s.length>0?2==s.length?ky(s[1])==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3==s.length?ky(s[1])!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):o:this[s[0]]=l?s[1].call(this,l,s[2]):o:4==s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):o):this[s]=l||o;f+=2}},str:function(e,t){for(var r in t)if(ky(t[r])===c&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(w.has(t[r][n],e))return"?"===r?o:r}else if(w.has(t[r],e))return"?"===r?o:r;return e}},E={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},k={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[l,p],[/(opios)[\/\s]+([\w\.]+)/i],[[l,"Opera Mini"],p],[/\s(opr)\/([\w\.]+)/i],[[l,"Opera"],p],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[l,p],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[l,"IE"],p],[/(edge|edgios|edgea)\/((\d+)?[\w\.]+)/i],[[l,"Edge"],p],[/(yabrowser)\/([\w\.]+)/i],[[l,"Yandex"],p],[/(puffin)\/([\w\.]+)/i],[[l,"Puffin"],p],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[l,"UCBrowser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],p],[/(micromessenger)\/([\w\.]+)/i],[[l,"WeChat"],p],[/(qqbrowserlite)\/([\w\.]+)/i],[l,p],[/(QQ)\/([\d\.]+)/i],[l,p],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[l,p],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[l,p],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[l,p],[/(MetaSr)[\/\s]?([\w\.]+)/i],[l],[/(LBBROWSER)/i],[l],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[l,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[p,[l,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[l,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[l,/(.+)/,"$1 WebView"],p],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[l,/(.+(?:g|us))(.+)/,"$1 $2"],p],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[p,[l,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[l,p],[/(dolfin)\/([\w\.]+)/i],[[l,"Dolphin"],p],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[l,"Chrome"],p],[/(coast)\/([\w\.]+)/i],[[l,"Opera Coast"],p],[/fxios\/([\w\.-]+)/i],[p,[l,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[p,[l,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[p,l],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[l,"GSA"],p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[l,[p,C.str,E.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[l,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[l,"Netscape"],p],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[l,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[h,/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[h,w.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[u,d,[f,v]],[/applecoremedia\/[\w\.]+ \((ipad)/],[u,[d,"Apple"],[f,v]],[/(apple\s{0,1}tv)/i],[[u,"Apple TV"],[d,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,u,[f,v]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[u,[d,"Amazon"],[f,v]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[u,C.str,E.device.amazon.model],[d,"Amazon"],[f,m]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[u,d,[f,m]],[/\((ip[honed|\s\w*]+);/i],[u,[d,"Apple"],[f,m]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,u,[f,m]],[/\(bb10;\s(\w+)/i],[u,[d,"BlackBerry"],[f,m]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[u,[d,"Asus"],[f,v]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[d,"Sony"],[u,"Xperia Tablet"],[f,v]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[u,[d,"Sony"],[f,m]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[d,u,[f,g]],[/android.+;\s(shield)\sbuild/i],[u,[d,"Nvidia"],[f,g]],[/(playstation\s[34portablevi]+)/i],[u,[d,"Sony"],[f,g]],[/(sprint\s(\w+))/i],[[d,C.str,E.device.sprint.vendor],[u,C.str,E.device.sprint.model],[f,m]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[d,u,[f,v]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[d,[u,/_/g," "],[f,m]],[/(nexus\s9)/i],[u,[d,"HTC"],[f,v]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[u,[d,"Huawei"],[f,m]],[/(microsoft);\s(lumia[\s\w]+)/i],[d,u,[f,m]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[u,[d,"Microsoft"],[f,g]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[d,"Microsoft"],[f,m]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[u,[d,"Motorola"],[f,m]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[u,[d,"Motorola"],[f,v]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[d,w.trim],[u,w.trim],[f,y]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[d,"Samsung"],[f,y]],[/\(dtv[\);].+(aquos)/i],[u,[d,"Sharp"],[f,y]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[d,"Samsung"],u,[f,v]],[/smart-tv.+(samsung)/i],[d,[f,y],u],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[d,"Samsung"],u,[f,m]],[/sie-(\w*)/i],[u,[d,"Siemens"],[f,m]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[d,"Nokia"],u,[f,m]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[u,[d,"Acer"],[f,v]],[/android.+([vl]k\-?\d{3})\s+build/i],[u,[d,"LG"],[f,v]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],u,[f,v]],[/(lg) netcast\.tv/i],[d,u,[f,y]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[u,[d,"LG"],[f,m]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[u,[d,"Lenovo"],[f,v]],[/linux;.+((jolla));/i],[d,u,[f,m]],[/((pebble))app\/[\d\.]+\s/i],[d,u,[f,b]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[d,u,[f,m]],[/crkey/i],[[u,"Chromecast"],[d,"Google"]],[/android.+;\s(glass)\s\d/i],[u,[d,"Google"],[f,b]],[/android.+;\s(pixel c)\s/i],[u,[d,"Google"],[f,v]],[/android.+;\s(pixel xl|pixel)\s/i],[u,[d,"Google"],[f,m]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[u,/_/g," "],[d,"Xiaomi"],[f,m]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[u,/_/g," "],[d,"Xiaomi"],[f,v]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[u,[d,"Meizu"],[f,v]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[u,[d,"OnePlus"],[f,m]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[u,[d,"RCA"],[f,v]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[u,[d,"Dell"],[f,v]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[u,[d,"Verizon"],[f,v]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[d,"Barnes & Noble"],u,[f,v]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[u,[d,"NuVision"],[f,v]],[/android.+;\s(k88)\sbuild/i],[u,[d,"ZTE"],[f,v]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[u,[d,"Swiss"],[f,m]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[u,[d,"Swiss"],[f,v]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[u,[d,"Zeki"],[f,v]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[d,"Dragon Touch"],u,[f,v]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[u,[d,"Insignia"],[f,v]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[u,[d,"NextBook"],[f,v]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[d,"Voice"],u,[f,m]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[d,"LvTel"],u,[f,m]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[u,[d,"Envizen"],[f,v]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[d,u,[f,v]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[u,[d,"MachSpeed"],[f,v]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[d,u,[f,v]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[u,[d,"Rotor"],[f,v]],[/android.+(KS(.+))\s+build/i],[u,[d,"Amazon"],[f,v]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[d,u,[f,v]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[f,w.lowerize],d,u],[/(android[\w\.\s\-]{0,9});.+build/i],[u,[d,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[l,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,p],[/rv\:([\w\.]{1,9}).+(gecko)/i],[p,l]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[l,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[l,[p,C.str,E.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[p,C.str,E.os.windows.version]],[/\((bb)(10);/i],[[l,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[l,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[l,"Symbian"],p],[/\((series40);/i],[l],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"],p],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[l,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chromium OS"],p],[/(sunos)\s?([\w\.\d]*)/i],[[l,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[l,p],[/(haiku)\s(\w+)/i],[l,p],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[p,/_/g,"."],[l,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[l,"Mac OS"],[p,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]*)/i],[l,p]]},S=function e(t,r){if("object"==ky(t)&&(r=t,t=o),!(this instanceof e))return new e(t,r).getResult();var n=t||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),a=r?w.extend(k,r):k;return this.getBrowser=function(){var e={name:o,version:o};return C.rgx.call(e,n,a.browser),e.major=w.major(e.version),e},this.getCPU=function(){var e={architecture:o};return C.rgx.call(e,n,a.cpu),e},this.getDevice=function(){var e={vendor:o,model:o,type:o};return C.rgx.call(e,n,a.device),e},this.getEngine=function(){var e={name:o,version:o};return C.rgx.call(e,n,a.engine),e},this.getOS=function(){var e={name:o,version:o};return C.rgx.call(e,n,a.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};S.VERSION="0.7.18",S.BROWSER={NAME:l,MAJOR:"major",VERSION:p},S.CPU={ARCHITECTURE:h},S.DEVICE={MODEL:u,VENDOR:d,TYPE:f,CONSOLE:g,MOBILE:m,SMARTTV:y,TABLET:v,WEARABLE:b,EMBEDDED:"embedded"},S.ENGINE={NAME:l,VERSION:p},S.OS={NAME:l,VERSION:p},ky(t)!==s?(ky(e)!==s&&e.exports&&(t=e.exports=S),t.UAParser=S):r(3)?(n=function(){return S}.call(t,r,t,e))===o||(e.exports=n):i&&(i.UAParser=S);var _=i&&(i.jQuery||i.Zepto);if(ky(_)!==s){var A=new S;_.ua=A.getResult(),_.ua.get=function(){return A.getUA()},_.ua.set=function(e){A.setUA(e);var t=A.getResult();for(var r in t)_.ua[r]=t[r]}}}("object"==("undefined"==typeof window?"undefined":ky(window))?window:this)},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(0),o=i.DEVICE_TYPES,a=i.defaultData,s=t.getNavigatorInstance=function(){return!("undefined"==typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},c=t.isIOS13Check=function(e){var t=s();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)};e.exports={checkType:function(e){switch(e){case o.MOBILE:return{isMobile:!0};case o.TABLET:return{isTablet:!0};case o.SMART_TV:return{isSmartTV:!0};case o.CONSOLE:return{isConsole:!0};case o.WEARABLE:return{isWearable:!0};case o.BROWSER:return{isBrowser:!0};default:return a}},broPayload:function(e,t,r,n,i){return{isBrowser:e,browserMajorVersion:t.major,browserFullVersion:t.version,browserName:t.name,engineName:r.name||!1,engineVersion:r.version,osName:n.name,osVersion:n.version,userAgent:i}},mobilePayload:function(e,t,r,i){return n({},e,{vendor:t.vendor,model:t.model,os:r.name,osVersion:r.version,ua:i})},stvPayload:function(e,t,r,n){return{isSmartTV:e,engineName:t.name,engineVersion:t.version,osName:r.name,osVersion:r.version,userAgent:n}},consolePayload:function(e,t,r,n){return{isConsole:e,engineName:t.name,engineVersion:t.version,osName:r.name,osVersion:r.version,userAgent:n}},wearPayload:function(e,t,r,n){return{isWearable:e,engineName:t.name,engineVersion:t.version,osName:r.name,osVersion:r.version,userAgent:n}},getNavigatorInstance:s,isIOS13Check:c}}])}));function kF(){return{"X-TV-Device-Model":"".concat(EF.browserName," ").concat(EF.browserVersion),"X-TV-OS-Version":"".concat(EF.osName," ").concat(EF.osVersion),"X-TV-OS-Platform":EF.isMobile?"".concat(EF.osName.toLowerCase(),"_web"):"web"}}var SF=Object.freeze({__proto__:null,getUAMetadata:kF});function _F(e){return e<10?"0".concat(e):e}function AF(e){return"".concat(e.getFullYear(),"-").concat(_F(e.getMonth()+1),"-").concat(_F(e.getDate()),"T").concat(_F(e.getHours()),":").concat(_F(e.getMinutes()),":").concat(_F(e.getSeconds())).concat(function(e){if(0===e)return"Z";var t=e>0?"-":"+";return e=Math.abs(e),"".concat(t+_F(Math.floor(e/60)),":").concat(_F(e%60))}(e.getTimezoneOffset()))}var TF=Object.freeze({__proto__:null,rfc3339:AF});function xF(e,t){window.localStorage&&window.JSON&&t&&localStorage.setItem(t,JSON.stringify(e))}function IF(e){if(window.localStorage&&window.JSON&&e){var t=localStorage.getItem(e);if(t)return JSON.parse(t)}}var BF=Object.freeze({__proto__:null,storeData:xF,getData:IF,removeData:function(e){window.localStorage&&window.JSON&&e&&localStorage.removeItem(e)}}),RF=LL((function(e,t){var r;e.exports=r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),"undefined"!=typeof self&&self.crypto&&(r=self.crypto),"undefined"!=typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&void 0!==OL&&OL.crypto&&(r=OL.crypto),!r)try{r=dF}catch(e){}var n=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")},i=Object.create||function(){function e(){}return function(t){var r;return e.prototype=t,r=new e,e.prototype=null,r}}(),o={},a=o.lib={},s=a.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=a.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes,i=e.sigBytes;if(this.clamp(),n%4)for(var o=0;o<i;o++){var a=r[o>>>2]>>>24-o%4*8&255;t[n+o>>>2]|=a<<24-(n+o)%4*8}else for(var s=0;s<i;s+=4)t[n+s>>>2]=r[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(n());return new c.init(t,e)}}),u=o.enc={},l=u.Hex={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new c.init(r,t/2)}},f=u.Latin1={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i++){var o=t[i>>>2]>>>24-i%4*8&255;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new c.init(r,t)}},d=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(f.stringify(e)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return f.parse(unescape(encodeURIComponent(e)))}},p=a.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r,n=this._data,i=n.words,o=n.sigBytes,a=this.blockSize,s=o/(4*a),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,l=e.min(4*u,o);if(u){for(var f=0;f<u;f+=a)this._doProcessBlock(i,f);r=i.splice(0,u),n.sigBytes-=l}return new c.init(r,l)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),h=(a.Hasher=p.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new h.HMAC.init(e,r).finalize(t)}}}),o.algo={});return o}(Math)})),PF=(LL((function(e,t){var r,n,i,o,a,s;e.exports=(n=(r=s=RF).lib,i=n.Base,o=n.WordArray,(a=r.x64={}).Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),a.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,r=[],n=0;n<t;n++){var i=e[n];r.push(i.high),r.push(i.low)}return o.create(r,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),r=t.length,n=0;n<r;n++)t[n]=t[n].clone();return e}}),s)})),LL((function(e,t){var r;e.exports=(r=RF,function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var r=e.byteLength,n=[],i=0;i<r;i++)n[i>>>2]|=e[i]<<24-i%4*8;t.call(this,n,r)}else t.apply(this,arguments)}).prototype=e}}(),r.lib.WordArray)})),LL((function(e,t){var r;e.exports=(r=RF,function(){var e=r,t=e.lib.WordArray,n=e.enc;function i(e){return e<<8&4278255360|e>>>8&16711935}n.Utf16=n.Utf16BE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],i=0;i<r;i+=2){var o=t[i>>>2]>>>16-i%4*8&65535;n.push(String.fromCharCode(o))}return n.join("")},parse:function(e){for(var r=e.length,n=[],i=0;i<r;i++)n[i>>>1]|=e.charCodeAt(i)<<16-i%2*16;return t.create(n,2*r)}},n.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,n=[],o=0;o<r;o+=2){var a=i(t[o>>>2]>>>16-o%4*8&65535);n.push(String.fromCharCode(a))}return n.join("")},parse:function(e){for(var r=e.length,n=[],o=0;o<r;o++)n[o>>>1]|=i(e.charCodeAt(o)<<16-o%2*16);return t.create(n,2*r)}}}(),r.enc.Utf16)})),LL((function(e,t){var r;e.exports=(r=RF,function(){var e=r,t=e.lib.WordArray;function n(e,r,n){for(var i=[],o=0,a=0;a<r;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2|n[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return t.create(i,o)}e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp();for(var i=[],o=0;o<r;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<r;s++)i.push(n.charAt(a>>>6*(3-s)&63));var c=n.charAt(64);if(c)for(;i.length%4;)i.push(c);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return n(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)})),LL((function(e,t){var r;e.exports=(r=RF,function(){var e=r,t=e.lib.WordArray;function n(e,r,n){for(var i=[],o=0,a=0;a<r;a++)if(a%4){var s=n[e.charCodeAt(a-1)]<<a%4*2|n[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return t.create(i,o)}e.enc.Base64url={stringify:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.words,n=e.sigBytes,i=t?this._safe_map:this._map;e.clamp();for(var o=[],a=0;a<n;a+=3)for(var s=(r[a>>>2]>>>24-a%4*8&255)<<16|(r[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|r[a+2>>>2]>>>24-(a+2)%4*8&255,c=0;c<4&&a+.75*c<n;c++)o.push(i.charAt(s>>>6*(3-c)&63));var u=i.charAt(64);if(u)for(;o.length%4;)o.push(u);return o.join("")},parse:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.length,i=t?this._safe_map:this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var a=0;a<i.length;a++)o[i.charCodeAt(a)]=a}var s=i.charAt(64);if(s){var c=e.indexOf(s);-1!==c&&(r=c)}return n(e,r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"}}(),r.enc.Base64url)})),LL((function(e,t){var r;e.exports=(r=RF,function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var c=a.MD5=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o=this._hash.words,a=e[t+0],c=e[t+1],p=e[t+2],h=e[t+3],g=e[t+4],m=e[t+5],v=e[t+6],y=e[t+7],b=e[t+8],w=e[t+9],C=e[t+10],E=e[t+11],k=e[t+12],S=e[t+13],_=e[t+14],A=e[t+15],T=o[0],x=o[1],I=o[2],B=o[3];T=u(T,x,I,B,a,7,s[0]),B=u(B,T,x,I,c,12,s[1]),I=u(I,B,T,x,p,17,s[2]),x=u(x,I,B,T,h,22,s[3]),T=u(T,x,I,B,g,7,s[4]),B=u(B,T,x,I,m,12,s[5]),I=u(I,B,T,x,v,17,s[6]),x=u(x,I,B,T,y,22,s[7]),T=u(T,x,I,B,b,7,s[8]),B=u(B,T,x,I,w,12,s[9]),I=u(I,B,T,x,C,17,s[10]),x=u(x,I,B,T,E,22,s[11]),T=u(T,x,I,B,k,7,s[12]),B=u(B,T,x,I,S,12,s[13]),I=u(I,B,T,x,_,17,s[14]),T=l(T,x=u(x,I,B,T,A,22,s[15]),I,B,c,5,s[16]),B=l(B,T,x,I,v,9,s[17]),I=l(I,B,T,x,E,14,s[18]),x=l(x,I,B,T,a,20,s[19]),T=l(T,x,I,B,m,5,s[20]),B=l(B,T,x,I,C,9,s[21]),I=l(I,B,T,x,A,14,s[22]),x=l(x,I,B,T,g,20,s[23]),T=l(T,x,I,B,w,5,s[24]),B=l(B,T,x,I,_,9,s[25]),I=l(I,B,T,x,h,14,s[26]),x=l(x,I,B,T,b,20,s[27]),T=l(T,x,I,B,S,5,s[28]),B=l(B,T,x,I,p,9,s[29]),I=l(I,B,T,x,y,14,s[30]),T=f(T,x=l(x,I,B,T,k,20,s[31]),I,B,m,4,s[32]),B=f(B,T,x,I,b,11,s[33]),I=f(I,B,T,x,E,16,s[34]),x=f(x,I,B,T,_,23,s[35]),T=f(T,x,I,B,c,4,s[36]),B=f(B,T,x,I,g,11,s[37]),I=f(I,B,T,x,y,16,s[38]),x=f(x,I,B,T,C,23,s[39]),T=f(T,x,I,B,S,4,s[40]),B=f(B,T,x,I,a,11,s[41]),I=f(I,B,T,x,h,16,s[42]),x=f(x,I,B,T,v,23,s[43]),T=f(T,x,I,B,w,4,s[44]),B=f(B,T,x,I,k,11,s[45]),I=f(I,B,T,x,A,16,s[46]),T=d(T,x=f(x,I,B,T,p,23,s[47]),I,B,a,6,s[48]),B=d(B,T,x,I,y,10,s[49]),I=d(I,B,T,x,_,15,s[50]),x=d(x,I,B,T,m,21,s[51]),T=d(T,x,I,B,k,6,s[52]),B=d(B,T,x,I,h,10,s[53]),I=d(I,B,T,x,C,15,s[54]),x=d(x,I,B,T,c,21,s[55]),T=d(T,x,I,B,b,6,s[56]),B=d(B,T,x,I,A,10,s[57]),I=d(I,B,T,x,v,15,s[58]),x=d(x,I,B,T,S,21,s[59]),T=d(T,x,I,B,g,6,s[60]),B=d(B,T,x,I,E,10,s[61]),I=d(I,B,T,x,p,15,s[62]),x=d(x,I,B,T,w,21,s[63]),o[0]=o[0]+T|0,o[1]=o[1]+x|0,o[2]=o[2]+I|0,o[3]=o[3]+B|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;r[i>>>5]|=128<<24-i%32;var o=e.floor(n/4294967296),a=n;r[15+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),r[14+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(r.length+1),this._process();for(var s=this._hash,c=s.words,u=0;u<4;u++){var l=c[u];c[u]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8)}return s},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function u(e,t,r,n,i,o,a){var s=e+(t&r|~t&n)+i+a;return(s<<o|s>>>32-o)+t}function l(e,t,r,n,i,o,a){var s=e+(t&n|r&~n)+i+a;return(s<<o|s>>>32-o)+t}function f(e,t,r,n,i,o,a){var s=e+(t^r^n)+i+a;return(s<<o|s>>>32-o)+t}function d(e,t,r,n,i,o,a){var s=e+(r^(t|~n))+i+a;return(s<<o|s>>>32-o)+t}t.MD5=o._createHelper(c),t.HmacMD5=o._createHmacHelper(c)}(Math),r.MD5)})),LL((function(e,t){var r,n,i,o,a,s,c,u;e.exports=(n=(r=u=RF).lib,i=n.WordArray,o=n.Hasher,a=r.algo,s=[],c=a.SHA1=o.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],c=r[4],u=0;u<80;u++){if(u<16)s[u]=0|e[t+u];else{var l=s[u-3]^s[u-8]^s[u-14]^s[u-16];s[u]=l<<1|l>>>31}var f=(n<<5|n>>>27)+c+s[u];f+=u<20?1518500249+(i&o|~i&a):u<40?1859775393+(i^o^a):u<60?(i&o|i&a|o&a)-1894007588:(i^o^a)-899497514,c=a,a=o,o=i<<30|i>>>2,i=n,n=f}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+c|0},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=Math.floor(r/4294967296),t[15+(n+64>>>9<<4)]=r,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=o._createHelper(c),r.HmacSHA1=o._createHmacHelper(c),u.SHA1)})),LL((function(e,t){var r;e.exports=(r=RF,function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=[],c=[];!function(){function t(t){for(var r=e.sqrt(t),n=2;n<=r;n++)if(!(t%n))return!1;return!0}function r(e){return 4294967296*(e-(0|e))|0}for(var n=2,i=0;i<64;)t(n)&&(i<8&&(s[i]=r(e.pow(n,.5))),c[i]=r(e.pow(n,1/3)),i++),n++}();var u=[],l=a.SHA256=o.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],l=r[5],f=r[6],d=r[7],p=0;p<64;p++){if(p<16)u[p]=0|e[t+p];else{var h=u[p-15],g=(h<<25|h>>>7)^(h<<14|h>>>18)^h>>>3,m=u[p-2],v=(m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10;u[p]=g+u[p-7]+v+u[p-16]}var y=n&i^n&o^i&o,b=(n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22),w=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&f)+c[p]+u[p];d=f,f=l,l=s,s=a+w|0,a=o,o=i,i=n,n=w+(b+y)|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+o|0,r[3]=r[3]+a|0,r[4]=r[4]+s|0,r[5]=r[5]+l|0,r[6]=r[6]+f|0,r[7]=r[7]+d|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(l),t.HmacSHA256=o._createHmacHelper(l)}(Math),r.SHA256)})),LL((function(e,t){var r,n,i,o,a,s;e.exports=(n=(r=s=RF).lib.WordArray,i=r.algo,o=i.SHA256,a=i.SHA224=o.extend({_doReset:function(){this._hash=new n.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}}),r.SHA224=o._createHelper(a),r.HmacSHA224=o._createHmacHelper(a),s.SHA224)})),LL((function(e,t){var r;e.exports=(r=RF,function(){var e=r,t=e.lib.Hasher,n=e.x64,i=n.Word,o=n.WordArray,a=e.algo;function s(){return i.create.apply(i,arguments)}var c=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],u=[];!function(){for(var e=0;e<80;e++)u[e]=s()}();var l=a.SHA512=t.extend({_doReset:function(){this._hash=new o.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],o=r[2],a=r[3],s=r[4],l=r[5],f=r[6],d=r[7],p=n.high,h=n.low,g=i.high,m=i.low,v=o.high,y=o.low,b=a.high,w=a.low,C=s.high,E=s.low,k=l.high,S=l.low,_=f.high,A=f.low,T=d.high,x=d.low,I=p,B=h,R=g,P=m,N=v,O=y,D=b,L=w,M=C,U=E,j=k,F=S,V=_,z=A,K=T,q=x,H=0;H<80;H++){var Q,W,G=u[H];if(H<16)W=G.high=0|e[t+2*H],Q=G.low=0|e[t+2*H+1];else{var Y=u[H-15],X=Y.high,$=Y.low,Z=(X>>>1|$<<31)^(X>>>8|$<<24)^X>>>7,J=($>>>1|X<<31)^($>>>8|X<<24)^($>>>7|X<<25),ee=u[H-2],te=ee.high,re=ee.low,ne=(te>>>19|re<<13)^(te<<3|re>>>29)^te>>>6,ie=(re>>>19|te<<13)^(re<<3|te>>>29)^(re>>>6|te<<26),oe=u[H-7],ae=oe.high,se=oe.low,ce=u[H-16],ue=ce.high,le=ce.low;W=(W=(W=Z+ae+((Q=J+se)>>>0<J>>>0?1:0))+ne+((Q+=ie)>>>0<ie>>>0?1:0))+ue+((Q+=le)>>>0<le>>>0?1:0),G.high=W,G.low=Q}var fe,de=M&j^~M&V,pe=U&F^~U&z,he=I&R^I&N^R&N,ge=B&P^B&O^P&O,me=(I>>>28|B<<4)^(I<<30|B>>>2)^(I<<25|B>>>7),ve=(B>>>28|I<<4)^(B<<30|I>>>2)^(B<<25|I>>>7),ye=(M>>>14|U<<18)^(M>>>18|U<<14)^(M<<23|U>>>9),be=(U>>>14|M<<18)^(U>>>18|M<<14)^(U<<23|M>>>9),we=c[H],Ce=we.high,Ee=we.low,ke=K+ye+((fe=q+be)>>>0<q>>>0?1:0),Se=ve+ge;K=V,q=z,V=j,z=F,j=M,F=U,M=D+(ke=(ke=(ke=ke+de+((fe+=pe)>>>0<pe>>>0?1:0))+Ce+((fe+=Ee)>>>0<Ee>>>0?1:0))+W+((fe+=Q)>>>0<Q>>>0?1:0))+((U=L+fe|0)>>>0<L>>>0?1:0)|0,D=N,L=O,N=R,O=P,R=I,P=B,I=ke+(me+he+(Se>>>0<ve>>>0?1:0))+((B=fe+Se|0)>>>0<fe>>>0?1:0)|0}h=n.low=h+B,n.high=p+I+(h>>>0<B>>>0?1:0),m=i.low=m+P,i.high=g+R+(m>>>0<P>>>0?1:0),y=o.low=y+O,o.high=v+N+(y>>>0<O>>>0?1:0),w=a.low=w+L,a.high=b+D+(w>>>0<L>>>0?1:0),E=s.low=E+U,s.high=C+M+(E>>>0<U>>>0?1:0),S=l.low=S+F,l.high=k+j+(S>>>0<F>>>0?1:0),A=f.low=A+z,f.high=_+V+(A>>>0<z>>>0?1:0),x=d.low=x+q,d.high=T+K+(x>>>0<q>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;return t[n>>>5]|=128<<24-n%32,t[30+(n+128>>>10<<5)]=Math.floor(r/4294967296),t[31+(n+128>>>10<<5)]=r,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(l),e.HmacSHA512=t._createHmacHelper(l)}(),r.SHA512)})),LL((function(e,t){var r,n,i,o,a,s,c,u;e.exports=(n=(r=u=RF).x64,i=n.Word,o=n.WordArray,a=r.algo,s=a.SHA512,c=a.SHA384=s.extend({_doReset:function(){this._hash=new o.init([new i.init(3418070365,3238371032),new i.init(1654270250,914150663),new i.init(2438529370,812702999),new i.init(355462360,4144912697),new i.init(1731405415,4290775857),new i.init(2394180231,1750603025),new i.init(3675008525,1694076839),new i.init(1203062813,3204075428)])},_doFinalize:function(){var e=s._doFinalize.call(this);return e.sigBytes-=16,e}}),r.SHA384=s._createHelper(c),r.HmacSHA384=s._createHmacHelper(c),u.SHA384)})),LL((function(e,t){var r;e.exports=(r=RF,function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.x64.Word,s=t.algo,c=[],u=[],l=[];!function(){for(var e=1,t=0,r=0;r<24;r++){c[e+5*t]=(r+1)*(r+2)/2%64;var n=(2*e+3*t)%5;e=t%5,t=n}for(e=0;e<5;e++)for(t=0;t<5;t++)u[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,o=0;o<24;o++){for(var s=0,f=0,d=0;d<7;d++){if(1&i){var p=(1<<d)-1;p<32?f^=1<<p:s^=1<<p-32}128&i?i=i<<1^113:i<<=1}l[o]=a.create(s,f)}}();var f=[];!function(){for(var e=0;e<25;e++)f[e]=a.create()}();var d=s.SHA3=o.extend({cfg:o.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new a.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var r=this._state,n=this.blockSize/2,i=0;i<n;i++){var o=e[t+2*i],a=e[t+2*i+1];o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(x=r[i]).high^=a,x.low^=o}for(var s=0;s<24;s++){for(var d=0;d<5;d++){for(var p=0,h=0,g=0;g<5;g++)p^=(x=r[d+5*g]).high,h^=x.low;var m=f[d];m.high=p,m.low=h}for(d=0;d<5;d++){var v=f[(d+4)%5],y=f[(d+1)%5],b=y.high,w=y.low;for(p=v.high^(b<<1|w>>>31),h=v.low^(w<<1|b>>>31),g=0;g<5;g++)(x=r[d+5*g]).high^=p,x.low^=h}for(var C=1;C<25;C++){var E=(x=r[C]).high,k=x.low,S=c[C];S<32?(p=E<<S|k>>>32-S,h=k<<S|E>>>32-S):(p=k<<S-32|E>>>64-S,h=E<<S-32|k>>>64-S);var _=f[u[C]];_.high=p,_.low=h}var A=f[0],T=r[0];for(A.high=T.high,A.low=T.low,d=0;d<5;d++)for(g=0;g<5;g++){var x=r[C=d+5*g],I=f[C],B=f[(d+1)%5+5*g],R=f[(d+2)%5+5*g];x.high=I.high^~B.high&R.high,x.low=I.low^~B.low&R.low}x=r[0];var P=l[s];x.high^=P.high,x.low^=P.low}},_doFinalize:function(){var t=this._data,r=t.words,n=(this._nDataBytes,8*t.sigBytes),o=32*this.blockSize;r[n>>>5]|=1<<24-n%32,r[(e.ceil((n+1)/o)*o>>>5)-1]|=128,t.sigBytes=4*r.length,this._process();for(var a=this._state,s=this.cfg.outputLength/8,c=s/8,u=[],l=0;l<c;l++){var f=a[l],d=f.high,p=f.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8),u.push(p),u.push(d)}return new i.init(u,s)},clone:function(){for(var e=o.clone.call(this),t=e._state=this._state.slice(0),r=0;r<25;r++)t[r]=t[r].clone();return e}});t.SHA3=o._createHelper(d),t.HmacSHA3=o._createHmacHelper(d)}(Math),r.SHA3)})),LL((function(e,t){var r;e.exports=(r=RF,
/** @preserve
	  	(c) 2012 by Cédric Mesnil. All rights reserved.
	  
	  	Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:
	  
	  	    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
	  	    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.
	  
	  	THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
	  	*/
function(e){var t=r,n=t.lib,i=n.WordArray,o=n.Hasher,a=t.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),c=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),u=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),l=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),f=i.create([0,1518500249,1859775393,2400959708,2840853838]),d=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=a.RIPEMD160=o.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var r=0;r<16;r++){var n=t+r,i=e[n];e[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var o,a,p,w,C,E,k,S,_,A,T,x=this._hash.words,I=f.words,B=d.words,R=s.words,P=c.words,N=u.words,O=l.words;for(E=o=x[0],k=a=x[1],S=p=x[2],_=w=x[3],A=C=x[4],r=0;r<80;r+=1)T=o+e[t+R[r]]|0,T+=r<16?h(a,p,w)+I[0]:r<32?g(a,p,w)+I[1]:r<48?m(a,p,w)+I[2]:r<64?v(a,p,w)+I[3]:y(a,p,w)+I[4],T=(T=b(T|=0,N[r]))+C|0,o=C,C=w,w=b(p,10),p=a,a=T,T=E+e[t+P[r]]|0,T+=r<16?y(k,S,_)+B[0]:r<32?v(k,S,_)+B[1]:r<48?m(k,S,_)+B[2]:r<64?g(k,S,_)+B[3]:h(k,S,_)+B[4],T=(T=b(T|=0,O[r]))+A|0,E=A,A=_,_=b(S,10),S=k,k=T;T=x[1]+p+_|0,x[1]=x[2]+w+A|0,x[2]=x[3]+C+E|0,x[3]=x[4]+o+k|0,x[4]=x[0]+a+S|0,x[0]=T},_doFinalize:function(){var e=this._data,t=e.words,r=8*this._nDataBytes,n=8*e.sigBytes;t[n>>>5]|=128<<24-n%32,t[14+(n+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,o=i.words,a=0;a<5;a++){var s=o[a];o[a]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});function h(e,t,r){return e^t^r}function g(e,t,r){return e&t|~e&r}function m(e,t,r){return(e|~t)^r}function v(e,t,r){return e&r|t&~r}function y(e,t,r){return e^(t|~r)}function b(e,t){return e<<t|e>>>32-t}t.RIPEMD160=o._createHelper(p),t.HmacRIPEMD160=o._createHmacHelper(p)}(),r.RIPEMD160)})),LL((function(e,t){var r,n,i;e.exports=(n=(r=RF).lib.Base,i=r.enc.Utf8,void(r.algo.HMAC=n.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,c=a.words,u=0;u<r;u++)s[u]^=1549556828,c[u]^=909522486;o.sigBytes=a.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,r=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(r))}})))})),LL((function(e,t){var r,n,i,o,a,s,c,u,l;e.exports=(i=(n=(r=l=RF).lib).Base,o=n.WordArray,s=(a=r.algo).SHA1,c=a.HMAC,u=a.PBKDF2=i.extend({cfg:i.extend({keySize:4,hasher:s,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r=this.cfg,n=c.create(r.hasher,e),i=o.create(),a=o.create([1]),s=i.words,u=a.words,l=r.keySize,f=r.iterations;s.length<l;){var d=n.update(t).finalize(a);n.reset();for(var p=d.words,h=p.length,g=d,m=1;m<f;m++){g=n.finalize(g),n.reset();for(var v=g.words,y=0;y<h;y++)p[y]^=v[y]}i.concat(d),u[0]++}return i.sigBytes=4*l,i}}),r.PBKDF2=function(e,t,r){return u.create(r).compute(e,t)},l.PBKDF2)})),LL((function(e,t){var r;e.exports=(r=RF,function(){var e=r,t=e.lib,n=t.Base,i=t.WordArray,o=e.algo,a=o.MD5,s=o.EvpKDF=n.extend({cfg:n.extend({keySize:4,hasher:a,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var r,n=this.cfg,o=n.hasher.create(),a=i.create(),s=a.words,c=n.keySize,u=n.iterations;s.length<c;){r&&o.update(r),r=o.update(e).finalize(t),o.reset();for(var l=1;l<u;l++)r=o.finalize(r),o.reset();a.concat(r)}return a.sigBytes=4*c,a}});e.EvpKDF=function(e,t,r){return s.create(r).compute(e,t)}}(),r.EvpKDF)})),LL((function(e,t){var r,n,i,o,a,s,c,u,l,f,d,p,h,g,m,v,y,b,w;e.exports=void((r=RF).lib.Cipher||(n=r,i=n.lib,o=i.Base,a=i.WordArray,s=i.BufferedBlockAlgorithm,c=n.enc,c.Utf8,u=c.Base64,l=n.algo.EvpKDF,f=i.Cipher=s.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,r){this.cfg=this.cfg.extend(r),this._xformMode=e,this._key=t,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?w:y}return function(t){return{encrypt:function(r,n,i){return e(n).encrypt(t,r,n,i)},decrypt:function(r,n,i){return e(n).decrypt(t,r,n,i)}}}}()}),i.StreamCipher=f.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),d=n.mode={},p=i.BlockCipherMode=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),h=d.CBC=function(){var e=p.extend();function t(e,t,r){var n,i=this._iv;i?(n=i,this._iv=undefined):n=this._prevBlock;for(var o=0;o<r;o++)e[t+o]^=n[o]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i),n.encryptBlock(e,r),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,o=e.slice(r,r+i);n.decryptBlock(e,r),t.call(this,e,r,i),this._prevBlock=o}}),e}(),g=(n.pad={}).Pkcs7={pad:function(e,t){for(var r=4*t,n=r-e.sigBytes%r,i=n<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(i);var c=a.create(o,n);e.concat(c)},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},i.BlockCipher=f.extend({cfg:f.cfg.extend({mode:h,padding:g}),reset:function(){var e;f.reset.call(this);var t=this.cfg,r=t.iv,n=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=n.createEncryptor:(e=n.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,r&&r.words):(this._mode=e.call(n,this,r&&r.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),m=i.CipherParams=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),v=(n.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,r=e.salt;return(r?a.create([1398893684,1701076831]).concat(r).concat(t):t).toString(u)},parse:function(e){var t,r=u.parse(e),n=r.words;return 1398893684==n[0]&&1701076831==n[1]&&(t=a.create(n.slice(2,4)),n.splice(0,4),r.sigBytes-=16),m.create({ciphertext:r,salt:t})}},y=i.SerializableCipher=o.extend({cfg:o.extend({format:v}),encrypt:function(e,t,r,n){n=this.cfg.extend(n);var i=e.createEncryptor(r,n),o=i.finalize(t),a=i.cfg;return m.create({ciphertext:o,key:r,iv:a.iv,algorithm:e,mode:a.mode,padding:a.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,r,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(r,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),b=(n.kdf={}).OpenSSL={execute:function(e,t,r,n){n||(n=a.random(8));var i=l.create({keySize:t+r}).compute(e,n),o=a.create(i.words.slice(t),4*r);return i.sigBytes=4*t,m.create({key:i,iv:o,salt:n})}},w=i.PasswordBasedCipher=y.extend({cfg:y.cfg.extend({kdf:b}),encrypt:function(e,t,r,n){var i=(n=this.cfg.extend(n)).kdf.execute(r,e.keySize,e.ivSize);n.iv=i.iv;var o=y.encrypt.call(this,e,t,i.key,n);return o.mixIn(i),o},decrypt:function(e,t,r,n){n=this.cfg.extend(n),t=this._parse(t,n.format);var i=n.kdf.execute(r,e.keySize,e.ivSize,t.salt);return n.iv=i.iv,y.decrypt.call(this,e,t,i.key,n)}})))})),LL((function(e,t){var r;e.exports=((r=RF).mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();function t(e,t,r,n){var i,o=this._iv;o?(i=o.slice(0),this._iv=void 0):i=this._prevBlock,n.encryptBlock(i,0);for(var a=0;a<r;a++)e[t+a]^=i[a]}return e.Encryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize;t.call(this,e,r,i,n),this._prevBlock=e.slice(r,r+i)}}),e.Decryptor=e.extend({processBlock:function(e,r){var n=this._cipher,i=n.blockSize,o=e.slice(r,r+i);t.call(this,e,r,i,n),this._prevBlock=o}}),e}(),r.mode.CFB)})),LL((function(e,t){var r,n,i;e.exports=((i=RF).mode.CTR=(n=(r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._counter;i&&(o=this._counter=i.slice(0),this._iv=void 0);var a=o.slice(0);r.encryptBlock(a,0),o[n-1]=o[n-1]+1|0;for(var s=0;s<n;s++)e[t+s]^=a[s]}}),r.Decryptor=n,r),i.mode.CTR)})),LL((function(e,t){var r;e.exports=(
/** @preserve
	  	 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
	  	 * derived from CryptoJS.mode.CTR
	  	 * Jan Hruby jhruby.web@gmail.com
	  	 */
(r=RF).mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,r=e>>8&255,n=255&e;255===t?(t=0,255===r?(r=0,255===n?n=0:++n):++r):++t,e=0,e+=t<<16,e+=r<<8,e+=n}else e+=1<<24;return e}function n(e){return 0===(e[0]=t(e[0]))&&(e[1]=t(e[1])),e}var i=e.Encryptor=e.extend({processBlock:function(e,t){var r=this._cipher,i=r.blockSize,o=this._iv,a=this._counter;o&&(a=this._counter=o.slice(0),this._iv=void 0),n(a);var s=a.slice(0);r.encryptBlock(s,0);for(var c=0;c<i;c++)e[t+c]^=s[c]}});return e.Decryptor=i,e}(),r.mode.CTRGladman)})),LL((function(e,t){var r,n,i;e.exports=((i=RF).mode.OFB=(n=(r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){var r=this._cipher,n=r.blockSize,i=this._iv,o=this._keystream;i&&(o=this._keystream=i.slice(0),this._iv=void 0),r.encryptBlock(o,0);for(var a=0;a<n;a++)e[t+a]^=o[a]}}),r.Decryptor=n,r),i.mode.OFB)})),LL((function(e,t){var r,n;e.exports=((n=RF).mode.ECB=((r=n.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),r.Decryptor=r.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),r),n.mode.ECB)})),LL((function(e,t){var r;e.exports=((r=RF).pad.AnsiX923={pad:function(e,t){var r=e.sigBytes,n=4*t,i=n-r%n,o=r+i-1;e.clamp(),e.words[o>>>2]|=i<<24-o%4*8,e.sigBytes+=i},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Ansix923)})),LL((function(e,t){var r;e.exports=((r=RF).pad.Iso10126={pad:function(e,t){var n=4*t,i=n-e.sigBytes%n;e.concat(r.lib.WordArray.random(i-1)).concat(r.lib.WordArray.create([i<<24],1))},unpad:function(e){var t=255&e.words[e.sigBytes-1>>>2];e.sigBytes-=t}},r.pad.Iso10126)})),LL((function(e,t){var r;e.exports=((r=RF).pad.Iso97971={pad:function(e,t){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,t)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971)})),LL((function(e,t){var r;e.exports=((r=RF).pad.ZeroPadding={pad:function(e,t){var r=4*t;e.clamp(),e.sigBytes+=r-(e.sigBytes%r||r)},unpad:function(e){var t=e.words,r=e.sigBytes-1;for(r=e.sigBytes-1;r>=0;r--)if(t[r>>>2]>>>24-r%4*8&255){e.sigBytes=r+1;break}}},r.pad.ZeroPadding)})),LL((function(e,t){var r;e.exports=((r=RF).pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)})),LL((function(e,t){var r,n,i,o;e.exports=(n=(r=o=RF).lib.CipherParams,i=r.enc.Hex,r.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return n.create({ciphertext:t})}},o.format.Hex)})),LL((function(e,t){var r;e.exports=(r=RF,function(){var e=r,t=e.lib.BlockCipher,n=e.algo,i=[],o=[],a=[],s=[],c=[],u=[],l=[],f=[],d=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var r=0,n=0;for(t=0;t<256;t++){var h=n^n<<1^n<<2^n<<3^n<<4;h=h>>>8^255&h^99,i[r]=h,o[h]=r;var g=e[r],m=e[g],v=e[m],y=257*e[h]^16843008*h;a[r]=y<<24|y>>>8,s[r]=y<<16|y>>>16,c[r]=y<<8|y>>>24,u[r]=y,y=16843009*v^65537*m^257*g^16843008*r,l[h]=y<<24|y>>>8,f[h]=y<<16|y>>>16,d[h]=y<<8|y>>>24,p[h]=y,r?(r=g^e[e[e[v^g]]],n^=e[e[n]]):r=n=1}}();var h=[0,1,2,4,8,16,32,64,128,27,54],g=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,r=e.sigBytes/4,n=4*((this._nRounds=r+6)+1),o=this._keySchedule=[],a=0;a<n;a++)a<r?o[a]=t[a]:(u=o[a-1],a%r?r>6&&a%r==4&&(u=i[u>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u]):(u=i[(u=u<<8|u>>>24)>>>24]<<24|i[u>>>16&255]<<16|i[u>>>8&255]<<8|i[255&u],u^=h[a/r|0]<<24),o[a]=o[a-r]^u);for(var s=this._invKeySchedule=[],c=0;c<n;c++){if(a=n-c,c%4)var u=o[a];else u=o[a-4];s[c]=c<4||a<=4?u:l[i[u>>>24]]^f[i[u>>>16&255]]^d[i[u>>>8&255]]^p[i[255&u]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,a,s,c,u,i)},decryptBlock:function(e,t){var r=e[t+1];e[t+1]=e[t+3],e[t+3]=r,this._doCryptBlock(e,t,this._invKeySchedule,l,f,d,p,o),r=e[t+1],e[t+1]=e[t+3],e[t+3]=r},_doCryptBlock:function(e,t,r,n,i,o,a,s){for(var c=this._nRounds,u=e[t]^r[0],l=e[t+1]^r[1],f=e[t+2]^r[2],d=e[t+3]^r[3],p=4,h=1;h<c;h++){var g=n[u>>>24]^i[l>>>16&255]^o[f>>>8&255]^a[255&d]^r[p++],m=n[l>>>24]^i[f>>>16&255]^o[d>>>8&255]^a[255&u]^r[p++],v=n[f>>>24]^i[d>>>16&255]^o[u>>>8&255]^a[255&l]^r[p++],y=n[d>>>24]^i[u>>>16&255]^o[l>>>8&255]^a[255&f]^r[p++];u=g,l=m,f=v,d=y}g=(s[u>>>24]<<24|s[l>>>16&255]<<16|s[f>>>8&255]<<8|s[255&d])^r[p++],m=(s[l>>>24]<<24|s[f>>>16&255]<<16|s[d>>>8&255]<<8|s[255&u])^r[p++],v=(s[f>>>24]<<24|s[d>>>16&255]<<16|s[u>>>8&255]<<8|s[255&l])^r[p++],y=(s[d>>>24]<<24|s[u>>>16&255]<<16|s[l>>>8&255]<<8|s[255&f])^r[p++],e[t]=g,e[t+1]=m,e[t+2]=v,e[t+3]=y},keySize:8});e.AES=t._createHelper(g)}(),r.AES)})),LL((function(e,t){var r;e.exports=(r=RF,function(){var e=r,t=e.lib,n=t.WordArray,i=t.BlockCipher,o=e.algo,a=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],c=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],l=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],f=o.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],r=0;r<56;r++){var n=a[r]-1;t[r]=e[n>>>5]>>>31-n%32&1}for(var i=this._subKeys=[],o=0;o<16;o++){var u=i[o]=[],l=c[o];for(r=0;r<24;r++)u[r/6|0]|=t[(s[r]-1+l)%28]<<31-r%6,u[4+(r/6|0)]|=t[28+(s[r+24]-1+l)%28]<<31-r%6;for(u[0]=u[0]<<1|u[0]>>>31,r=1;r<7;r++)u[r]=u[r]>>>4*(r-1)+3;u[7]=u[7]<<5|u[7]>>>27}var f=this._invSubKeys=[];for(r=0;r<16;r++)f[r]=i[15-r]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,r){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),d.call(this,1,1431655765);for(var n=0;n<16;n++){for(var i=r[n],o=this._lBlock,a=this._rBlock,s=0,c=0;c<8;c++)s|=u[c][((a^i[c])&l[c])>>>0];this._lBlock=a,this._rBlock=o^s}var f=this._lBlock;this._lBlock=this._rBlock,this._rBlock=f,d.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var r=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=r,this._lBlock^=r<<e}function p(e,t){var r=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=r,this._rBlock^=r<<e}e.DES=i._createHelper(f);var h=o.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=f.createEncryptor(n.create(t)),this._des2=f.createEncryptor(n.create(r)),this._des3=f.createEncryptor(n.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=i._createHelper(h)}(),r.TripleDES)})),LL((function(e,t){var r;e.exports=(r=RF,function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,r=e.sigBytes,n=this._S=[],i=0;i<256;i++)n[i]=i;i=0;for(var o=0;i<256;i++){var a=i%r,s=t[a>>>2]>>>24-a%4*8&255;o=(o+n[i]+s)%256;var c=n[i];n[i]=n[o],n[o]=c}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=o.call(this)},keySize:8,ivSize:0});function o(){for(var e=this._S,t=this._i,r=this._j,n=0,i=0;i<4;i++){r=(r+e[t=(t+1)%256])%256;var o=e[t];e[t]=e[r],e[r]=o,n|=e[(e[t]+e[r])%256]<<24-8*i}return this._i=t,this._j=r,n}e.RC4=t._createHelper(i);var a=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)o.call(this)}});e.RC4Drop=t._createHelper(a)}(),r.RC4)})),LL((function(e,t){var r;e.exports=(r=RF,function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=[],o=[],a=[],s=n.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,r=0;r<4;r++)e[r]=16711935&(e[r]<<8|e[r]>>>24)|4278255360&(e[r]<<24|e[r]>>>8);var n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,r=0;r<4;r++)c.call(this);for(r=0;r<8;r++)i[r]^=n[r+4&7];if(t){var o=t.words,a=o[0],s=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=u>>>16|4294901760&l,d=l<<16|65535&u;for(i[0]^=u,i[1]^=f,i[2]^=l,i[3]^=d,i[4]^=u,i[5]^=f,i[6]^=l,i[7]^=d,r=0;r<4;r++)c.call(this)}},_doProcessBlock:function(e,t){var r=this._X;c.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,r=0;r<8;r++)o[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,s=n>>>16,c=((i*i>>>17)+i*s>>>15)+s*s,u=((4294901760&n)*n|0)+((65535&n)*n|0);a[r]=c^u}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=t._createHelper(s)}(),r.Rabbit)})),LL((function(e,t){var r;e.exports=(r=RF,function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=[],o=[],a=[],s=n.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],n=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)c.call(this);for(i=0;i<8;i++)n[i]^=r[i+4&7];if(t){var o=t.words,a=o[0],s=o[1],u=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),l=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),f=u>>>16|4294901760&l,d=l<<16|65535&u;for(n[0]^=u,n[1]^=f,n[2]^=l,n[3]^=d,n[4]^=u,n[5]^=f,n[6]^=l,n[7]^=d,i=0;i<4;i++)c.call(this)}},_doProcessBlock:function(e,t){var r=this._X;c.call(this),i[0]=r[0]^r[5]>>>16^r[3]<<16,i[1]=r[2]^r[7]>>>16^r[5]<<16,i[2]=r[4]^r[1]>>>16^r[7]<<16,i[3]=r[6]^r[3]>>>16^r[1]<<16;for(var n=0;n<4;n++)i[n]=16711935&(i[n]<<8|i[n]>>>24)|4278255360&(i[n]<<24|i[n]>>>8),e[t+n]^=i[n]},blockSize:4,ivSize:2});function c(){for(var e=this._X,t=this._C,r=0;r<8;r++)o[r]=t[r];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<o[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<o[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<o[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<o[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<o[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<o[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<o[6]>>>0?1:0)|0,this._b=t[7]>>>0<o[7]>>>0?1:0,r=0;r<8;r++){var n=e[r]+t[r],i=65535&n,s=n>>>16,c=((i*i>>>17)+i*s>>>15)+s*s,u=((4294901760&n)*n|0)+((65535&n)*n|0);a[r]=c^u}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=t._createHelper(s)}(),r.RabbitLegacy)})),LL((function(e,t){e.exports=RF}))),NF=function(e){var t=e.blob;return new Promise((function(e){var r=new FileReader;r.onload=function(t){var r=t.target.result,n=PF.MD5(PF.lib.WordArray.create(r)).toString();e(n)},r.readAsArrayBuffer(t)}))},OF=Object.freeze({__proto__:null,MD5:NF}),DF=["tracking"],LF=kF(),MF=Sw.createContext(),UF={enable:!1,accessKey:"",secretKey:"",apiUrl:"",userId:""},jF=function(){var e=sL(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u,l,f,d,p,h,g;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.tag,n=t.event,i=t.log,o=AF(new Date),a=i,e.t0=n,e.next="sdk_mode.read_id_card_one_side"===e.t0?6:"sdk_mode.liveness"===e.t0?19:36;break;case 6:return a=CF(i),s=i.result_object,e.next=10,NF({blob:s.image.blob});case 10:if(e.t1=e.sent,a.result_object.image={blob:e.t1},delete a.result_object.recordedVideos,!s.qrScannedResult){e.next=18;break}return e.next=16,NF({blob:s.qrScannedResult.image.blob});case 16:a.result_object.qrScannedResult.image.blob=e.sent,delete a.result_object.qrScannedResult.recordedVideos;case 18:return e.abrupt("break",36);case 19:return a=CF(i),c=i.result_object,u=c.steps,l=c.frontalFaces,f=c.frontalScaledImage,d=u.map((function(e){return NF({blob:e.image.blob})})),e.next=24,Promise.all(d);case 24:return p=e.sent,u.forEach((function(e,t){a.result_object.steps[t].image.blob=p[t]})),h=l.map((function(e){return NF({blob:e})})),e.next=29,Promise.all(h);case 29:if(g=e.sent,l.forEach((function(e,t){a.result_object.frontalFaces[t]=g[t]})),!f){e.next=35;break}return e.next=34,NF({blob:f});case 34:a.result_object.frontalScaledImage=e.sent;case 35:return e.abrupt("break",36);case 36:return e.abrupt("return",{tag:r,event:n,log:dL({device_time:o},a)});case 37:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function FF(e){var t,r=e.userId;if(r)t=r;else{var n=IF("user-id");if(n)t=n;else{var i=wF();t=i,xF(i,"user-id")}}return t}function VF(e){var t=e.value,r=e.children,n=t.tracking,i=void 0===n?UF:n,o=pL(t,DF),a=i.enable,s=i.accessKey,c=i.secretKey,u=i.apiUrl,l=i.userId,f=Sw.useMemo((function(){return a?u&&s&&c?new pF(s,c,u):(console.error("apiUrl, accessKey and secretKey are required when tracking is enabled"),null):null}),[a,s,c,u]),d=Sw.useMemo((function(){var e=FF({userId:l});return dL(dL({},LF),{},{"x-request-id":e})}),[l]),p=Sw.useCallback(sL(regeneratorRuntime.mark((function e(){var t,r,n,i,o,s,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},r=t.tag,n=t.event,i=t.log,o=void 0===i?{}:i,!a){e.next=11;break}return e.prev=2,e.next=5,jF({tag:r,event:n,log:o});case 5:s=e.sent,f.httpClient.post("/v1/log_events",s,d),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(2);case 11:case"end":return e.stop()}}),e,null,[[2,9]])}))),[f,d,a]);return Sw.createElement(MF.Provider,{value:dL(dL({},o),{},{sendEvent:p})},r)}function zF(){var e=Sw.useContext(MF);return Sw.useMemo((function(){return void 0===e?(console.warn("useSDKTracking must be used within a SDKTrackingProvider"),{sendEvent:function(){}}):e}),[e])}VF.propTypes={value:SC.shape({tracking:SC.shape({enable:SC.bool,accessKey:SC.string,secretKey:SC.string,apiUrl:SC.string,userId:SC.string})}).isRequired,children:SC.node.isRequired};var KF=Object.freeze({__proto__:null,defaultTrackingConfig:UF,getXRequestId:FF,SDKTrackingProvider:VF,useSDKTracking:zF});function qF(e,t){return e&&!e.endsWith("/")?[e,"/",t].join(""):[e,t].join("")}function HF(){var e=uF();return null==e?void 0:e.assetRoot}var QF=Object.freeze({__proto__:null,getAsset:qF,useAssetRoot:HF,useAsset:function(e){return qF(HF(),e)}});function WF(e){return new Promise((function(t){return setTimeout(t,e)}))}var GF=Object.freeze({__proto__:null,sleep:WF}),YF=Symbol("Comlink.proxy"),XF=Symbol("Comlink.endpoint"),$F=Symbol("Comlink.releaseProxy"),ZF=Symbol("Comlink.thrown"),JF=function(e){return"object"==ky(e)&&null!==e||"function"==typeof e},eV=new Map([["proxy",{canHandle:function(e){return JF(e)&&e[YF]},serialize:function(e){var t=new MessageChannel,r=t.port1,n=t.port2;return tV(e,r),[n,[n]]},deserialize:function(e){return e.start(),nV(e)}}],["throw",{canHandle:function(e){return JF(e)&&ZF in e},serialize:function(e){var t=e.value;return[t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[]]},deserialize:function(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function tV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;t.addEventListener("message",(function r(n){if(n&&n.data){var i,o=Object.assign({path:[]},n.data),a=o.id,s=o.type,c=o.path,u=(n.data.argumentList||[]).map(uV);try{var l=c.slice(0,-1).reduce((function(e,t){return e[t]}),e),f=c.reduce((function(e,t){return e[t]}),e);switch(s){case"GET":i=f;break;case"SET":l[c.slice(-1)[0]]=uV(n.data.value),i=!0;break;case"APPLY":i=f.apply(l,u);break;case"CONSTRUCT":i=function(e){return Object.assign(e,Iy({},YF,!0))}(My(f,Hy(u)));break;case"ENDPOINT":var d=new MessageChannel,p=d.port1,h=d.port2;tV(e,h),i=function(e,t){return sV.set(e,t),e}(p,[p]);break;case"RELEASE":i=void 0;break;default:return}}catch(e){i=Iy({value:e},ZF,0)}Promise.resolve(i).catch((function(e){return Iy({value:e},ZF,0)})).then((function(e){var n=qy(cV(e),2),i=n[0],o=n[1];t.postMessage(Object.assign(Object.assign({},i),{id:a}),o),"RELEASE"===s&&(t.removeEventListener("message",r),rV(t))}))}})),t.start&&t.start()}function rV(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function nV(e,t){return oV(e,[],t)}function iV(e){if(e)throw new Error("Proxy has been released and is not useable")}function oV(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},n=!1,i=new Proxy(r,{get:function(r,o){if(iV(n),o===$F)return function(){return lV(e,{type:"RELEASE",path:t.map((function(e){return e.toString()}))}).then((function(){rV(e),n=!0}))};if("then"===o){if(0===t.length)return{then:function(){return i}};var a=lV(e,{type:"GET",path:t.map((function(e){return e.toString()}))}).then(uV);return a.then.bind(a)}return oV(e,[].concat(Hy(t),[o]))},set:function(r,i,o){iV(n);var a=qy(cV(o),2),s=a[0],c=a[1];return lV(e,{type:"SET",path:[].concat(Hy(t),[i]).map((function(e){return e.toString()})),value:s},c).then(uV)},apply:function(r,i,o){iV(n);var a=t[t.length-1];if(a===XF)return lV(e,{type:"ENDPOINT"}).then(uV);if("bind"===a)return oV(e,t.slice(0,-1));var s=qy(aV(o),2),c=s[0],u=s[1];return lV(e,{type:"APPLY",path:t.map((function(e){return e.toString()})),argumentList:c},u).then(uV)},construct:function(r,i){iV(n);var o=qy(aV(i),2),a=o[0],s=o[1];return lV(e,{type:"CONSTRUCT",path:t.map((function(e){return e.toString()})),argumentList:a},s).then(uV)}});return i}function aV(e){var t,r=e.map(cV);return[r.map((function(e){return e[0]})),(t=r.map((function(e){return e[1]})),Array.prototype.concat.apply([],t))]}var sV=new WeakMap;function cV(e){var t,r=eb(eV);try{for(r.s();!(t=r.n()).done;){var n=qy(t.value,2),i=n[0],o=n[1];if(o.canHandle(e)){var a=qy(o.serialize(e),2);return[{type:"HANDLER",name:i,value:a[0]},a[1]]}}}catch(e){r.e(e)}finally{r.f()}return[{type:"RAW",value:e},sV.get(e)||[]]}function uV(e){switch(e.type){case"HANDLER":return eV.get(e.name).deserialize(e.value);case"RAW":return e.value}}function lV(e,t,r){return new Promise((function(n){var i=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join("-");e.addEventListener("message",(function t(r){r.data&&r.data.id&&r.data.id===i&&(e.removeEventListener("message",t),n(r.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:i},t),r)}))}var fV=function(){if(!window.Worker)return null;var e=new Blob(['const t=Symbol("Comlink.proxy"),e=Symbol("Comlink.endpoint"),r=Symbol("Comlink.releaseProxy"),n=Symbol("Comlink.thrown"),a=t=>"object"==typeof t&&null!==t||"function"==typeof t,o=new Map([["proxy",{canHandle:e=>a(e)&&e[t],serialize(t){const{port1:e,port2:r}=new MessageChannel;return i(t,e),[r,[r]]},deserialize(t){return t.start(),s(t,[],e);var e}}],["throw",{canHandle:t=>a(t)&&n in t,serialize({value:t}){let e;return e=t instanceof Error?{isError:!0,value:{message:t.message,name:t.name,stack:t.stack}}:{isError:!1,value:t},[e,[]]},deserialize(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function i(e,r=self){r.addEventListener("message",(function a(o){if(!o||!o.data)return;const{id:c,type:s,path:l}=Object.assign({path:[]},o.data),g=(o.data.argumentList||[]).map(m);let p;try{const r=l.slice(0,-1).reduce(((t,e)=>t[e]),e),n=l.reduce(((t,e)=>t[e]),e);switch(s){case"GET":p=n;break;case"SET":r[l.slice(-1)[0]]=m(o.data.value),p=!0;break;case"APPLY":p=n.apply(r,g);break;case"CONSTRUCT":p=function(e){return Object.assign(e,{[t]:!0})}(new n(...g));break;case"ENDPOINT":{const{port1:t,port2:r}=new MessageChannel;i(e,r),p=function(t,e){return f.set(t,e),t}(t,[t])}break;case"RELEASE":p=void 0;break;default:return}}catch(t){p={value:t,[n]:0}}Promise.resolve(p).catch((t=>({value:t,[n]:0}))).then((t=>{const[e,n]=h(t);r.postMessage(Object.assign(Object.assign({},e),{id:c}),n),"RELEASE"===s&&(r.removeEventListener("message",a),u(r))}))})),r.start&&r.start()}function u(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function c(t){if(t)throw new Error("Proxy has been released and is not useable")}function s(t,n=[],a=function(){}){let o=!1;const i=new Proxy(a,{get(e,a){if(c(o),a===r)return()=>g(t,{type:"RELEASE",path:n.map((t=>t.toString()))}).then((()=>{u(t),o=!0}));if("then"===a){if(0===n.length)return{then:()=>i};const e=g(t,{type:"GET",path:n.map((t=>t.toString()))}).then(m);return e.then.bind(e)}return s(t,[...n,a])},set(e,r,a){c(o);const[i,u]=h(a);return g(t,{type:"SET",path:[...n,r].map((t=>t.toString())),value:i},u).then(m)},apply(r,a,i){c(o);const u=n[n.length-1];if(u===e)return g(t,{type:"ENDPOINT"}).then(m);if("bind"===u)return s(t,n.slice(0,-1));const[f,h]=l(i);return g(t,{type:"APPLY",path:n.map((t=>t.toString())),argumentList:f},h).then(m)},construct(e,r){c(o);const[a,i]=l(r);return g(t,{type:"CONSTRUCT",path:n.map((t=>t.toString())),argumentList:a},i).then(m)}});return i}function l(t){const e=t.map(h);return[e.map((t=>t[0])),(r=e.map((t=>t[1])),Array.prototype.concat.apply([],r))];var r}const f=new WeakMap;function h(t){for(const[e,r]of o)if(r.canHandle(t)){const[n,a]=r.serialize(t);return[{type:"HANDLER",name:e,value:n},a]}return[{type:"RAW",value:t},f.get(t)||[]]}function m(t){switch(t.type){case"HANDLER":return o.get(t.name).deserialize(t.value);case"RAW":return t.value}}function g(t,e,r){return new Promise((n=>{const a=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");t.addEventListener("message",(function e(r){r.data&&r.data.id&&r.data.id===a&&(t.removeEventListener("message",e),n(r.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:a},e),r)}))}var p=[[0,1,0],[1,-4,1],[0,1,0]];function d(t,e,r,n){return t[4*(r*e+n)]}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var r=[],n=!0,a=!1,o=void 0;try{for(var i,u=t[Symbol.iterator]();!(n=(i=u.next()).done)&&(r.push(i.value),!e||r.length!==e);n=!0);}catch(t){a=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}return r}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance. In order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var E="frontal",S="left",w="right",M="up",k="down",_=0,A=1,R=2;function L(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=y(t,2),a=n[0],o=n[1],i=y(e,2),u=i[0],c=i[1],s=[a[0],o[0]],l=[a[1],o[1]];return s[0]+r<=u[0]&&c[0]<=s[1]-r&&l[0]+r<=u[1]&&c[1]<=l[1]-.8*r?R:s[0]<=u[0]||c[0]<=s[1]||l[0]<=u[1]||c[1]<=l[1]?A:_}var P={code:"no_face",msg:{en:"Face not found",vi:"Không tìm thấy khuôn mặt"}},O={code:"partial_face",msg:{en:"Face out of the box",vi:"Không tìm thấy toàn bộ khuôn mặt"}},j={code:"multiple_faces",msg:{en:"Too many faces",vi:"Quá nhiều khuôn mặt"}},T={code:"face_too_small",msg:{en:"Face too small",vi:"Khuôn mặt quá nhỏ"}},F={code:"face_too_large",msg:{en:"Face too large",vi:"Khuôn mặt quá to"}},x={code:"face_out_of_box",msg:{en:"Face is out of box",vi:"Khuôn mặt không nằm trọn vẹn trong khung ảnh"}};function C(t){return Math.pow(Math.pow(t[0],2)+Math.pow(t[1],2),.5)}function N(t,e){return[t[0]-e[0],t[1]-e[1]]}function z(t,e,r,n){var a=r*(4*e)+4*n;return{r:t[a],g:t[a+1],b:t[a+2]}}i({calculateBlurScoreFunc:function(t){for(var e=t.data,r=t.reducedWidth,n=t.reducedHeight,a=0;a<e.length;a+=4){var o=(e[a]+e[a+1]+e[a+2])/3;e[a]=o}for(var i=0,u=0,c=n-1,s=r-1,l=1;l<c;l++)for(var f=1;f<s;f++){var h=p[0][0]*d(e,r,f-1,l-1)+p[0][1]*d(e,r,f,l-1)+p[0][2]*d(e,r,f+1,l-1)+p[1][0]*d(e,r,f-1,l)+p[1][1]*d(e,r,f,l)+p[1][2]*d(e,r,f+1,l)+p[2][0]*d(e,r,f-1,l+1)+p[2][1]*d(e,r,f,l+1)+p[2][2]*d(e,r,f+1,l+1);(h=Math.abs(h))>25&&i++,h>15&&h<25&&u++}var m=0;return i+u!==0&&(m=i/(i+u)),m},calculateFaceDirectionFunc:function(t){var e=t.landmarks,r=t.getPerfectFrontal,n=function(t){var e,r,n,a,o,i,u,c=y(t,4),s=c[0],l=c[1],f=c[2],h=c[3],m=N(l,s),g=C(m),p=(a=l,e=[(n=s)[0]+a[0],n[1]+a[1]],r=2,[e[0]/r,e[1]/r]),d=N(f,p),v=C(N(h,f)),b=N(h,p),E=C(b),S=(d[0]*b[0]+d[1]*b[1])/E,w=v/E;if(g>.5*E)o=(d[0]*m[0]+d[1]*m[1])/g/g;else{var M=C(N(d,function(t,e){return[t[0]*e,t[1]*e]}(b,S/E)));u=b,o=((i=d)[0]*u[1]-u[0]*i[1]>=0?1:-1)*M/g}return{left_right_score:o,up_down_score:w}}(e),a=n.left_right_score,o=n.up_down_score,i=y(e,3),u=i[0],c=i[1],s=i[2],l=c[0]-s[0],f=u[0]-s[0],h=r?.1:.3,m=o>.7,g=o<.42,p=a>=.35&&a<=.6,d=a<=-.35&&a>=-.6;return o>=.42&&o<=.7&&a>-h&&a<h&&l*f<0?{gesture:E,leftRightScore:a}:m&&!d&&!p?{gesture:M,leftRightScore:a}:g&&!d&&!p?{gesture:k,leftRightScore:a}:p&&!m&&!g?{gesture:w,leftRightScore:a}:d&&!m&&!g?{gesture:S,leftRightScore:a}:null},validatePredictionsFunc:function(t){var e,r,n,a,o,i,u,c,s,l,f,h,m,g,p,d,b,E,S,w,M,k,C,N,z,H,I,D,K,G,W,U,q=t.predictions,Y=t.width,B=[[0,0],[Y,t.height]],Q=q.reduce((function(t,e){var r=e.topLeft,n=e.bottomRight,a=e.probability,o=e.landmarks;a<.9||o.length<6||function(t){var e=t.small,r=e.coords,n=e.area,a=t.big,o=a.coords,i=a.area,u=n;if(!u){var c=y(r,2),s=c[0],l=c[1];u=(l[0]-s[0])*(l[1]-s[1])}var f=i;if(!f){var h=y(o,2),m=h[0],g=h[1];f=(g[0]-m[0])*(g[1]-m[1])}return u/f}({small:{coords:[r,n]},big:{coords:B}})<=.025?t[_].push(e):t[L(B,[r,n])].push(e);return t}),(v(e={},A,[]),v(e,R,[]),v(e,_,[]),e)),X=Q[R].length,$=Q[A].length;if(0===X)r=$>0?O:P;else if(X+$>1)r=j;else{var J=n=Q[R][0],V=J.topLeft,Z=J.bottomRight,tt=(C=B,N=y([V,Z],2),z=N[0],H=N[1],I=y(C,2),D=I[0],K=I[1],G=H[0]-z[0],W=H[1]-z[1],U=K[0]-D[0],G/U<W/U?G/U:W/U);tt<.4&&(r=T),tt>.61&&(r=F),L(B,(a=n.landmarks,u=a[0],c=a[1],s=a[2],l=a[3],f=a[4],h=a[5],m=.5*(u[1]+c[1]),g=m+1.5*(m-l[1]),p=l[1]-1.2*(s[1]-l[1]),d=[u[0],c[0],s[0],l[0],f[0],h[0]],b=Math.min.apply(Math,d),E=Math.min(g,p),S=Math.max.apply(Math,d),w=Math.max(g,p),M=Math.abs(l[0]-f[0])/Math.abs(l[0]-h[0]),k=l[0]-f[0]<0&&h[0]-l[0]>.05*(S-b),l[0]-f[0]>0&&h[0]-l[0]<-.05*(S-b)?(o=.2,i=.1):k?(o=.1,i=.2):M>2||M<.5?(o=.15,i=.15):(o=.05,i=.05),[[b-o*(S-b),E],[S+i*(S-b),w]]),.05*Y)!==R&&(r=x)}return{error:r,fullFace:n}},detectGlare:function(t,e,r){return function(t,e,r){for(var n=0,a=r[1],o=r[3],i=r[0],u=r[2],c=a;c<o;c++)for(var s=i;s<u;s++){var l=z(t,e,c,s),f=l.r,h=l.g,m=l.b;f>=245&&m>=245&&h>245&&(n+=1)}return n}(t,e,function(t,e){var r=Math.floor(.025*t),n=t-r,a=Math.floor(.025*e);return[r,a,n,e-a]}(e,r))/(e*r)>=.001}});']),t=URL.createObjectURL(e);return nV(new Worker(t))}(),dV=[[0,1,0],[1,-4,1],[0,1,0]];function pV(e,t,r,n){return e[4*(r*t+n)]}function hV(e){for(var t=e.data,r=e.reducedWidth,n=e.reducedHeight,i=0;i<t.length;i+=4){var o=(t[i]+t[i+1]+t[i+2])/3;t[i]=o}for(var a=0,s=0,c=n-1,u=r-1,l=1;l<c;l++)for(var f=1;f<u;f++){var d=dV[0][0]*pV(t,r,f-1,l-1)+dV[0][1]*pV(t,r,f,l-1)+dV[0][2]*pV(t,r,f+1,l-1)+dV[1][0]*pV(t,r,f-1,l)+dV[1][1]*pV(t,r,f,l)+dV[1][2]*pV(t,r,f+1,l)+dV[2][0]*pV(t,r,f-1,l+1)+dV[2][1]*pV(t,r,f,l+1)+dV[2][2]*pV(t,r,f+1,l+1);(d=Math.abs(d))>25&&a++,d>15&&d<25&&s++}var p=0;return a+s!==0&&(p=a/(a+s)),p}function gV(e){var t=e.width,r=e.height,n=e.getContext("2d"),i=Math.floor(t/2.8),o=Math.floor(r/2.8),a=t-i,s=r-o;return{data:n.getImageData(Math.floor(i/2),Math.floor(o/2),a,s).data,reducedWidth:a,reducedHeight:s}}function mV(){return(mV=sL(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=gV(t),fV){e.next=3;break}return e.abrupt("return",hV(r));case 3:return e.abrupt("return",fV.calculateBlurScoreFunc(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vV(e,t,r,n){return e[4*(n*t+r)]}var yV=Object.freeze({__proto__:null,calculateBlurScore:function(e){return mV.apply(this,arguments)},hasBetterBlurScore:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return null===t||e-t>r},hasBetterCardBlurScore:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.01;return null===t||t-e>r},calculateIdCardBlurScore:function(e){var t=e.canvas,r=document.createElement("canvas"),n=r.getContext("2d");r.width=430,r.height=270,n.drawImage(t,0,0,r.width,r.height);var i=Math.floor(129),o=Math.floor(13.5),a=Math.floor(408.5),s=Math.floor(256.5),c=document.createElement("canvas"),u=c.getContext("2d"),l=a-i,f=s-o;c.width=l,c.height=f,u.drawImage(r,i,o,l,f,0,0,l,f);for(var d=u.getImageData(0,0,l,f).data,p=0;p<d.length;p+=4){var h=Math.round(.299*d[p]+.587*d[p+1]+.114*d[p+2]);d[p]=h}for(var g=f-1,m=l-1,v=0,y=[],b=1;b<g;b++)for(var w=1;w<m;w++){var C=4*-vV(d,l,w,b)+vV(d,l,w,b-1)+vV(d,l,w,b+1)+vV(d,l,w-1,b)+vV(d,l,w+1,b);v+=C,y.push(C)}v/=(l-2)*(f-2);for(var E=0,k=0;k<y.length;k++){var S=y[k]-v;E+=Math.pow(S,2)}var _=Math.sqrt(E/y.length);return 1/(1+Math.pow(2,_/2-10))}});function bV(e){var t,r,n,i,o,a,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,u=s.x,l=s.y,f=s.width,d=s.height,p=e.videoWidth,h=e.videoHeight,g=window.innerWidth,m=window.innerHeight,v=g/m,y=p/h;v<y?(o=u*(n=p/g),a=(l-(t=(m-g/y)/2))*(i=h/(m-2*t))):(o=(u-(r=(g-m*y)/2))*(n=p/(g-2*r)),a=l*(i=h/m));var b=f*n,w=d*i,C=b,E=w,k=Math.max(b,w)*c;return{lostX:r,lostY:t,cropWidth:b=Math.floor(Math.min(p,b+2*k)),cropHeight:w=Math.floor(Math.min(h,w+2*k)),cropX:o=Math.floor(Math.max(0,o-k)),cropY:a=Math.floor(Math.max(0,a-k)),cropWidthWithoutPadding:C,cropHeightWithoutPadding:E}}var wV=Object.freeze({__proto__:null,analyzeVideoAndWindowSizes:bV,takePicture:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.canvas,n=t.video,i=t.cropArea,o=t.quality,a=void 0===o?1:o;if(r)e=r;else{var s=bV(n,i),c=s.cropWidth,u=s.cropHeight,l=s.cropX,f=s.cropY,d=(e=document.createElement("canvas")).getContext("2d");e.width=c,e.height=u,d.drawImage(n,l,f,c,u,0,0,c,u)}return new Promise((function(t){e.toBlob(t,"image/jpeg",a)}))}}),CV=function(e){for(var t=e.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),n=[e[r],e[t]];e[t]=n[0],e[r]=n[1]}return e},EV=Object.freeze({__proto__:null,shuffleArray:CV}),kV={NONE:0,PARTIAL:1,FULL:2};function SV(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=hL(e,2),i=n[0],o=n[1],a=hL(t,2),s=a[0],c=a[1],u=[i[0],o[0]],l=[i[1],o[1]];return u[0]+r<=s[0]&&c[0]<=u[1]-r&&l[0]+r<=s[1]&&c[1]<=l[1]-.8*r?kV.FULL:u[0]<=s[0]||c[0]<=u[1]||l[0]<=s[1]||c[1]<=l[1]?kV.PARTIAL:kV.NONE}function _V(e){var t=e.small,r=t.coords,n=t.area,i=e.big,o=i.coords,a=i.area,s=n;if(!s){var c=hL(r,2),u=c[0],l=c[1];s=(l[0]-u[0])*(l[1]-u[1])}var f=a;if(!f){var d=hL(o,2),p=d[0],h=d[1];f=(h[0]-p[0])*(h[1]-p[1])}return s/f}function AV(e,t){var r=hL(e,2),n=r[0],i=r[1],o=hL(t,2),a=o[0],s=o[1],c=i[0]-n[0],u=i[1]-n[1],l=s[0]-a[0];return c/l<u/l?c/l:u/l}var TV=Object.freeze({__proto__:null,ContainMode:kV,rectContains:SV,rectAreaRatio:_V,rectEdgeRatio:AV,isFaceCenter:function(e,t){var r=hL(e,2),n=r[0],i=r[1],o=hL(t,2),a=o[0],s=o[1],c=i[0]-n[0],u=i[1]-n[1],l=s[0]-a[0],f=Math.abs(n[0]-(l-c)/2)/l<.2,d=Math.abs(n[1]-(l-u)/2)/l<.2;return!(!f||!d)}});function xV(e){return Math.pow(Math.pow(e[0],2)+Math.pow(e[1],2),.5)}function IV(e,t){return[e[0]-t[0],e[1]-t[1]]}function BV(e){var t=e.landmarks,r=e.getPerfectFrontal,n=function(e){var t,r,n,i,o,a,s=hL(e,4),c=s[0],u=s[1],l=s[2],f=s[3],d=IV(u,c),p=xV(d),h=(n=u,2,[(t=[(r=c)[0]+n[0],r[1]+n[1]])[0]/2,t[1]/2]),g=IV(l,h),m=xV(IV(f,l)),v=IV(f,h),y=xV(v),b=(g[0]*v[0]+g[1]*v[1])/y,w=m/y;if(p>.5*y)i=(g[0]*d[0]+g[1]*d[1])/p/p;else{var C=xV(IV(g,function(e,t){return[e[0]*t,e[1]*t]}(v,b/y)));a=v,i=((o=g)[0]*a[1]-a[0]*o[1]>=0?1:-1)*C/p}return{left_right_score:i,up_down_score:w}}(t),i=n.left_right_score,o=n.up_down_score,a=hL(t,3),s=a[0],c=a[1],u=a[2],l=c[0]-u[0],f=s[0]-u[0],d=r?.1:.3,p=o>.7,h=o<.42,g=i>=.35&&i<=.6,m=i<=-.35&&i>=-.6;return o>=.42&&o<=.7&&i>-d&&i<d&&l*f<0?{gesture:iL.FRONTAL,leftRightScore:i}:!p||m||g?!h||m||g?!g||p||h?!m||p||h?null:{gesture:iL.LEFT,leftRightScore:i}:{gesture:iL.RIGHT,leftRightScore:i}:{gesture:iL.DOWN,leftRightScore:i}:{gesture:iL.UP,leftRightScore:i}}function RV(e){var t,r,n,i,o,a,s,c,u,l,f,d,p,h,g,m,v,y,b,w,C,E,k=e.predictions,S=e.width,_=[[0,0],[S,e.height]],A=k.reduce((function(e,t){var r=t.topLeft,n=t.bottomRight,i=t.probability,o=t.landmarks;return i<.9||o.length<6||_V({small:{coords:[r,n]},big:{coords:_}})<=.025?e[kV.NONE].push(t):e[SV(_,[r,n])].push(t),e}),(uL(t={},kV.PARTIAL,[]),uL(t,kV.FULL,[]),uL(t,kV.NONE,[]),t)),T=A[kV.FULL].length,x=A[kV.PARTIAL].length;if(0===T)r=x>0?nL.partial_face:nL.no_face;else if(T+x>1)r=nL.multiple_faces;else{var I=n=A[kV.FULL][0],B=AV([I.topLeft,I.bottomRight],_);B<.4&&(r=nL.face_too_small),B>.61&&(r=nL.face_too_large),SV(_,(s=(i=n.landmarks)[0],c=i[1],u=i[2],l=i[3],f=i[4],d=i[5],h=(p=.5*(s[1]+c[1]))+1.5*(p-l[1]),g=l[1]-1.2*(u[1]-l[1]),m=[s[0],c[0],u[0],l[0],f[0],d[0]],v=Math.min.apply(Math,m),y=Math.min(h,g),b=Math.max.apply(Math,m),w=Math.max(h,g),C=Math.abs(l[0]-f[0])/Math.abs(l[0]-d[0]),E=l[0]-f[0]<0&&d[0]-l[0]>.05*(b-v),l[0]-f[0]>0&&d[0]-l[0]<-.05*(b-v)?(o=.2,a=.1):E?(o=.1,a=.2):C>2||C<.5?(o=.15,a=.15):(o=.05,a=.05),[[v-o*(b-v),y],[b+a*(b-v),w]]),.05*S)!==kV.FULL&&(r=nL.face_out_of_box)}return{error:r,fullFace:n}}function PV(e,t){var r=t.customInstructions,n=t.customIcon,i=t.customDirectionIcon,o=t.customStepTimeConstraints,a={};return null!=r&&r[e]&&(a.instructions=r[e]),null!=n&&n[e]&&(a.icon=n[e]),null!=i&&i[e]&&(a.directionIcon=i[e]),null!=o&&o[e]&&(a.stepTimeConstraints=o[e]),a}function NV(){return(NV=sL(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fV){e.next=2;break}return e.abrupt("return",RV(t));case 2:return e.abrupt("return",fV.validatePredictionsFunc(t));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function OV(){return(OV=sL(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fV){e.next=2;break}return e.abrupt("return",BV(t));case 2:return e.abrupt("return",fV.calculateFaceDirectionFunc(t));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var DV=Object.freeze({__proto__:null,initFaceVerificationData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.assetRoot,r=void 0===t?"/":t,n=e.customInstructions,i=e.customIcon,o=e.customDirectionIcon,a=e.customStepTimeConstraints;return{curStepIndex:0,steps:[].concat(gL(CV([dL({name:iL.LEFT,instructions:{en:"Turn your face to the left",vi:"Quay mặt chậm qua trái"},image:{blob:null,imageId:null,objUrl:null,blurScore:null,leftRightScore:null},frontalFaceImage:{blob:null,imageId:null,blurScore:null,leftRightScore:null},icon:qF(r,"ic_face_left.svg"),directionIcon:qF(r,"arrow_left.svg"),directionIconAnimation:"slide-horizontal",firstFrameSpottedAt:null,stepTimeConstraints:{delayTime:null}},PV(iL.LEFT,{customInstructions:n,customIcon:i,customDirectionIcon:o,customStepTimeConstraints:a})),dL({name:iL.RIGHT,instructions:{en:"Turn your face to the right",vi:"Quay mặt chậm qua phải"},image:{blob:null,imageId:null,objUrl:null,blurScore:null,leftRightScore:null},frontalFaceImage:{blob:null,imageId:null,blurScore:null,leftRightScore:null},icon:qF(r,"ic_face_right.svg"),directionIcon:qF(r,"arrow_right.svg"),directionIconAnimation:"slide-horizontal",firstFrameSpottedAt:null,stepTimeConstraints:{delayTime:null}},PV(iL.RIGHT,{customInstructions:n,customIcon:i,customDirectionIcon:o,customStepTimeConstraints:a})),dL({name:iL.UP,instructions:{en:"Turn your face up",vi:"Ngước mặt chậm lên trên"},image:{blob:null,imageId:null,objUrl:null,blurScore:null,leftRightScore:null},frontalFaceImage:{blob:null,imageId:null,blurScore:null,leftRightScore:null},icon:qF(r,"ic_face_up.svg"),directionIcon:qF(r,"arrow_up.svg"),directionIconAnimation:"slide-vertical",firstFrameSpottedAt:null,stepTimeConstraints:{delayTime:null}},PV(iL.UP,{customInstructions:n,customIcon:i,customDirectionIcon:o,customStepTimeConstraints:a}))])),[dL({name:iL.FRONTAL,instructions:{en:"Look straight into the camera",vi:"Nhìn thẳng camera"},image:{blob:null,imageId:null,objUrl:null,blurScore:null,leftRightScore:null},frontalFaceImage:{blob:null,imageId:null,blurScore:null,leftRightScore:null},icon:qF(r,"ic_face_frontal.svg"),directionIcon:qF(r,"frontal.svg"),directionIconAnimation:"blink",firstFrameSpottedAt:null,stepTimeConstraints:{delayTime:null}},PV(iL.FRONTAL,{customInstructions:n,customIcon:i,customDirectionIcon:o,customStepTimeConstraints:a}))])}},validatePredictions:function(e){return NV.apply(this,arguments)},calculateFaceDirection:function(e){return OV.apply(this,arguments)},faceTracker:function(){var e=[],t=[],r=[],n=[],i=[],o=0,a=0;function s(){a=o,r=gL(e),n=gL(t)}return function(c,u){var l=c.topLeft,f=c.bottomRight,d=c.landmarks,p=[],h=hL(l,2);p[0]=h[0],p[1]=h[1];var g=hL(f,2);p[2]=g[0],p[3]=g[1];var m=[],v=[];d.forEach((function(e,t){var r=hL(e,2);m[t]=r[0],v[t]=r[1]})),o=Date.now();var y=p[2]-p[0];if(e=[].concat(m),t=[].concat(v),!r.length&&!n.length||u)return s(),{score:0,time:o};for(var b=0;b<6;b++)i[b]=Math.sqrt((e[b]-r[b])*(e[b]-r[b])+(t[b]-n[b])*(t[b]-n[b]));for(var w=0;w<6;w++)i[w]/=(o-a)*y;for(var C=0,E=0;E<6;E++)C+=i[E];return C/=6,s(),{score:C,time:o}}}}),LV=document.createElement("canvas"),MV=LV.getContext("2d");LV.width=128,LV.height=128;var UV=function(){var e=sL(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.model,n=t.sCanvas,MV.drawImage(n,0,0,LV.width,LV.height),e.abrupt("return",r.estimateFaces(LV,!1,!1,!0));case 3:case"end":return e.stop()}var n}),e)})));return function(t){return e.apply(this,arguments)}}(),jV=Object.freeze({__proto__:null,SIZE:128,getModelPredictions:UV}),FV=Object.getOwnPropertySymbols,VV=Object.prototype.hasOwnProperty,zV=Object.prototype.propertyIsEnumerable;function KV(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var qV,HV=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,n,i=KV(e),o=1;o<arguments.length;o++){for(var a in r=Object(arguments[o]))VV.call(r,a)&&(i[a]=r[a]);if(FV){n=FV(r);for(var s=0;s<n.length;s++)zV.call(r,n[s])&&(i[n[s]]=r[n[s]])}}return i},QV=arguments[3],WV=arguments[4],GV=arguments[5],YV=JSON.stringify,XV=function(e,t){for(var r,n=Object.keys(GV),i=0,o=n.length;i<o;i++){var a=n[i],s=GV[a].exports;if(s===e||s&&s.default===e){r=a;break}}if(!r){r=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var c={};for(i=0,o=n.length;i<o;i++)c[a=n[i]]=a;WV[r]=["function(require,module,exports){"+e+"(self); }",c]}var u=Math.floor(Math.pow(16,8)*Math.random()).toString(16),l={};l[r]=r,WV[u]=["function(require,module,exports){var f = require("+YV(r)+");(f.default ? f.default : f)(self);}",l];var f={};!function e(t){for(var r in f[t]=!0,WV[t][1]){var n=WV[t][1][r];f[n]||e(n)}}(u);var d="("+QV+")({"+Object.keys(f).map((function(e){return YV(e)+":["+WV[e][0]+","+YV(WV[e][1])+"]"})).join(",")+"},{},["+YV(u)+"])",p=window.URL||window.webkitURL||window.mozURL||window.msURL,h=new Blob([d],{type:"text/javascript"});if(t&&t.bare)return h;var g=p.createObjectURL(h),m=new Worker(g);return m.objectURL=g,m},$V=LL((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}})),ZV={js:!0,wasm:!0};function JV(e){if(!(this instanceof JV))return new JV(e);var t=HV({},ZV,e||{});if(this.options=t,this.__cache={},this.__init_promise=null,this.__modules=t.modules||{},this.__memory=null,this.__wasm={},this.__isLE=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0],!this.options.js&&!this.options.wasm)throw new Error('mathlib: at least "js" or "wasm" should be enabled')}JV.prototype.has_wasm=function(){if(void 0!==qV)return qV;if(qV=!1,"undefined"==typeof WebAssembly)return qV;try{var e=new Uint8Array([0,97,115,109,1,0,0,0,1,6,1,96,1,127,1,127,3,2,1,0,5,3,1,0,1,7,8,1,4,116,101,115,116,0,0,10,16,1,14,0,32,0,65,1,54,2,0,32,0,40,2,0,11]),t=new WebAssembly.Module(e);return 0!==new WebAssembly.Instance(t,{}).exports.test(4)&&(qV=!0),qV}catch(e){}return qV},JV.prototype.use=function(e){return this.__modules[e.name]=e,this.options.wasm&&this.has_wasm()&&e.wasm_fn?this[e.name]=e.wasm_fn:this[e.name]=e.fn,this},JV.prototype.init=function(){if(this.__init_promise)return this.__init_promise;if(!this.options.js&&this.options.wasm&&!this.has_wasm())return Promise.reject(new Error('mathlib: only "wasm" was enabled, but it\'s not supported'));var e=this;return this.__init_promise=Promise.all(Object.keys(e.__modules).map((function(t){var r=e.__modules[t];return e.options.wasm&&e.has_wasm()&&r.wasm_fn?e.__wasm[t]?null:WebAssembly.compile(e.__base64decode(r.wasm_src)).then((function(r){e.__wasm[t]=r})):null}))).then((function(){return e})),this.__init_promise},JV.prototype.__base64decode=function(e){for(var t=e.replace(/[\r\n=]/g,""),r=t.length,n=new Uint8Array(3*r>>2),i=0,o=0,a=0;a<r;a++)a%4==0&&a&&(n[o++]=i>>16&255,n[o++]=i>>8&255,n[o++]=255&i),i=i<<6|"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(t.charAt(a));var s=r%4*6;return 0===s?(n[o++]=i>>16&255,n[o++]=i>>8&255,n[o++]=255&i):18===s?(n[o++]=i>>10&255,n[o++]=i>>2&255):12===s&&(n[o++]=i>>4&255),n},JV.prototype.__reallocate=function(e){if(!this.__memory)return this.__memory=new WebAssembly.Memory({initial:Math.ceil(e/65536)}),this.__memory;var t=this.__memory.buffer.byteLength;return t<e&&this.__memory.grow(Math.ceil((e-t)/65536)),this.__memory},JV.prototype.__instance=function(e,t,r){if(t&&this.__reallocate(t),!this.__wasm[e]){var n=this.__modules[e];this.__wasm[e]=new WebAssembly.Module(this.__base64decode(n.wasm_src))}if(!this.__cache[e]){var i={memoryBase:0,memory:this.__memory,tableBase:0,table:new WebAssembly.Table({initial:0,element:"anyfunc"})};this.__cache[e]=new WebAssembly.Instance(this.__wasm[e],{env:HV(i,r||{})})}return this.__cache[e]},JV.prototype.__align=function(e,t){var r=e%(t=t||8);return e+(r?t-r:0)};var ez,tz,rz,nz,iz,oz,az=JV;function sz(e,t,r,n,i,o){var a,s,c,u,l,f,d,p,h,g,m,v,y,b;for(h=0;h<o;h++){for(d=h,p=0,u=l=(a=e[f=h*i])*n[6],m=n[0],v=n[1],y=n[4],b=n[5],g=0;g<i;g++)c=(s=e[f])*m+a*v+u*y+l*b,l=u,u=c,a=s,r[p]=u,p++,f++;for(p--,d+=o*(i-1),u=l=(a=e[--f])*n[7],s=a,m=n[2],v=n[3],g=i-1;g>=0;g--)c=s*m+a*v+u*y+l*b,l=u,u=c,a=s,s=e[f],t[d]=r[p]+u,f--,p--,d-=o}}var cz=function(e,t,r,n){if(n){var i=new Uint16Array(e.length),o=new Float32Array(Math.max(t,r)),a=function(e){e<.5&&(e=.5);var t=Math.exp(.527076)/e,r=Math.exp(-t),n=Math.exp(-2*t),i=(1-r)*(1-r)/(1+2*t*r-n);return ez=i,tz=i*(t-1)*r,rz=i*(t+1)*r,nz=-i*n,iz=2*r,oz=-n,new Float32Array([ez,tz,rz,nz,iz,oz,(ez+tz)/(1-iz-oz),(rz+nz)/(1-iz-oz)])}(n);sz(e,i,o,a,t,r),sz(i,e,o,a,r,t)}},uz={name:"unsharp_mask",fn:function(e,t,r,n,i,o){var a,s,c,u,l,f,d,p,h,g,m,v,y;if(!(0===n||i<.5)){i>2&&(i=2);var b=function(e,t,r){for(var n,i,o,a,s,c=t*r,u=new Uint16Array(c),l=0;l<c;l++)n=e[4*l],i=e[4*l+1],o=e[4*l+2],s=n>=i&&n>=o?n:i>=o&&i>=n?i:o,a=n<=i&&n<=o?n:i<=o&&i<=n?i:o,u[l]=257*(s+a)>>1;return u}(e,t,r),w=new Uint16Array(b);cz(w,t,r,i);for(var C=n/100*4096+.5|0,E=257*o|0,k=t*r,S=0;S<k;S++)v=2*(b[S]-w[S]),Math.abs(v)>=E&&(a=e[y=4*S],s=e[y+1],c=e[y+2],f=257*((p=a>=s&&a>=c?a:s>=a&&s>=c?s:c)+(d=a<=s&&a<=c?a:s<=a&&s<=c?s:c))>>1,d===p?u=l=0:(l=f<=32767?4095*(p-d)/(p+d)|0:4095*(p-d)/(510-p-d)|0,u=a===p?65535*(s-c)/(6*(p-d))|0:s===p?21845+(65535*(c-a)/(6*(p-d))|0):43690+(65535*(a-s)/(6*(p-d))|0)),(f+=C*v+2048>>12)>65535?f=65535:f<0&&(f=0),0===l?a=s=c=f>>8:(h=2*f-(g=f<=32767?f*(4096+l)+2048>>12:f+((65535-f)*l+2048>>12))>>8,g>>=8,a=(m=u+21845&65535)>=43690?h:m>=32767?h+(6*(g-h)*(43690-m)+32768>>16):m>=10922?g:h+(6*(g-h)*m+32768>>16),s=(m=65535&u)>=43690?h:m>=32767?h+(6*(g-h)*(43690-m)+32768>>16):m>=10922?g:h+(6*(g-h)*m+32768>>16),c=(m=u-21845&65535)>=43690?h:m>=32767?h+(6*(g-h)*(43690-m)+32768>>16):m>=10922?g:h+(6*(g-h)*m+32768>>16)),e[y]=a,e[y+1]=s,e[y+2]=c)}},wasm_fn:function(e,t,r,n,i,o){if(!(0===n||i<.5)){i>2&&(i=2);var a=t*r,s=4*a,c=2*a,u=2*a,l=4*Math.max(t,r),f=s,d=f+c,p=d+u,h=p+u,g=h+l,m=this.__instance("unsharp_mask",s+c+2*u+l+32,{exp:Math.exp}),v=new Uint32Array(e.buffer);new Uint32Array(this.__memory.buffer).set(v);var y=m.exports.hsl_l16||m.exports._hsl_l16;y(0,f,t,r),(y=m.exports.blurMono16||m.exports._blurMono16)(f,d,p,h,g,t,r,i),(y=m.exports.unsharp||m.exports._unsharp)(0,0,f,d,t,r,n,o),v.set(new Uint32Array(this.__memory.buffer,0,a))}},wasm_src:"AGFzbQEAAAABMQZgAXwBfGACfX8AYAZ/f39/f38AYAh/f39/f39/fQBgBH9/f38AYAh/f39/f39/fwACGQIDZW52A2V4cAAAA2VudgZtZW1vcnkCAAEDBgUBAgMEBQQEAXAAAAdMBRZfX2J1aWxkX2dhdXNzaWFuX2NvZWZzAAEOX19nYXVzczE2X2xpbmUAAgpibHVyTW9ubzE2AAMHaHNsX2wxNgAEB3Vuc2hhcnAABQkBAAqJEAXZAQEGfAJAIAFE24a6Q4Ia+z8gALujIgOaEAAiBCAEoCIGtjgCECABIANEAAAAAAAAAMCiEAAiBbaMOAIUIAFEAAAAAAAA8D8gBKEiAiACoiAEIAMgA6CiRAAAAAAAAPA/oCAFoaMiArY4AgAgASAEIANEAAAAAAAA8L+gIAKioiIHtjgCBCABIAQgA0QAAAAAAADwP6AgAqKiIgO2OAIIIAEgBSACoiIEtow4AgwgASACIAegIAVEAAAAAAAA8D8gBqGgIgKjtjgCGCABIAMgBKEgAqO2OAIcCwu3AwMDfwR9CHwCQCADKgIUIQkgAyoCECEKIAMqAgwhCyADKgIIIQwCQCAEQX9qIgdBAEgiCA0AIAIgAC8BALgiDSADKgIYu6IiDiAJuyIQoiAOIAq7IhGiIA0gAyoCBLsiEqIgAyoCALsiEyANoqCgoCIPtjgCACACQQRqIQIgAEECaiEAIAdFDQAgBCEGA0AgAiAOIBCiIA8iDiARoiANIBKiIBMgAC8BALgiDaKgoKAiD7Y4AgAgAkEEaiECIABBAmohACAGQX9qIgZBAUoNAAsLAkAgCA0AIAEgByAFbEEBdGogAEF+ai8BACIIuCINIAu7IhGiIA0gDLsiEqKgIA0gAyoCHLuiIg4gCrsiE6KgIA4gCbsiFKKgIg8gAkF8aioCALugqzsBACAHRQ0AIAJBeGohAiAAQXxqIQBBACAFQQF0ayEHIAEgBSAEQQF0QXxqbGohBgNAIAghAyAALwEAIQggBiANIBGiIAO4Ig0gEqKgIA8iECAToqAgDiAUoqAiDyACKgIAu6CrOwEAIAYgB2ohBiAAQX5qIQAgAkF8aiECIBAhDiAEQX9qIgRBAUoNAAsLCwvfAgIDfwZ8AkAgB0MAAAAAWw0AIARE24a6Q4Ia+z8gB0MAAAA/l7ujIgyaEAAiDSANoCIPtjgCECAEIAxEAAAAAAAAAMCiEAAiDraMOAIUIAREAAAAAAAA8D8gDaEiCyALoiANIAwgDKCiRAAAAAAAAPA/oCAOoaMiC7Y4AgAgBCANIAxEAAAAAAAA8L+gIAuioiIQtjgCBCAEIA0gDEQAAAAAAADwP6AgC6KiIgy2OAIIIAQgDiALoiINtow4AgwgBCALIBCgIA5EAAAAAAAA8D8gD6GgIgujtjgCGCAEIAwgDaEgC6O2OAIcIAYEQCAFQQF0IQogBiEJIAIhCANAIAAgCCADIAQgBSAGEAIgACAKaiEAIAhBAmohCCAJQX9qIgkNAAsLIAVFDQAgBkEBdCEIIAUhAANAIAIgASADIAQgBiAFEAIgAiAIaiECIAFBAmohASAAQX9qIgANAAsLC7wBAQV/IAMgAmwiAwRAQQAgA2shBgNAIAAoAgAiBEEIdiIHQf8BcSECAn8gBEH/AXEiAyAEQRB2IgRB/wFxIgVPBEAgAyIIIAMgAk8NARoLIAQgBCAHIAIgA0kbIAIgBUkbQf8BcQshCAJAIAMgAk0EQCADIAVNDQELIAQgByAEIAMgAk8bIAIgBUsbQf8BcSEDCyAAQQRqIQAgASADIAhqQYECbEEBdjsBACABQQJqIQEgBkEBaiIGDQALCwvTBgEKfwJAIAazQwAAgEWUQwAAyEKVu0QAAAAAAADgP6CqIQ0gBSAEbCILBEAgB0GBAmwhDgNAQQAgAi8BACADLwEAayIGQQF0IgdrIAcgBkEASBsgDk8EQCAAQQJqLQAAIQUCfyAALQAAIgYgAEEBai0AACIESSIJRQRAIAYiCCAGIAVPDQEaCyAFIAUgBCAEIAVJGyAGIARLGwshCAJ/IAYgBE0EQCAGIgogBiAFTQ0BGgsgBSAFIAQgBCAFSxsgCRsLIgogCGoiD0GBAmwiEEEBdiERQQAhDAJ/QQAiCSAIIApGDQAaIAggCmsiCUH/H2wgD0H+AyAIayAKayAQQYCABEkbbSEMIAYgCEYEQCAEIAVrQf//A2wgCUEGbG0MAQsgBSAGayAGIARrIAQgCEYiBhtB//8DbCAJQQZsbUHVqgFBqtUCIAYbagshCSARIAcgDWxBgBBqQQx1aiIGQQAgBkEAShsiBkH//wMgBkH//wNIGyEGAkACfwJAIAxB//8DcSIFBEAgBkH//wFKDQEgBUGAIGogBmxBgBBqQQx2DAILIAZBCHYiBiEFIAYhBAwCCyAFIAZB//8Dc2xBgBBqQQx2IAZqCyIFQQh2IQcgBkEBdCAFa0EIdiIGIQQCQCAJQdWqAWpB//8DcSIFQanVAksNACAFQf//AU8EQEGq1QIgBWsgByAGa2xBBmxBgIACakEQdiAGaiEEDAELIAchBCAFQanVAEsNACAFIAcgBmtsQQZsQYCAAmpBEHYgBmohBAsCfyAGIgUgCUH//wNxIghBqdUCSw0AGkGq1QIgCGsgByAGa2xBBmxBgIACakEQdiAGaiAIQf//AU8NABogByIFIAhBqdUASw0AGiAIIAcgBmtsQQZsQYCAAmpBEHYgBmoLIQUgCUGr1QJqQf//A3EiCEGp1QJLDQAgCEH//wFPBEBBqtUCIAhrIAcgBmtsQQZsQYCAAmpBEHYgBmohBgwBCyAIQanVAEsEQCAHIQYMAQsgCCAHIAZrbEEGbEGAgAJqQRB2IAZqIQYLIAEgBDoAACABQQFqIAU6AAAgAUECaiAGOgAACyADQQJqIQMgAkECaiECIABBBGohACABQQRqIQEgC0F/aiILDQALCwsL"},lz=[{win:.5,filter:function(e){return e>=-.5&&e<.5?1:0}},{win:1,filter:function(e){if(e<=-1||e>=1)return 0;if(e>-1.1920929e-7&&e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*(.54+.46*Math.cos(t/1))}},{win:2,filter:function(e){if(e<=-2||e>=2)return 0;if(e>-1.1920929e-7&&e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*Math.sin(t/2)/(t/2)}},{win:3,filter:function(e){if(e<=-3||e>=3)return 0;if(e>-1.1920929e-7&&e<1.1920929e-7)return 1;var t=e*Math.PI;return Math.sin(t)/t*Math.sin(t/3)/(t/3)}}];function fz(e){return Math.round(16383*e)}var dz=function(e,t,r,n,i){var o,a,s,c,u,l,f,d,p,h,g,m,v,y,b,w,C,E=lz[e].filter,k=1/n,S=Math.min(1,n),_=lz[e].win/S,A=Math.floor(2*(_+1)),T=new Int16Array((A+2)*r),x=0,I=!T.subarray||!T.set;for(o=0;o<r;o++){for(a=(o+.5)*k+i,s=Math.max(0,Math.floor(a-_)),u=(c=Math.min(t-1,Math.ceil(a+_)))-s+1,l=new Float32Array(u),f=new Int16Array(u),d=0,p=s,h=0;p<=c;p++,h++)d+=g=E((p+.5-a)*S),l[h]=g;for(m=0,h=0;h<l.length;h++)m+=v=l[h]/d,f[h]=fz(v);for(f[r>>1]+=fz(1-m),y=0;y<f.length&&0===f[y];)y++;if(y<f.length){for(b=f.length-1;b>0&&0===f[b];)b--;if(w=s+y,C=b-y+1,T[x++]=w,T[x++]=C,I)for(h=y;h<=b;h++)T[x++]=f[h];else T.set(f.subarray(y,b+1),x),x+=C}else T[x++]=0,T[x++]=0}return T};function pz(e){return e<0?0:e>255?255:e}var hz=function(e,t,r,n,i,o){var a,s,c,u,l,f,d,p,h,g,m,v=0,y=0;for(h=0;h<n;h++){for(l=0,g=0;g<i;g++){for(f=o[l++],d=o[l++],p=v+4*f|0,a=s=c=u=0;d>0;d--)u=u+(m=o[l++])*e[p+3]|0,c=c+m*e[p+2]|0,s=s+m*e[p+1]|0,a=a+m*e[p]|0,p=p+4|0;t[y+3]=pz(u+8192>>14),t[y+2]=pz(c+8192>>14),t[y+1]=pz(s+8192>>14),t[y]=pz(a+8192>>14),y=y+4*n|0}y=4*(h+1)|0,v=(h+1)*r*4|0}},gz=function(e,t,r,n,i,o){var a,s,c,u,l,f,d,p,h,g,m,v=0,y=0;for(h=0;h<n;h++){for(l=0,g=0;g<i;g++){for(f=o[l++],d=o[l++],p=v+4*f|0,a=s=c=u=0;d>0;d--)u=u+(m=o[l++])*e[p+3]|0,c=c+m*e[p+2]|0,s=s+m*e[p+1]|0,a=a+m*e[p]|0,p=p+4|0;t[y+3]=pz(u+8192>>14),t[y+2]=pz(c+8192>>14),t[y+1]=pz(s+8192>>14),t[y]=pz(a+8192>>14),y=y+4*n|0}y=4*(h+1)|0,v=(h+1)*r*4|0}},mz=!0;try{mz=1===new Uint32Array(new Uint8Array([1,0,0,0]).buffer)[0]}catch(xw){}function vz(e,t,r){if(mz)t.set(function(e){return new Uint8Array(e.buffer,0,e.byteLength)}(e),r);else for(var n=r,i=0;i<e.length;i++){var o=e[i];t[n++]=255&o,t[n++]=o>>8&255}}var yz={name:"resize",fn:function(e){var t=e.src,r=e.width,n=e.height,i=e.toWidth,o=e.toHeight,a=e.scaleX||e.toWidth/e.width,s=e.scaleY||e.toHeight/e.height,c=e.offsetX||0,u=e.offsetY||0,l=e.dest||new Uint8Array(i*o*4),f=void 0===e.quality?3:e.quality,d=e.alpha||!1,p=dz(f,r,i,a,c),h=dz(f,n,o,s,u),g=new Uint8Array(i*n*4);return hz(t,g,r,n,i,p),gz(g,l,n,i,o,h),d||function(e,t,r){for(var n=3,i=t*r*4|0;n<i;)e[n]=255,n=n+4|0}(l,i,o),l},wasm_fn:function(e){var t=e.src,r=e.width,n=e.height,i=e.toWidth,o=e.toHeight,a=e.scaleX||e.toWidth/e.width,s=e.scaleY||e.toHeight/e.height,c=e.offsetX||0,u=e.offsetY||0,l=e.dest||new Uint8Array(i*o*4),f=void 0===e.quality?3:e.quality,d=e.alpha||!1,p=dz(f,r,i,a,c),h=dz(f,n,o,s,u),g=this.__align(0+Math.max(t.byteLength,l.byteLength)),m=this.__align(g+n*i*4),v=this.__align(m+p.byteLength),y=v+h.byteLength,b=this.__instance("resize",y),w=new Uint8Array(this.__memory.buffer),C=new Uint32Array(this.__memory.buffer),E=new Uint32Array(t.buffer);return C.set(E),vz(p,w,m),vz(h,w,v),(b.exports.convolveHV||b.exports._convolveHV)(m,v,g,r,n,i,o),new Uint32Array(l.buffer).set(new Uint32Array(this.__memory.buffer,0,o*i)),d||function(e,t,r){for(var n=3,i=t*r*4|0;n<i;)e[n]=255,n=n+4|0}(l,i,o),l},wasm_src:"AGFzbQEAAAABFAJgBn9/f39/fwBgB39/f39/f38AAg8BA2VudgZtZW1vcnkCAAEDAwIAAQQEAXAAAAcZAghjb252b2x2ZQAACmNvbnZvbHZlSFYAAQkBAArmAwLBAwEQfwJAIANFDQAgBEUNACAFQQRqIRVBACEMQQAhDQNAIA0hDkEAIRFBACEHA0AgB0ECaiESAn8gBSAHQQF0IgdqIgZBAmouAQAiEwRAQQAhCEEAIBNrIRQgFSAHaiEPIAAgDCAGLgEAakECdGohEEEAIQlBACEKQQAhCwNAIBAoAgAiB0EYdiAPLgEAIgZsIAtqIQsgB0H/AXEgBmwgCGohCCAHQRB2Qf8BcSAGbCAKaiEKIAdBCHZB/wFxIAZsIAlqIQkgD0ECaiEPIBBBBGohECAUQQFqIhQNAAsgEiATagwBC0EAIQtBACEKQQAhCUEAIQggEgshByABIA5BAnRqIApBgMAAakEOdSIGQf8BIAZB/wFIG0EQdEGAgPwHcUEAIAZBAEobIAtBgMAAakEOdSIGQf8BIAZB/wFIG0EYdEEAIAZBAEobciAJQYDAAGpBDnUiBkH/ASAGQf8BSBtBCHRBgP4DcUEAIAZBAEobciAIQYDAAGpBDnUiBkH/ASAGQf8BSBtB/wFxQQAgBkEAShtyNgIAIA4gA2ohDiARQQFqIhEgBEcNAAsgDCACaiEMIA1BAWoiDSADRw0ACwsLIQACQEEAIAIgAyAEIAUgABAAIAJBACAEIAUgBiABEAALCw=="};function bz(e){var t=e||[],r={js:t.indexOf("js")>=0,wasm:t.indexOf("wasm")>=0};az.call(this,r),this.features={js:r.js,wasm:r.wasm&&this.has_wasm()},this.use(uz),this.use(yz)}$V(bz,az),bz.prototype.resizeAndUnsharp=function(e,t){var r=this.resize(e,t);return e.unsharpAmount&&this.unsharp_mask(r,e.toWidth,e.toHeight,e.unsharpAmount,e.unsharpRadius,e.unsharpThreshold),r};var wz=bz;function Cz(e,t){this.create=e,this.available=[],this.acquired={},this.lastId=1,this.timeoutId=0,this.idle=t||2e3}Cz.prototype.acquire=function(){var e,t=this;return 0!==this.available.length?e=this.available.pop():((e=this.create()).id=this.lastId++,e.release=function(){return t.release(e)}),this.acquired[e.id]=e,e},Cz.prototype.release=function(e){var t=this;delete this.acquired[e.id],e.lastUsed=Date.now(),this.available.push(e),0===this.timeoutId&&(this.timeoutId=setTimeout((function(){return t.gc()}),100))},Cz.prototype.gc=function(){var e=this,t=Date.now();this.available=this.available.filter((function(r){return!(t-r.lastUsed>e.idle&&(r.destroy(),1))})),0!==this.available.length?this.timeoutId=setTimeout((function(){return e.gc()}),100):this.timeoutId=0};var Ez=Cz;function kz(e){return Object.prototype.toString.call(e)}var Sz=function(e){var t=kz(e);return"[object HTMLCanvasElement]"===t||"[object OffscreenCanvas]"===t||"[object Canvas]"===t},_z=function(e){return"[object HTMLImageElement]"===kz(e)},Az=function(e){return"[object ImageBitmap]"===kz(e)},Tz=function(e){var t=0,r=[];function n(){t<e&&r.length&&(t++,r.shift()())}return function(e){return new Promise((function(i,o){r.push((function(){e().then((function(e){i(e),t--,n()}),(function(e){o(e),t--,n()}))})),n()}))}},xz=function(e){switch(e){case 0:return"pixelated";case 1:return"low";case 2:return"medium"}return"high"},Iz=function(e){return Promise.resolve().then((function(){if("undefined"==typeof createImageBitmap)return!1;var t=e(100,100);return createImageBitmap(t,0,0,100,100,{resizeWidth:10,resizeHeight:10,resizeQuality:"high"}).then((function(e){var r=10===e.width;return e.close(),t=null,r}))})).catch((function(){return!1}))},Bz=function(){var e,t=wz;onmessage=function(r){var n=r.data.opts;e||(e=new t(r.data.features));var i=e.resizeAndUnsharp(n);postMessage({result:i},[i.buffer])}};function Rz(e){var t=Math.round(e);return Math.abs(e-t)<1e-5?t:Math.floor(e)}function Pz(e){var t=Math.round(e);return Math.abs(e-t)<1e-5?t:Math.ceil(e)}var Nz={},Oz=!1;try{"undefined"!=typeof navigator&&navigator.userAgent&&(Oz=navigator.userAgent.indexOf("Safari")>=0)}catch(xw){}var Dz=1;"undefined"!=typeof navigator&&(Dz=Math.min(navigator.hardwareConcurrency||1,4));var Lz,Mz,Uz={tile:1024,concurrency:Dz,features:["js","wasm","ww"],idle:2e3,createCanvas:function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,r}},jz={quality:3,alpha:!1,unsharpAmount:0,unsharpRadius:0,unsharpThreshold:0};function Fz(){return{value:XV(Bz),destroy:function(){if(this.value.terminate(),"undefined"!=typeof window){var e=window.URL||window.webkitURL||window.mozURL||window.msURL;e&&e.revokeObjectURL&&this.value.objectURL&&e.revokeObjectURL(this.value.objectURL)}}}}function Vz(e){if(!(this instanceof Vz))return new Vz(e);this.options=HV({},Uz,e||{});var t="lk_".concat(this.options.concurrency);this.__limit=Nz[t]||Tz(this.options.concurrency),Nz[t]||(Nz[t]=this.__limit),this.features={js:!1,wasm:!1,cib:!1,ww:!1},this.__workersPool=null,this.__requested_features=[],this.__mathlib=null}Vz.prototype.init=function(){var e=this;if(this.__initPromise)return this.__initPromise;if(!1!==Lz&&!0!==Lz&&(Lz=!1,"undefined"!=typeof ImageData&&"undefined"!=typeof Uint8ClampedArray))try{new ImageData(new Uint8ClampedArray(400),10,10),Lz=!0}catch(t){}!1!==Mz&&!0!==Mz&&(Mz=!1,"undefined"!=typeof ImageBitmap&&(ImageBitmap.prototype&&ImageBitmap.prototype.close?Mz=!0:this.debug("ImageBitmap does not support .close(), disabled")));var t=this.options.features.slice();if(t.indexOf("all")>=0&&(t=["cib","wasm","js","ww"]),this.__requested_features=t,this.__mathlib=new wz(t),t.indexOf("ww")>=0&&"undefined"!=typeof window&&"Worker"in window)try{XV((function(){})).terminate(),this.features.ww=!0;var r="wp_".concat(JSON.stringify(this.options));Nz[r]?this.__workersPool=Nz[r]:(this.__workersPool=new Ez(Fz,this.options.idle),Nz[r]=this.__workersPool)}catch(t){}var n,i=this.__mathlib.init().then((function(t){HV(e.features,t.features)}));return n=Mz?Iz(this.options.createCanvas).then((function(r){e.features.cib&&t.indexOf("cib")<0?e.debug("createImageBitmap() resize supported, but disabled by config"):t.indexOf("cib")>=0&&(e.features.cib=r)})):Promise.resolve(!1),this.__initPromise=Promise.all([i,n]).then((function(){return e})),this.__initPromise},Vz.prototype.resize=function(e,t,r){var n=this;this.debug("Start resize...");var i=HV({},jz);if(isNaN(r)?r&&(i=HV(i,r)):i=HV(i,{quality:r}),i.toWidth=t.width,i.toHeight=t.height,i.width=e.naturalWidth||e.width,i.height=e.naturalHeight||e.height,0===t.width||0===t.height)return Promise.reject(new Error("Invalid output size: ".concat(t.width,"x").concat(t.height)));i.unsharpRadius>2&&(i.unsharpRadius=2);var o=!1,a=null;i.cancelToken&&(a=i.cancelToken.then((function(e){throw o=!0,e}),(function(e){throw o=!0,e})));var s=Math.ceil(Math.max(3,2.5*i.unsharpRadius|0));return this.init().then((function(){if(o)return a;if(n.features.cib){var r=t.getContext("2d",{alpha:Boolean(i.alpha)});return n.debug("Resize via createImageBitmap()"),createImageBitmap(e,{resizeWidth:i.toWidth,resizeHeight:i.toHeight,resizeQuality:xz(i.quality)}).then((function(e){if(o)return a;if(!i.unsharpAmount)return r.drawImage(e,0,0),e.close(),r=null,n.debug("Finished!"),t;n.debug("Unsharp result");var s=n.options.createCanvas(i.toWidth,i.toHeight),c=s.getContext("2d",{alpha:Boolean(i.alpha)});c.drawImage(e,0,0),e.close();var u=c.getImageData(0,0,i.toWidth,i.toHeight);return n.__mathlib.unsharp_mask(u.data,i.toWidth,i.toHeight,i.unsharpAmount,i.unsharpRadius,i.unsharpThreshold),r.putImageData(u,0,0),s.width=s.height=0,u=c=s=r=null,n.debug("Finished!"),t}))}var c={},u=function(e){return Promise.resolve().then((function(){return n.features.ww?new Promise((function(t,r){var i=n.__workersPool.acquire();a&&a.catch((function(e){return r(e)})),i.value.onmessage=function(e){i.release(),e.data.err?r(e.data.err):t(e.data.result)},i.value.postMessage({opts:e,features:n.__requested_features,preload:{wasm_nodule:n.__mathlib.__}},[e.src.buffer])})):n.__mathlib.resizeAndUnsharp(e,c)}))},l=function(e,t,r){var i,c,l,f=!1,d=function(t){return n.__limit((function(){if(o)return a;var s;if(Sz(e))n.debug("Get tile pixel data"),s=i.getImageData(t.x,t.y,t.width,t.height);else{n.debug("Draw tile imageBitmap/image to temporary canvas");var f=n.options.createCanvas(t.width,t.height),d=f.getContext("2d",{alpha:Boolean(r.alpha)});d.globalCompositeOperation="copy",d.drawImage(c||e,t.x,t.y,t.width,t.height,0,0,t.width,t.height),n.debug("Get tile pixel data"),s=d.getImageData(0,0,t.width,t.height),f.width=f.height=0,d=f=null}var p={src:s.data,width:t.width,height:t.height,toWidth:t.toWidth,toHeight:t.toHeight,scaleX:t.scaleX,scaleY:t.scaleY,offsetX:t.offsetX,offsetY:t.offsetY,quality:r.quality,alpha:r.alpha,unsharpAmount:r.unsharpAmount,unsharpRadius:r.unsharpRadius,unsharpThreshold:r.unsharpThreshold};return n.debug("Invoke resize math"),Promise.resolve().then((function(){return u(p)})).then((function(e){if(o)return a;var r;if(s=null,n.debug("Convert raw rgba tile result to ImageData"),Lz)r=new ImageData(new Uint8ClampedArray(e),t.toWidth,t.toHeight);else if((r=l.createImageData(t.toWidth,t.toHeight)).data.set)r.data.set(e);else for(var i=r.data.length-1;i>=0;i--)r.data[i]=e[i];return n.debug("Draw tile"),Oz?l.putImageData(r,t.toX,t.toY,t.toInnerX-t.toX,t.toInnerY-t.toY,t.toInnerWidth+1e-5,t.toInnerHeight+1e-5):l.putImageData(r,t.toX,t.toY,t.toInnerX-t.toX,t.toInnerY-t.toY,t.toInnerWidth,t.toInnerHeight),null}))}))};return Promise.resolve().then((function(){if(l=t.getContext("2d",{alpha:Boolean(r.alpha)}),Sz(e))return i=e.getContext("2d",{alpha:Boolean(r.alpha)}),null;if(Az(e))return c=e,f=!0,null;if(_z(e))return Mz?(n.debug("Decode image via createImageBitmap"),createImageBitmap(e).then((function(e){c=e})).catch((function(e){return null}))):null;throw new Error('Pica: ".from" should be Image, Canvas or ImageBitmap')})).then((function(){if(o)return a;n.debug("Calculate tiles");var e=function(e){var t,r,n,i,o,a,s=e.toWidth/e.width,c=e.toHeight/e.height,u=Rz(e.srcTileSize*s)-2*e.destTileBorder,l=Rz(e.srcTileSize*c)-2*e.destTileBorder;if(u<1||l<1)throw new Error("Internal error in pica: target tile width/height is too small.");var f,d=[];for(i=0;i<e.toHeight;i+=l)for(n=0;n<e.toWidth;n+=u)(t=n-e.destTileBorder)<0&&(t=0),t+(o=n+u+e.destTileBorder-t)>=e.toWidth&&(o=e.toWidth-t),(r=i-e.destTileBorder)<0&&(r=0),r+(a=i+l+e.destTileBorder-r)>=e.toHeight&&(a=e.toHeight-r),f={toX:t,toY:r,toWidth:o,toHeight:a,toInnerX:n,toInnerY:i,toInnerWidth:u,toInnerHeight:l,offsetX:t/s-Rz(t/s),offsetY:r/c-Rz(r/c),scaleX:s,scaleY:c,x:Rz(t/s),y:Rz(r/c),width:Pz(o/s),height:Pz(a/c)},d.push(f);return d}({width:r.width,height:r.height,srcTileSize:n.options.tile,toWidth:r.toWidth,toHeight:r.toHeight,destTileBorder:s}).map((function(e){return d(e)}));function i(){c&&(f||c.close(),c=null)}return n.debug("Process tiles"),Promise.all(e).then((function(){return n.debug("Finished!"),i(),t}),(function(e){throw i(),e}))}))};return function e(t,r,i,s){if(o)return a;var c,u=qy(t.shift(),2),f=u[0],d=u[1],p=0===t.length;return s=HV({},s,{toWidth:f,toHeight:d,quality:p?s.quality:Math.min(1,s.quality)}),p||(c=n.options.createCanvas(f,d)),l(r,p?i:c,s).then((function(){return p?i:(s.width=f,s.height=d,e(t,c,i,s))})).then((function(e){return c&&(c.width=c.height=0),e}))}(function(e,t,r,n,i,o){var a=r/e,s=n/t,c=(2*o+2+1)/i;if(c>.5)return[[r,n]];var u=Math.ceil(Math.log(Math.min(a,s))/Math.log(c));if(u<=1)return[[r,n]];for(var l=[],f=0;f<u;f++){var d=Math.round(Math.pow(Math.pow(e,u-f-1)*Math.pow(r,f+1),1/u)),p=Math.round(Math.pow(Math.pow(t,u-f-1)*Math.pow(n,f+1),1/u));l.push([d,p])}return l}(i.width,i.height,i.toWidth,i.toHeight,n.options.tile,s),e,t,i)}))},Vz.prototype.resizeBuffer=function(e){var t=this,r=HV({},jz,e);return this.init().then((function(){return t.__mathlib.resizeAndUnsharp(r)}))},Vz.prototype.toBlob=function(e,t,r){return t=t||"image/png",new Promise((function(n){if(e.toBlob)e.toBlob((function(e){return n(e)}),t,r);else if(e.convertToBlob)n(e.convertToBlob({type:t,quality:r}));else{for(var i=atob(e.toDataURL(t,r).split(",")[1]),o=i.length,a=new Uint8Array(o),s=0;s<o;s++)a[s]=i.charCodeAt(s);n(new Blob([a],{type:t}))}}))},Vz.prototype.debug=function(){};var zz=new Vz,Kz=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.minSize,i=void 0===n?720:n,o=e/t;return e>t?{desW:Math.floor(i*o),desH:i}:{desW:i,desH:Math.floor(i/o)}},qz=Object.freeze({__proto__:null,scaleImage:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.minSize,n=void 0===r?720:r;return new Promise((function(t){var r=URL.createObjectURL(e),i=new Image;i.src=r;var o=document.createElement("canvas");i.onload=function(){if(i.width&&i.height&&(i.width<n||i.height<n)){var e=Kz(i.width,i.height,{minSize:n}),r=e.desW,a=e.desH;o.width=r,o.height=a,zz.resize(i,o).then((function(e){return zz.toBlob(e,"image/jpeg",1)})).then((function(e){return t(e)}))}else t(null)}}))},createResizer:function(e){var t=e.width,r=e.height,n=document.createElement("canvas"),i=n.getContext("2d");return n.width=t,n.height=r,{resize:function(e){var t=e.srcCanvas;return i.drawImage(t,0,0,n.width,n.height),n}}},resizeBlobImg:function(e,t,r){var n=document.createElement("canvas"),i=n.getContext("2d");return n.width=t,n.height=r,new Promise((function(t){var r=URL.createObjectURL(e),o=new Image;o.onload=function(){URL.revokeObjectURL(r),i.drawImage(o,0,0,n.width,n.height),n.toBlob(t,"image/jpeg",1)},o.src=r}))},blobToCanvas:function(e){var t=e.blob;return new Promise((function(e){var r=document.createElement("canvas"),n=r.getContext("2d"),i=new Image;i.onload=function(t){var o=i.width,a=i.height;r.width=o,r.height=a,URL.revokeObjectURL(t.target.src),n.drawImage(t.target,0,0),e(r)},i.src=URL.createObjectURL(t)}))}});function Hz(e,t,r,n){var i=r*(4*t)+4*n;return{r:e[i],g:e[i+1],b:e[i+2]}}function Qz(e,t,r){return function(e,t,r){for(var n=0,i=r[1],o=r[3],a=r[0],s=r[2],c=i;c<o;c++)for(var u=a;u<s;u++){var l=Hz(e,t,c,u),f=l.r,d=l.g,p=l.b;f>=245&&p>=245&&d>245&&(n+=1)}return n}(e,t,function(e,t){var r=Math.floor(.025*e),n=e-r,i=Math.floor(.025*t);return[r,i,n,t-i]}(t,r))/(t*r)>=.001}function Wz(){return(Wz=sL(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.getContext("2d"),n=r.getImageData(0,0,t.width,t.height),i=n.data,fV){e.next=5;break}return e.abrupt("return",Qz(i,n.width,n.height));case 5:return e.abrupt("return",fV.detectGlare(i,n.width,n.height));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gz=Object.freeze({__proto__:null,isCardGlare:function(e){return Wz.apply(this,arguments)}}),Yz="internal_server_error",Xz="network_error",$z=kF();function Zz(e){return 500*Math.pow(1.5,e)}function Jz(e){return Array.isArray(null==e?void 0:e.errors)&&e.errors.find((function(e){return e.code===Yz}))}function eK(e){return"Failed to fetch"===e.message||!e.response}function tK(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.maxNetworkErrorRetryTimes,n=void 0===r?5:r,i=t.maxInternalServerErrorRetryTimes,o=void 0===i?1:i,a=t.propertyKey,s=t.onDone;return function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var c=this;function u(e,t){return l.apply(this,arguments)}function l(){return(l=sL(regeneratorRuntime.mark((function t(i,l){var f,d,p,h,g,m,v,y,b=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m=function(){return(m=sL(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h(t),n=p(t)-r,e.next=4,WF(Zz(n));case 4:return e.abrupt("return",u(r,t,n));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)},g=function(e){return m.apply(this,arguments)},h=function(e){return e===l?Math.max(i-1,0):p(e)-1},p=function(e){return e===Xz?n:e===Yz?o:0},d=function(e){return i>0||(e===Xz?void 0===i&&n>0:e===Yz&&void 0===i&&o>0)},f=b.length>2&&void 0!==b[2]?b[2]:0,v=performance.now(),t.prev=7,t.next=10,e.apply(c,r);case 10:if(y=t.sent,s({response:y,retryCount:f,propertyKey:a,timeInMs:performance.now()-v,args:r}),!Jz(y)||!d(Yz)){t.next=16;break}return t.next=15,g(Yz);case 15:return t.abrupt("return",t.sent);case 16:return t.abrupt("return",y);case 19:if(t.prev=19,t.t0=t.catch(7),s({error:t.t0,retryCount:f,propertyKey:a,timeInMs:performance.now()-v,args:r}),!eK(t.t0)||!d(Xz)){t.next=24;break}return t.abrupt("return",g(Xz));case 24:throw t.t0;case 25:case"end":return t.stop()}}),t,null,[[7,19]])})))).apply(this,arguments)}return u()}}function rK(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.maxNetworkErrorRetryTimes,n=void 0===r?5:r,i=t.maxInternalServerErrorRetryTimes,o=void 0===i?1:i,a=t.onDone,s=void 0===a?function(){}:a,c={get:function(e,t){var r=e[t];return"function"==typeof r&&"constructor"!==t?tK(r,{maxNetworkErrorRetryTimes:n,maxInternalServerErrorRetryTimes:o,propertyKey:t,onDone:s}):r}};return new Proxy(e,c)}var nK=function(e){var t=e.response,r=(e.error,e.retryCount,e.propertyKey,e.timeInMs);return e.args,{event:"test-event",log:{request_status:t?"success":"fail",time_in_ms:r}}},iK=Object.freeze({__proto__:null,createRetryAPIClient:rK,useApiClient:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.apiCredentials,r=void 0===t?{}:t,n=e.tracking,i=void 0===n?{}:n,o=Sw.useRef(null),a=zF(),s=a.sendEvent,c=Sw.useCallback((function(e){try{var t=nK(e),r=t.event,n=t.log;s({tag:"sdk_api",event:r,log:n})}catch(e){}}),[s]);if(null===o.current){var u=r.accessKey,l=r.secretKey,f=r.apiUrl,d=i.userId,p=FF({userId:d});o.current=rK(new pF(u,l,f,{httpHeaders:dL(dL({},$z),{},{"x-request-id":p})}),{onDone:c})}return{apiClient:o.current}}}),oK="BFnYsWrH",aK="KbKcY2nb",sK=function(e){return e.split("").reverse().join("")},cK=function(e){var t=e.url;return new Promise((function(e){var r=document.createElement("script");r.onload=e,r.src=t,document.head.appendChild(r)}))},uK=window.fetch.bind(window);function lK(e){var t=e.split(","),r=t[0].match(/:(.*?);/)[1];return{u8arr:Uint8Array.from(atob(t[1]),(function(e){return e.charCodeAt(0)})),mime:r}}var fK=function(){var e=sL(regeneratorRuntime.mark((function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(sK(oK)).concat(sK(aK)),e.next=3,uK.apply(void 0,o);case 3:return r=e.sent,e.next=6,r.text();case 6:return n=e.sent,i=PF.AES.decrypt(n,t).toString(PF.enc.Utf8),e.abrupt("return",lK(i));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),dK=function(){var e=sL(regeneratorRuntime.mark((function e(){var t,r,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,uK.apply(void 0,n);case 2:return t=e.sent,e.next=5,t.text();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pK=Object.freeze({__proto__:null,reverseString:sK,loadExternalScript:cK,fetchWithDecryption:fK,fetchRawResource:dK}),hK=/\s/,gK=function(e){for(var t=e.length;t--&&hK.test(e.charAt(t)););return t},mK=/^\s+/,vK=function(e){return e?e.slice(0,gK(e)+1).replace(mK,""):e},yK=/^[-+]0x[0-9a-f]+$/i,bK=/^0b[01]+$/i,wK=/^0o[0-7]+$/i,CK=parseInt,EK=function(e){if("number"==typeof e)return e;if(wj(e))return NaN;if(JL(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=JL(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=vK(e);var r=bK.test(e);return r||wK.test(e)?CK(e.slice(2),r?2:8):yK.test(e)?NaN:+e},kK=function(e){return e?1/0===(e=EK(e))||-1/0===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},SK=function(e){var t=kK(e),r=t%1;return t==t?r?t-r:t:0},_K=function(e,t){var r;if("function"!=typeof t)throw new TypeError("Expected a function");return e=SK(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}},AK=function(e){return _K(2,e)}(function(){var e=sL(regeneratorRuntime.mark((function e(){var t,r,n,i,o,a,s,c,u,l,f,d,p,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=h.length>0&&void 0!==h[0]?h[0]:{},r=t.tfUrl,n=void 0===r?"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.11.0":r,i=t.tfBackendWasmUrl,o=void 0===i?"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-wasm@3.11.0/dist/tf-backend-wasm.js":i,a=t.tfBackendCpuUrl,s=void 0===a?"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-cpu@3.11.0":a,c=t.tfBackendWebGlUrl,u=void 0===c?"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-webgl@3.11.0":c,l=t.tfLiteUrl,f=void 0===l?"https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-tflite@0.0.1-alpha.7/dist/tf-tflite.min.js":l,d=t.blazefaceScriptUrl,p=void 0===d?"https://cdn.jsdelivr.net/npm/@tensorflow-models/blazeface@0.0.7":d,e.next=3,cK({url:n});case 3:return e.next=5,Promise.all([cK({url:o}),cK({url:s}),cK({url:u}),cK({url:p}),cK({url:f})]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());function TK(){return(TK=sL(regeneratorRuntime.mark((function e(){var t,r,n,i,o,a,s,c,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=u.length>0&&void 0!==u[0]?u[0]:{},r=t.preferredBackends,n=void 0===r?["webgl","wasm","cpu"]:r,!window.tv_model_backend_init||window.tv_model_backend_init[0]!==n[0]){e.next=3;break}return e.abrupt("return");case 3:return i=window,o=i.tf,e.next=6,o.enableProdMode();case 6:a=yL(n),e.prev=7,a.s();case 9:if((s=a.n()).done){e.next=23;break}return c=s.value,e.prev=11,e.next=14,o.setBackend(c);case 14:return e.abrupt("break",23);case 17:if(e.prev=17,e.t0=e.catch(11),c!==n[n.length-1]){e.next=21;break}throw e.t0;case 21:e.next=9;break;case 23:e.next=28;break;case 25:e.prev=25,e.t1=e.catch(7),a.e(e.t1);case 28:return e.prev=28,a.f(),e.finish(28);case 31:return e.next=33,o.ready();case 33:window.tv_model_backend_init=n;case 34:case"end":return e.stop()}}),e,null,[[7,25,28,31],[11,17]])})))).apply(this,arguments)}function xK(){return(xK=sL(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.modelUrl,n=window,i=n.blazeface,e.abrupt("return",r?i.load({modelUrl:r}):i.load());case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function IK(){return(IK=sL(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.modelUrl,e.next=3,dK(r);case 3:return n=e.sent,i=n.rawData,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function BK(){return(BK=sL(regeneratorRuntime.mark((function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.modelUrl,n=window,i=n.tflite,e.next=4,fK(r);case 4:return o=e.sent,a=o.u8arr,e.abrupt("return",i.loadTFLiteModel(a,{numThreads:navigator.hardwareConcurrency/2}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var RK=Object.freeze({__proto__:null,loadTensorFlow:AK,initTensorFlow:function(){return TK.apply(this,arguments)},loadBlazefaceModel:function(e){return xK.apply(this,arguments)},preloadResource:function(e){return IK.apply(this,arguments)},loadTFLiteModel:function(e){return BK.apply(this,arguments)}}),PK=Object.freeze({__proto__:null,enableAntiDebug:function(){var e,t,r=["action","gger","stateObject","apply","chain","test","input","Hello World!","constructor","counter","length","debu","call"];e=r,t=185,function(t){for(;--t;)e.push(e.shift())}(++t);var n,i,o=function(e,t){return r[e-=0]};function a(e){function t(e){if("string"==typeof e)return function(e){}[o("0x5")]("while (true) {}")[o("0x0")](o("0x6"));1!=="".concat(e/e)[o("0x7")]||e%20==0?function(){return!0}[o("0x5")]("".concat(o("0x8"),"gger"))[o("0x9")](o("0xa")):function(){return!1}.constructor("debu".concat(o("0xb")))[o("0x0")](o("0xc")),t(++e)}try{if(e)return t;t(0)}catch(e){}}setInterval((function(){a()}),4e3),n=!0,i=function(e,t){var r=n?function(){if(t){var r=t[o("0x0")](e,arguments);return t=null,r}}:function(){};return n=!1,r},function(){i(this,(function(){var e=new RegExp("function *\\( *\\)"),t=new RegExp("\\+\\+ *(?:_0x(?:[a-f0-9]){4,6}|(?:\\b|\\d)[a-z0-9]{1,4}(?:\\b|\\d))","i"),r=a("init");e.test(r+o("0x1"))&&t[o("0x2")](r+o("0x3"))?a():r("0")}))()}(),console.log(o("0x4"))}}),NK=Object.freeze({__proto__:null,useThemeContext:function(){return Sw.useContext(i_)}});function OK(){return(OK=sL(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.key,n=new TextEncoder,(i=n.encode(r)).reverse(),e.abrupt("return",crypto.subtle.digest("SHA-256",i));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var DK=Object.freeze({__proto__:null,encrypt:function(e){var t=e.blob,r=e.key;return new Promise((function(e){var n=new FileReader;n.onload=function(t){var n=t.target.result;(function(e){return OK.apply(this,arguments)})({key:r}).then((function(t){window.crypto.subtle.importKey("raw",t,"AES-GCM",!0,["encrypt","decrypt"]).then((function(t){window.crypto.subtle.encrypt({name:"AES-GCM",iv:new Uint8Array(12),tagLength:128},t,n).then((function(t){var r;e({hex:(r=t,gL(new Uint8Array(r)).map((function(e){return e.toString(16).padStart(2,"0")})).join(""))})}))}))}))},n.readAsArrayBuffer(t)}))}}),LK=function(){return URL.createObjectURL(new Blob(['\'use strict\';(function(){function T(a,b){let c=[],d="";b=a.readBits([8,16,16][b]);for(let d=0;d<b;d++){let b=a.readBits(8);c.push(b)}try{d+=decodeURIComponent(c.map(a=>`%${("0"+a.toString(16)).substr(-2)}`).join(""))}catch(e){}return{bytes:c,text:d}}function U(a,b){a=new V(a);let c=9>=b?0:26>=b?1:2;for(b={text:"",bytes:[],chunks:[],version:b};4<=a.available();){var d=a.readBits(4);if(d===t.Terminator)return b;if(d===t.ECI)0===a.readBits(1)?b.chunks.push({type:r.ECI,assignmentNumber:a.readBits(7)}):\n0===a.readBits(1)?b.chunks.push({type:r.ECI,assignmentNumber:a.readBits(14)}):0===a.readBits(1)?b.chunks.push({type:r.ECI,assignmentNumber:a.readBits(21)}):b.chunks.push({type:r.ECI,assignmentNumber:-1});else if(d===t.Numeric){var e=a;d=[];for(var f="",g=e.readBits([10,12,14][c]);3<=g;){var h=e.readBits(10);if(1E3<=h)throw Error("Invalid numeric value above 999");var k=Math.floor(h/100),n=Math.floor(h/10)%10;h%=10;d.push(48+k,48+n,48+h);f+=k.toString()+n.toString()+h.toString();g-=3}if(2===g){g=e.readBits(7);\nif(100<=g)throw Error("Invalid numeric value above 99");e=Math.floor(g/10);g%=10;d.push(48+e,48+g);f+=e.toString()+g.toString()}else if(1===g){e=e.readBits(4);if(10<=e)throw Error("Invalid numeric value above 9");d.push(48+e);f+=e.toString()}d={bytes:d,text:f};b.text+=d.text;b.bytes.push(...d.bytes);b.chunks.push({type:r.Numeric,text:d.text})}else if(d===t.Alphanumeric){e=a;d=[];f="";for(g=e.readBits([9,11,13][c]);2<=g;)n=e.readBits(11),k=Math.floor(n/45),n%=45,d.push(B[k].charCodeAt(0),B[n].charCodeAt(0)),\nf+=B[k]+B[n],g-=2;1===g&&(e=e.readBits(6),d.push(B[e].charCodeAt(0)),f+=B[e]);d={bytes:d,text:f};b.text+=d.text;b.bytes.push(...d.bytes);b.chunks.push({type:r.Alphanumeric,text:d.text})}else if(d===t.Byte)d=T(a,c),b.text+=d.text,b.bytes.push(...d.bytes),b.chunks.push({type:r.Byte,bytes:d.bytes,text:d.text});else if(d===t.Kanji){f=a;d=[];e=f.readBits([8,10,12][c]);for(g=0;g<e;g++)k=f.readBits(13),k=Math.floor(k/192)<<8|k%192,k=7936>k?k+33088:k+49472,d.push(k>>8,k&255);f=(new TextDecoder("shift-jis")).decode(Uint8Array.from(d));\nd={bytes:d,text:f};b.text+=d.text;b.bytes.push(...d.bytes);b.chunks.push({type:r.Kanji,bytes:d.bytes,text:d.text})}else d===t.StructuredAppend&&b.chunks.push({type:r.StructuredAppend,currentSequence:a.readBits(4),totalSequence:a.readBits(4),parity:a.readBits(8)})}if(0===a.available()||0===a.readBits(a.available()))return b}function J(a,b){return a^b}function W(a,b,c,d){b.degree()<c.degree()&&([b,c]=[c,b]);let e=a.zero;for(var f=a.one;c.degree()>=d/2;){var g=b;let d=e;b=c;e=f;if(b.isZero())return null;\nc=g;f=a.zero;g=b.getCoefficient(b.degree());for(g=a.inverse(g);c.degree()>=b.degree()&&!c.isZero();){let d=c.degree()-b.degree(),e=a.multiply(c.getCoefficient(c.degree()),g);f=f.addOrSubtract(a.buildMonomial(d,e));c=c.addOrSubtract(b.multiplyByMonomial(d,e))}f=f.multiplyPoly(e).addOrSubtract(d);if(c.degree()>=b.degree())return null}d=f.getCoefficient(0);if(0===d)return null;a=a.inverse(d);return[f.multiply(a),c.multiply(a)]}function X(a,b){let c=new Uint8ClampedArray(a.length);c.set(a);a=new Y(285,\n256,0);var d=new w(a,c),e=new Uint8ClampedArray(b),f=!1;for(var g=0;g<b;g++){var h=d.evaluateAt(a.exp(g+a.generatorBase));e[e.length-1-g]=h;0!==h&&(f=!0)}if(!f)return c;d=new w(a,e);d=W(a,a.buildMonomial(b,1),d,b);if(null===d)return null;b=d[0];g=b.degree();if(1===g)b=[b.getCoefficient(1)];else{e=Array(g);f=0;for(h=1;h<a.size&&f<g;h++)0===b.evaluateAt(h)&&(e[f]=a.inverse(h),f++);b=f!==g?null:e}if(null==b)return null;d=d[1];e=b.length;f=Array(e);for(g=0;g<e;g++){h=a.inverse(b[g]);let c=1;for(let d=\n0;d<e;d++)g!==d&&(c=a.multiply(c,J(1,a.multiply(b[d],h))));f[g]=a.multiply(d.evaluateAt(h),a.inverse(c));0!==a.generatorBase&&(f[g]=a.multiply(f[g],h))}d=f;for(e=0;e<b.length;e++){f=c.length-1-a.log(b[e]);if(0>f)return null;c[f]^=d[e]}return c}function E(a,b){a^=b;for(b=0;a;)b++,a&=a-1;return b}function C(a,b){return b<<1|a}function Z(a,b,c){c=aa[c.dataMask];let d=a.height;var e=17+4*b.versionNumber,f=A.createEmpty(e,e);f.setRegion(0,0,9,9,!0);f.setRegion(e-8,0,8,9,!0);f.setRegion(0,e-8,9,8,!0);for(var g of b.alignmentPatternCenters)for(var h of b.alignmentPatternCenters)6===\ng&&6===h||6===g&&h===e-7||g===e-7&&6===h||f.setRegion(g-2,h-2,5,5,!0);f.setRegion(6,9,1,e-17,!0);f.setRegion(9,6,e-17,1,!0);6<b.versionNumber&&(f.setRegion(e-11,0,3,6,!0),f.setRegion(0,e-11,6,3,!0));b=f;g=[];e=h=0;f=!0;for(let k=d-1;0<k;k-=2){6===k&&k--;for(let n=0;n<d;n++){let m=f?d-1-n:n;for(let d=0;2>d;d++){let f=k-d;if(!b.get(f,m)){e++;let b=a.get(f,m);c({y:m,x:f})&&(b=!b);h=h<<1|b;8===e&&(g.push(h),h=e=0)}}}f=!f}return g}function ba(a){var b=a.height,c=Math.floor((b-17)/4);if(6>=c)return K[c-\n1];c=0;for(var d=5;0<=d;d--)for(var e=b-9;e>=b-11;e--)c=C(a.get(e,d),c);d=0;for(e=5;0<=e;e--)for(let c=b-9;c>=b-11;c--)d=C(a.get(e,c),d);a=Infinity;let f;for(let e of K){if(e.infoBits===c||e.infoBits===d)return e;b=E(c,e.infoBits);b<a&&(f=e,a=b);b=E(d,e.infoBits);b<a&&(f=e,a=b)}if(3>=a)return f}function ca(a){let b=0;for(var c=0;8>=c;c++)6!==c&&(b=C(a.get(c,8),b));for(c=7;0<=c;c--)6!==c&&(b=C(a.get(8,c),b));var d=a.height;c=0;for(var e=d-1;e>=d-7;e--)c=C(a.get(8,e),c);for(e=d-8;e<d;e++)c=C(a.get(e,\n8),c);a=Infinity;d=null;for(let {bits:f,formatInfo:g}of da){if(f===b||f===c)return g;e=E(b,f);e<a&&(d=g,a=e);b!==c&&(e=E(c,f),e<a&&(d=g,a=e))}return 3>=a?d:null}function ea(a,b,c){let d=b.errorCorrectionLevels[c],e=[],f=0;d.ecBlocks.forEach(a=>{for(let b=0;b<a.numBlocks;b++)e.push({numDataCodewords:a.dataCodewordsPerBlock,codewords:[]}),f+=a.dataCodewordsPerBlock+d.ecCodewordsPerBlock});if(a.length<f)return null;a=a.slice(0,f);b=d.ecBlocks[0].dataCodewordsPerBlock;for(c=0;c<b;c++)for(var g of e)g.codewords.push(a.shift());\nif(1<d.ecBlocks.length)for(g=d.ecBlocks[0].numBlocks,b=d.ecBlocks[1].numBlocks,c=0;c<b;c++)e[g+c].codewords.push(a.shift());for(;0<a.length;)for(let b of e)b.codewords.push(a.shift());return e}function L(a){let b=ba(a);if(!b)return null;var c=ca(a);if(!c)return null;a=Z(a,b,c);var d=ea(a,b,c.errorCorrectionLevel);if(!d)return null;c=d.reduce((a,b)=>a+b.numDataCodewords,0);c=new Uint8ClampedArray(c);a=0;for(let b of d){d=X(b.codewords,b.codewords.length-b.numDataCodewords);if(!d)return null;for(let e=\n0;e<b.numDataCodewords;e++)c[a++]=d[e]}try{return U(c,b.versionNumber)}catch(e){return null}}function M(a,b,c,d){var e=a.x-b.x+c.x-d.x;let f=a.y-b.y+c.y-d.y;if(0===e&&0===f)return{a11:b.x-a.x,a12:b.y-a.y,a13:0,a21:c.x-b.x,a22:c.y-b.y,a23:0,a31:a.x,a32:a.y,a33:1};{let h=b.x-c.x;var g=d.x-c.x;let k=b.y-c.y,n=d.y-c.y;c=h*n-g*k;g=(e*n-g*f)/c;e=(h*f-e*k)/c;return{a11:b.x-a.x+g*b.x,a12:b.y-a.y+g*b.y,a13:g,a21:d.x-a.x+e*d.x,a22:d.y-a.y+e*d.y,a23:e,a31:a.x,a32:a.y,a33:1}}}function fa(a,b,c,d){a=M(a,b,c,d);\nreturn{a11:a.a22*a.a33-a.a23*a.a32,a12:a.a13*a.a32-a.a12*a.a33,a13:a.a12*a.a23-a.a13*a.a22,a21:a.a23*a.a31-a.a21*a.a33,a22:a.a11*a.a33-a.a13*a.a31,a23:a.a13*a.a21-a.a11*a.a23,a31:a.a21*a.a32-a.a22*a.a31,a32:a.a12*a.a31-a.a11*a.a32,a33:a.a11*a.a22-a.a12*a.a21}}function ha(a,b){var c=fa({x:3.5,y:3.5},{x:b.dimension-3.5,y:3.5},{x:b.dimension-6.5,y:b.dimension-6.5},{x:3.5,y:b.dimension-3.5}),d=M(b.topLeft,b.topRight,b.alignmentPattern,b.bottomLeft),e=d.a11*c.a11+d.a21*c.a12+d.a31*c.a13,f=d.a12*c.a11+\nd.a22*c.a12+d.a32*c.a13,g=d.a13*c.a11+d.a23*c.a12+d.a33*c.a13,h=d.a11*c.a21+d.a21*c.a22+d.a31*c.a23,k=d.a12*c.a21+d.a22*c.a22+d.a32*c.a23,n=d.a13*c.a21+d.a23*c.a22+d.a33*c.a23,m=d.a11*c.a31+d.a21*c.a32+d.a31*c.a33,l=d.a12*c.a31+d.a22*c.a32+d.a32*c.a33,p=d.a13*c.a31+d.a23*c.a32+d.a33*c.a33;c=A.createEmpty(b.dimension,b.dimension);d=(a,b)=>{const c=g*a+n*b+p;return{x:(e*a+h*b+m)/c,y:(f*a+k*b+l)/c}};for(let e=0;e<b.dimension;e++)for(let f=0;f<b.dimension;f++){let b=d(f+.5,e+.5);c.set(f,e,a.get(Math.floor(b.x),\nMath.floor(b.y)))}return{matrix:c,mappingFunction:d}}function x(a){return a.reduce((a,c)=>a+c)}function ia(a,b,c){let d=y(a,b),e=y(b,c),f=y(a,c),g,h,k;e>=d&&e>=f?[g,h,k]=[b,a,c]:f>=e&&f>=d?[g,h,k]=[a,b,c]:[g,h,k]=[a,c,b];0>(k.x-h.x)*(g.y-h.y)-(k.y-h.y)*(g.x-h.x)&&([g,k]=[k,g]);return{bottomLeft:g,topLeft:h,topRight:k}}function ja(a,b,c,d){d=(x(z(a,c,d,5))/7+x(z(a,b,d,5))/7+x(z(c,a,d,5))/7+x(z(b,a,d,5))/7)/4;if(1>d)throw Error("Invalid module size");b=Math.round(y(a,b)/d);a=Math.round(y(a,c)/d);a=\nMath.floor((b+a)/2)+7;switch(a%4){case 0:a++;break;case 2:a--}return{dimension:a,moduleSize:d}}function N(a,b,c,d){let e=[{x:Math.floor(a.x),y:Math.floor(a.y)}];var f=Math.abs(b.y-a.y)>Math.abs(b.x-a.x);if(f){var g=Math.floor(a.y);var h=Math.floor(a.x);a=Math.floor(b.y);b=Math.floor(b.x)}else g=Math.floor(a.x),h=Math.floor(a.y),a=Math.floor(b.x),b=Math.floor(b.y);let k=Math.abs(a-g),n=Math.abs(b-h),m=Math.floor(-k/2),l=g<a?1:-1,p=h<b?1:-1,q=!0;for(let v=g,u=h;v!==a+l;v+=l){g=f?u:v;h=f?v:u;if(c.get(g,\nh)!==q&&(q=!q,e.push({x:g,y:h}),e.length===d+1))break;m+=n;if(0<m){if(u===b)break;u+=p;m-=k}}c=[];for(f=0;f<d;f++)e[f]&&e[f+1]?c.push(y(e[f],e[f+1])):c.push(0);return c}function z(a,b,c,d){let e=b.y-a.y,f=b.x-a.x;b=N(a,b,c,Math.ceil(d/2));a=N(a,{x:a.x-f,y:a.y-e},c,Math.ceil(d/2));c=b.shift()+a.shift()-1;return a.concat(c).concat(...b)}function F(a,b){let c=x(a)/x(b),d=0;b.forEach((b,f)=>{d+=Math.pow(a[f]-b*c,2)});return{averageSize:c,error:d}}function O(a,b,c){try{let d=z(a,{x:-1,y:a.y},c,b.length),\ne=z(a,{x:a.x,y:-1},c,b.length),f=z(a,{x:Math.max(0,a.x-a.y)-1,y:Math.max(0,a.y-a.x)-1},c,b.length),g=z(a,{x:Math.min(c.width,a.x+a.y)+1,y:Math.min(c.height,a.y+a.x)+1},c,b.length),h=F(d,b),k=F(e,b),n=F(f,b),m=F(g,b),l=(h.averageSize+k.averageSize+n.averageSize+m.averageSize)/4;return Math.sqrt(h.error*h.error+k.error*k.error+n.error*n.error+m.error*m.error)+(Math.pow(h.averageSize-l,2)+Math.pow(k.averageSize-l,2)+Math.pow(n.averageSize-l,2)+Math.pow(m.averageSize-l,2))/l}catch(d){return Infinity}}\nfunction H(a,b){for(var c=Math.round(b.x);a.get(c,Math.round(b.y));)c--;for(var d=Math.round(b.x);a.get(d,Math.round(b.y));)d++;c=(c+d)/2;for(d=Math.round(b.y);a.get(Math.round(c),d);)d--;for(b=Math.round(b.y);a.get(Math.round(c),b);)b++;return{x:c,y:(d+b)/2}}function ka(a){var b=[],c=[];let d=[];var e=[];for(let m=0;m<=a.height;m++){var f=0,g=!1;let l=[0,0,0,0,0];for(let b=-1;b<=a.width;b++){var h=a.get(b,m);if(h===g)f++;else{l=[l[1],l[2],l[3],l[4],f];f=1;g=h;var k=x(l)/7;k=Math.abs(l[0]-k)<k&&Math.abs(l[1]-\nk)<k&&Math.abs(l[2]-3*k)<3*k&&Math.abs(l[3]-k)<k&&Math.abs(l[4]-k)<k&&!h;var n=x(l.slice(-3))/3;h=Math.abs(l[2]-n)<n&&Math.abs(l[3]-n)<n&&Math.abs(l[4]-n)<n&&h;if(k){let a=b-l[3]-l[4],d=a-l[2];k={startX:d,endX:a,y:m};n=c.filter(b=>d>=b.bottom.startX&&d<=b.bottom.endX||a>=b.bottom.startX&&d<=b.bottom.endX||d<=b.bottom.startX&&a>=b.bottom.endX&&1.5>l[2]/(b.bottom.endX-b.bottom.startX)&&.5<l[2]/(b.bottom.endX-b.bottom.startX));0<n.length?n[0].bottom=k:c.push({top:k,bottom:k})}if(h){let a=b-l[4],c=a-\nl[3];h={startX:c,y:m,endX:a};k=e.filter(b=>c>=b.bottom.startX&&c<=b.bottom.endX||a>=b.bottom.startX&&c<=b.bottom.endX||c<=b.bottom.startX&&a>=b.bottom.endX&&1.5>l[2]/(b.bottom.endX-b.bottom.startX)&&.5<l[2]/(b.bottom.endX-b.bottom.startX));0<k.length?k[0].bottom=h:e.push({top:h,bottom:h})}}}b.push(...c.filter(a=>a.bottom.y!==m&&2<=a.bottom.y-a.top.y));c=c.filter(a=>a.bottom.y===m);d.push(...e.filter(a=>a.bottom.y!==m));e=e.filter(a=>a.bottom.y===m)}b.push(...c.filter(a=>2<=a.bottom.y-a.top.y));d.push(...e);\nc=[];for(var m of b)2>m.bottom.y-m.top.y||(b=(m.top.startX+m.top.endX+m.bottom.startX+m.bottom.endX)/4,e=(m.top.y+m.bottom.y+1)/2,a.get(Math.round(b),Math.round(e))&&(f=[m.top.endX-m.top.startX,m.bottom.endX-m.bottom.startX,m.bottom.y-m.top.y+1],f=x(f)/f.length,g=O({x:Math.round(b),y:Math.round(e)},[1,1,3,1,1],a),c.push({score:g,x:b,y:e,size:f})));if(3>c.length)return null;c.sort((a,b)=>a.score-b.score);m=[];for(b=0;b<Math.min(c.length,5);++b){e=c[b];f=[];for(var l of c)l!==e&&f.push(Object.assign(Object.assign({},\nl),{score:l.score+Math.pow(l.size-e.size,2)/e.size}));f.sort((a,b)=>a.score-b.score);m.push({points:[e,f[0],f[1]],score:e.score+f[0].score+f[1].score})}m.sort((a,b)=>a.score-b.score);let {topRight:p,topLeft:q,bottomLeft:v}=ia(...m[0].points);m=P(a,d,p,q,v);l=[];m&&l.push({alignmentPattern:{x:m.alignmentPattern.x,y:m.alignmentPattern.y},bottomLeft:{x:v.x,y:v.y},dimension:m.dimension,topLeft:{x:q.x,y:q.y},topRight:{x:p.x,y:p.y}});m=H(a,p);b=H(a,q);c=H(a,v);(a=P(a,d,m,b,c))&&l.push({alignmentPattern:{x:a.alignmentPattern.x,\ny:a.alignmentPattern.y},bottomLeft:{x:c.x,y:c.y},topLeft:{x:b.x,y:b.y},topRight:{x:m.x,y:m.y},dimension:a.dimension});return 0===l.length?null:l}function P(a,b,c,d,e){let f,g;try{({dimension:f,moduleSize:g}=ja(d,c,e,a))}catch(m){return null}var h=c.x-d.x+e.x,k=c.y-d.y+e.y;c=(y(d,e)+y(d,c))/2/g;e=1-3/c;let n={x:d.x+e*(h-d.x),y:d.y+e*(k-d.y)};b=b.map(b=>{const c=(b.top.startX+b.top.endX+b.bottom.startX+b.bottom.endX)/4;b=(b.top.y+b.bottom.y+1)/2;if(a.get(Math.floor(c),Math.floor(b))){var d=O({x:Math.floor(c),\ny:Math.floor(b)},[1,1,1],a)+y({x:c,y:b},n);return{x:c,y:b,score:d}}}).filter(a=>!!a).sort((a,b)=>a.score-b.score);return{alignmentPattern:15<=c&&b.length?b[0]:n,dimension:f}}function Q(a){var b=ka(a);if(!b)return null;for(let e of b){b=ha(a,e);var c=b.matrix;if(null==c)c=null;else{var d=L(c);if(d)c=d;else{for(d=0;d<c.width;d++)for(let a=d+1;a<c.height;a++)c.get(d,a)!==c.get(a,d)&&(c.set(d,a,!c.get(d,a)),c.set(a,d,!c.get(a,d)));c=L(c)}}if(c)return{binaryData:c.bytes,data:c.text,chunks:c.chunks,version:c.version,\nlocation:{topRightCorner:b.mappingFunction(e.dimension,0),topLeftCorner:b.mappingFunction(0,0),bottomRightCorner:b.mappingFunction(e.dimension,e.dimension),bottomLeftCorner:b.mappingFunction(0,e.dimension),topRightFinderPattern:e.topRight,topLeftFinderPattern:e.topLeft,bottomLeftFinderPattern:e.bottomLeft,bottomRightAlignmentPattern:e.alignmentPattern},matrix:b.matrix}}return null}function R(a,b){Object.keys(b).forEach(c=>{a[c]=b[c]})}function I(a,b,c,d={}){let e=Object.create(null);R(e,la);R(e,d);\nd="onlyInvert"===e.inversionAttempts||"invertFirst"===e.inversionAttempts;var f="attemptBoth"===e.inversionAttempts||d;var g=e.greyScaleWeights,h=e.canOverwriteImage,k=b*c;if(a.length!==4*k)throw Error("Malformed data passed to binarizer.");var n=0;if(h){var m=new Uint8ClampedArray(a.buffer,n,k);n+=k}m=new S(b,c,m);if(g.useIntegerApproximation)for(var l=0;l<c;l++)for(var p=0;p<b;p++){var q=4*(l*b+p);m.set(p,l,g.red*a[q]+g.green*a[q+1]+g.blue*a[q+2]+128>>8)}else for(l=0;l<c;l++)for(p=0;p<b;p++)q=4*\n(l*b+p),m.set(p,l,g.red*a[q]+g.green*a[q+1]+g.blue*a[q+2]);g=Math.ceil(b/8);l=Math.ceil(c/8);p=g*l;if(h){var v=new Uint8ClampedArray(a.buffer,n,p);n+=p}v=new S(g,l,v);for(p=0;p<l;p++)for(q=0;q<g;q++){var u=Infinity,r=0;for(var t=0;8>t;t++)for(let a=0;8>a;a++){let b=m.get(8*q+a,8*p+t);u=Math.min(u,b);r=Math.max(r,b)}t=(u+r)/2;t=Math.min(255,1.11*t);24>=r-u&&(t=u/2,0<p&&0<q&&(r=(v.get(q,p-1)+2*v.get(q-1,p)+v.get(q-1,p-1))/4,u<r&&(t=r)));v.set(q,p,t)}h?(p=new Uint8ClampedArray(a.buffer,n,k),n+=k,p=new A(p,\nb)):p=A.createEmpty(b,c);q=null;f&&(h?(a=new Uint8ClampedArray(a.buffer,n,k),q=new A(a,b)):q=A.createEmpty(b,c));for(b=0;b<l;b++)for(a=0;a<g;a++){c=g-3;c=2>a?2:a>c?c:a;h=l-3;h=2>b?2:b>h?h:b;k=0;for(n=-2;2>=n;n++)for(u=-2;2>=u;u++)k+=v.get(c+n,h+u);c=k/25;for(h=0;8>h;h++)for(k=0;8>k;k++)n=8*a+h,u=8*b+k,r=m.get(n,u),p.set(n,u,r<=c),f&&q.set(n,u,!(r<=c))}f=f?{binarized:p,inverted:q}:{binarized:p};let {binarized:w,inverted:x}=f;(f=Q(d?x:w))||"attemptBoth"!==e.inversionAttempts&&"invertFirst"!==e.inversionAttempts||\n(f=Q(d?w:x));return f}class A{constructor(a,b){this.width=b;this.height=a.length/b;this.data=a}static createEmpty(a,b){return new A(new Uint8ClampedArray(a*b),a)}get(a,b){return 0>a||a>=this.width||0>b||b>=this.height?!1:!!this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c?1:0}setRegion(a,b,c,d,e){for(let f=b;f<b+d;f++)for(let b=a;b<a+c;b++)this.set(b,f,!!e)}}class S{constructor(a,b,c){this.width=a;a*=b;if(c&&c.length!==a)throw Error("Wrong buffer size");this.data=c||new Uint8ClampedArray(a)}get(a,\nb){return this.data[b*this.width+a]}set(a,b,c){this.data[b*this.width+a]=c}}class V{constructor(a){this.bitOffset=this.byteOffset=0;this.bytes=a}readBits(a){if(1>a||32<a||a>this.available())throw Error("Cannot read "+a.toString()+" bits");var b=0;if(0<this.bitOffset){b=8-this.bitOffset;var c=a<b?a:b;b-=c;b=(this.bytes[this.byteOffset]&255>>8-c<<b)>>b;a-=c;this.bitOffset+=c;8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(0<a){for(;8<=a;)b=b<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,\na-=8;0<a&&(c=8-a,b=b<<a|(this.bytes[this.byteOffset]&255>>c<<c)>>c,this.bitOffset+=a)}return b}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var r;(function(a){a.Numeric="numeric";a.Alphanumeric="alphanumeric";a.Byte="byte";a.Kanji="kanji";a.ECI="eci";a.StructuredAppend="structuredappend"})(r||(r={}));var t;(function(a){a[a.Terminator=0]="Terminator";a[a.Numeric=1]="Numeric";a[a.Alphanumeric=2]="Alphanumeric";a[a.Byte=4]="Byte";a[a.Kanji=8]="Kanji";a[a.ECI=7]="ECI";a[a.StructuredAppend=\n3]="StructuredAppend"})(t||(t={}));let B="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:".split("");class w{constructor(a,b){if(0===b.length)throw Error("No coefficients.");this.field=a;let c=b.length;if(1<c&&0===b[0]){let d=1;for(;d<c&&0===b[d];)d++;if(d===c)this.coefficients=a.zero.coefficients;else for(this.coefficients=new Uint8ClampedArray(c-d),a=0;a<this.coefficients.length;a++)this.coefficients[a]=b[d+a]}else this.coefficients=b}degree(){return this.coefficients.length-1}isZero(){return 0===\nthis.coefficients[0]}getCoefficient(a){return this.coefficients[this.coefficients.length-1-a]}addOrSubtract(a){if(this.isZero())return a;if(a.isZero())return this;let b=this.coefficients;a=a.coefficients;b.length>a.length&&([b,a]=[a,b]);let c=new Uint8ClampedArray(a.length),d=a.length-b.length;for(var e=0;e<d;e++)c[e]=a[e];for(e=d;e<a.length;e++)c[e]=b[e-d]^a[e];return new w(this.field,c)}multiply(a){if(0===a)return this.field.zero;if(1===a)return this;let b=this.coefficients.length,c=new Uint8ClampedArray(b);\nfor(let d=0;d<b;d++)c[d]=this.field.multiply(this.coefficients[d],a);return new w(this.field,c)}multiplyPoly(a){if(this.isZero()||a.isZero())return this.field.zero;let b=this.coefficients,c=b.length;a=a.coefficients;let d=a.length,e=new Uint8ClampedArray(c+d-1);for(let h=0;h<c;h++){let c=b[h];for(let b=0;b<d;b++){var f=h+b,g=this.field.multiply(c,a[b]);e[f]=e[h+b]^g}}return new w(this.field,e)}multiplyByMonomial(a,b){if(0>a)throw Error("Invalid degree less than 0");if(0===b)return this.field.zero;\nlet c=this.coefficients.length;a=new Uint8ClampedArray(c+a);for(let d=0;d<c;d++)a[d]=this.field.multiply(this.coefficients[d],b);return new w(this.field,a)}evaluateAt(a){let b=0;if(0===a)return this.getCoefficient(0);let c=this.coefficients.length;if(1===a)return this.coefficients.forEach(a=>{b^=a}),b;b=this.coefficients[0];for(let d=1;d<c;d++)b=J(this.field.multiply(a,b),this.coefficients[d]);return b}}class Y{constructor(a,b,c){this.primitive=a;this.size=b;this.generatorBase=c;this.expTable=Array(this.size);\nthis.logTable=Array(this.size);a=1;for(b=0;b<this.size;b++)this.expTable[b]=a,a*=2,a>=this.size&&(a=(a^this.primitive)&this.size-1);for(a=0;a<this.size-1;a++)this.logTable[this.expTable[a]]=a;this.zero=new w(this,Uint8ClampedArray.from([0]));this.one=new w(this,Uint8ClampedArray.from([1]))}multiply(a,b){return 0===a||0===b?0:this.expTable[(this.logTable[a]+this.logTable[b])%(this.size-1)]}inverse(a){if(0===a)throw Error("Can\'t invert 0");return this.expTable[this.size-this.logTable[a]-1]}buildMonomial(a,\nb){if(0>a)throw Error("Invalid monomial degree less than 0");if(0===b)return this.zero;a=new Uint8ClampedArray(a+1);a[0]=b;return new w(this,a)}log(a){if(0===a)throw Error("Can\'t take log(0)");return this.logTable[a]}exp(a){return this.expTable[a]}}let K=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,\necBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},\n{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,\ndataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,\necBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},\n{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},\n{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},\n{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},\n{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,\ndataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,\ndataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},\n{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},\n{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},\n{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,\necBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},\n{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},\n{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,\necBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,\ndataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,\ndataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,\necBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,\necBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,\ndataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,\necBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,\n32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},\n{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},\n{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,\necBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,\ndataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,\necBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},\n{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,\necBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},\n{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},\n{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,\necBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,\n30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},\n{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,\ndataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},\n{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,\ndataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},\n{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,\ndataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}],da=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,\ndataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,\nformatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,\ndataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,\ndataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],aa=[a=>0===(a.y+a.x)%2,a=>0===a.y%2,a=>0===a.x%3,a=>0===(a.y+a.x)%3,a=>0===(Math.floor(a.y/2)+Math.floor(a.x/3))%2,a=>0===a.x*a.y%2+a.x*a.y%3,a=>0===(a.y*a.x%2+a.y*a.x%3)%2,a=>0===((a.y+a.x)%2+a.y*a.x%3)%2],y=(a,b)=>Math.sqrt(Math.pow(b.x-a.x,2)+Math.pow(b.y-a.y,2)),la={inversionAttempts:"attemptBoth",greyScaleWeights:{red:.2126,green:.7152,blue:.0722,useIntegerApproximation:!1},\ncanOverwriteImage:!0};I.default=I;let G="dontInvert",D={red:77,green:150,blue:29,useIntegerApproximation:!0};self.onmessage=a=>{let b=a.data.data;switch(a.data.type){case "decode":a=I(b.data,b.width,b.height,{inversionAttempts:G,greyScaleWeights:D});self.postMessage({type:"qrResult",data:a?a.data:null});break;case "grayscaleWeights":D.red=b.red;D.green=b.green;D.blue=b.blue;D.useIntegerApproximation=b.useIntegerApproximation;break;case "inversionMode":switch(b){case "original":G="dontInvert";break;\ncase "invert":G="onlyInvert";break;case "both":G="attemptBoth";break;default:throw Error("Invalid inversion mode");}break;case "close":self.close()}}})()\n\n']))},MK=function(e,t,r,n,i,o,a,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,i,o,a,s],l=0;(c=new Error(t.replace(/%s/g,(function(){return u[l++]})))).name="Invariant Violation"}throw c.framesToPop=1,c}},UK=kF(),jK=function(){function e(t){var r=this,n=t.container,i=t.lang,o=void 0===i?"en":i,a=t.assetRoot,s=void 0===a?"https://unpkg.com/@tsocial/tvweb-sdk@latest/assets":a,c=t.resourceRoot,u=t.customUrls,l=void 0===u?{}:u,f=t.enableAntiDebug,d=void 0===f||f,p=t.warmupMessage,h=t.baseComponent,g=t.component,m=void 0===g?{}:g;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),uL(this,"initNativeCamera",(function(e){var t=document.createElement("div");document.body.appendChild(t);var n=Sw.createRef(),i=r.component.NativeCamera;return rL.render(Sw.createElement(i,lL({},e,{ref:n})),t),{openCamera:function(){n.current.click()}}})),uL(this,"runWarmUpReadIDCard",sL(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.commonSettings.customUrls,e.abrupt("return",r.component.warmUpReadIdCard(t));case 2:case"end":return e.stop()}}),e)})))),uL(this,"runPreloadEKYCResources",sL(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r.commonSettings.customUrls,r.component.preloadEKYCResources(t);case 2:case"end":return e.stop()}}),e)})))),uL(this,"destroyView",(function(){rL.unmountComponentAtNode(r.container)})),MK(n,"container is a required parameter"),this.container=n,this.container.style="touch-action: none; -ms-touch-action: none;";var v=aF({resourceRoot:c,initCustomUrls:l});this.commonSettings={lang:o,assetRoot:s,customUrls:v,enableAntiDebug:d,debug:!1,warmupMessage:p},this.component=dL(dL({},h),m)}var t;return(t=[{key:"checkCamera",value:function(){return(0,this.component.checkCamera)()}},{key:"getListCamera",value:function(){return(0,this.component.getListCamera)()}},{key:"readIDCardWithApiCall",value:function(e){var t=this.component.ReadIDCardWithApiCall;rL.render(Sw.createElement(cF,{value:dL({},this.commonSettings)},Sw.createElement(t,lL({onClose:this.destroyView},e))),this.container)}},{key:"readIDCardUIOnly",value:function(e){var t=this.component.ReadIDCardUIOnly;rL.render(Sw.createElement(cF,{value:this.commonSettings},Sw.createElement(t,lL({onClose:this.destroyView},e))),this.container)}},{key:"livenessDetection",value:function(e){var t=this.component.LivenessDetection;rL.render(Sw.createElement(cF,{value:dL({},this.commonSettings)},Sw.createElement(t,lL({onClose:this.destroyView},e))),this.container)}},{key:"compareFaces",value:function(e){var t=e.accessKey,r=e.secretKey,n=e.apiUrl,i=e.image1,o=e.image2,a=e.onSuccess,s=e.onError;rK(new pF(t,r,n,{httpHeaders:UK})).compareFaces({image1:{id:i},image2:{id:o}}).then((function(e){a(e)})).catch((function(e){s(e)}))}}])&&cL(e.prototype,t),e}();function FK(){return"5.11.0"}function VK(e){return(VK="function"==typeof Symbol&&"symbol"==ky(Symbol.iterator)?function(e){return ky(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":ky(e)})(e)}function zK(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,i)}function KK(e){return function(){var t=this,r=arguments;return new Promise((function(n,i){var o=e.apply(t,r);function a(e){zK(o,n,i,a,s,"next",e)}function s(e){zK(o,n,i,a,s,"throw",e)}a(void 0)}))}}function qK(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function HK(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QK(){return(QK=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function WK(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function GK(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?WK(Object(r),!0).forEach((function(t){HK(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WK(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function YK(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}function XK(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function $K(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(e){i=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw o}}return r}}(e,t)||JK(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ZK(e){return function(e){if(Array.isArray(e))return eq(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||JK(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JK(e,t){if(e){if("string"==typeof e)return eq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?eq(e,t):void 0}}function eq(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tq(){return(tq=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function rq(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function nq(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function iq(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var oq=!1,aq=Sw.createContext(null),sq="entering",cq="entered",uq=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;var i,o=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?o?(i="exited",n.appearStatus=sq):i=cq:i=t.unmountOnExit||t.mountOnEnter?"unmounted":"exited",n.state={status:i},n.nextCallback=null,n}nq(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&"unmounted"===t.status?{status:"exited"}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==sq&&r!==cq&&(t=sq):r!==sq&&r!==cq||(t="exiting")}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===sq?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&"exited"===this.state.status&&this.setState({status:"unmounted"})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,i=this.props.nodeRef?[n]:[rL.findDOMNode(this),n],o=i[0],a=i[1],s=this.getTimeouts(),c=n?s.appear:s.enter;!e&&!r||oq?this.safeSetState({status:cq},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:sq},(function(){t.props.onEntering(o,a),t.onTransitionEnd(c,(function(){t.safeSetState({status:cq},(function(){t.props.onEntered(o,a)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:rL.findDOMNode(this);t&&!oq?(this.props.onExit(n),this.safeSetState({status:"exiting"},(function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:"exited"},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:"exited"},(function(){e.props.onExited(n)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:rL.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(r&&!n){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if("unmounted"===e)return null;var t=this.props,r=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,rq(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return Sw.createElement(aq.Provider,{value:null},"function"==typeof r?r(e,n):Sw.cloneElement(Sw.Children.only(r),n))},t}(Sw.Component);function lq(){}uq.contextType=aq,uq.propTypes={},uq.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:lq,onEntering:lq,onEntered:lq,onExit:lq,onExiting:lq,onExited:lq},uq.UNMOUNTED="unmounted",uq.EXITED="exited",uq.ENTERING=sq,uq.ENTERED=cq,uq.EXITING="exiting";var fq,dq,pq=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((r=e).classList?r.classList.add(n):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,n)||("string"==typeof r.className?r.className=r.className+" "+n:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+n)));var r,n}))},hq=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return n=t,void((r=e).classList?r.classList.remove(n):"string"==typeof r.className?r.className=iq(r.className,n):r.setAttribute("class",iq(r.className&&r.className.baseVal||"",n)));var r,n}))},gq=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,r){var n=t.resolveArguments(e,r),i=n[0],o=n[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.resolveArguments(e,r),i=n[0],o=n[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.resolveArguments(e,r),i=n[0],o=n[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"appear"),t.removeClasses(r,"enter"),t.addClass(r,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.resolveArguments(e)[0];t.addClass(r,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"exit"),t.addClass(r,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,r){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,r]},t.getClassNames=function(e){var r=t.props.classNames,n="string"==typeof r,i=n?(n&&r?r+"-":"")+e:r[e];return{baseClassName:i,activeClassName:n?i+"-active":r[e+"Active"],doneClassName:n?i+"-done":r[e+"Done"]}},t}nq(t,e);var r=t.prototype;return r.addClass=function(e,t,r){var n=this.getClassNames(t)[r+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===r&&i&&(n+=" "+i),"active"===r&&e&&e.scrollTop,n&&(this.appliedClasses[t][r]=n,pq(e,n))},r.removeClasses=function(e,t){var r=this.appliedClasses[t],n=r.base,i=r.active,o=r.done;this.appliedClasses[t]={},n&&hq(e,n),i&&hq(e,i),o&&hq(e,o)},r.render=function(){var e=this.props,t=(e.classNames,rq(e,["classNames"]));return Sw.createElement(uq,tq({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(Sw.Component);gq.defaultProps={classNames:""},gq.propTypes={};var mq="out-in",vq="in-out",yq=function(e,t,r){return function(){var n;e.props[t]&&(n=e.props)[t].apply(n,arguments),r()}},bq=((fq={})[mq]=function(e){var t=e.current,r=e.changeState;return Sw.cloneElement(t,{in:!1,onExited:yq(t,"onExited",(function(){r(sq,null)}))})},fq[vq]=function(e){var t=e.current,r=e.changeState,n=e.children;return[t,Sw.cloneElement(n,{in:!0,onEntered:yq(n,"onEntered",(function(){r(sq)}))})]},fq),wq=((dq={})[mq]=function(e){var t=e.children,r=e.changeState;return Sw.cloneElement(t,{in:!0,onEntered:yq(t,"onEntered",(function(){r(cq,Sw.cloneElement(t,{in:!0}))}))})},dq[vq]=function(e){var t=e.current,r=e.children,n=e.changeState;return[Sw.cloneElement(t,{in:!1,onExited:yq(t,"onExited",(function(){n(cq,Sw.cloneElement(r,{in:!0}))}))}),Sw.cloneElement(r,{in:!0})]},dq),Cq=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).state={status:cq,current:null},t.appeared=!1,t.changeState=function(e,r){void 0===r&&(r=t.state.current),t.setState({status:e,current:r})},t}nq(t,e);var r=t.prototype;return r.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===sq&&e.mode===vq?{status:sq}:!t.current||((r=t.current)===(n=e.children)||Sw.isValidElement(r)&&Sw.isValidElement(n)&&null!=r.key&&r.key===n.key)?{current:Sw.cloneElement(e.children,{in:!0})}:{status:"exiting"};var r,n},r.render=function(){var e,t=this.props,r=t.children,n=t.mode,i=this.state,o=i.status,a=i.current,s={children:r,current:a,changeState:this.changeState,status:o};switch(o){case sq:e=wq[n](s);break;case"exiting":e=bq[n](s);break;case cq:e=a}return Sw.createElement(aq.Provider,{value:{isMounting:!this.appeared}},e)},t}(Sw.Component);Cq.propTypes={},Cq.defaultProps={mode:mq};var Eq="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function kq(e,t,r){return e(r={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&r.path)}},r.exports),r.exports}var Sq,_q=kq((function(e){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){e.exports={BROWSER_TYPES:{CHROME:"Chrome",FIREFOX:"Firefox",OPERA:"Opera",YANDEX:"Yandex",SAFARI:"Safari",INTERNET_EXPLORER:"Internet Explorer",EDGE:"Edge",CHROMIUM:"Chromium",IE:"IE",MOBILE_SAFARI:"Mobile Safari",EDGE_CHROMIUM:"Edge Chromium"},DEVICE_TYPES:{MOBILE:"mobile",TABLET:"tablet",SMART_TV:"smarttv",CONSOLE:"console",WEARABLE:"wearable",BROWSER:void 0},OS_TYPES:{IOS:"iOS",ANDROID:"Android",WINDOWS_PHONE:"Windows Phone",WINDOWS:"Windows",MAC_OS:"Mac OS"},defaultData:{isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1}}},function(e,t,r){var n,i=r(2),o=r(0),a=o.BROWSER_TYPES,s=o.OS_TYPES,c=o.DEVICE_TYPES,u=r(4),l=u.checkType,f=u.broPayload,d=u.mobilePayload,p=u.wearPayload,h=u.consolePayload,g=u.stvPayload,m=u.getNavigatorInstance,v=u.isIOS13Check,y=new i,b=y.getBrowser(),w=y.getDevice(),C=y.getEngine(),E=y.getOS(),k=y.getUA(),S=a.CHROME,_=a.CHROMIUM,A=a.IE,T=a.INTERNET_EXPLORER,x=a.OPERA,I=a.FIREFOX,B=a.SAFARI,R=a.EDGE,P=a.YANDEX,N=a.MOBILE_SAFARI,O=c.MOBILE,D=c.TABLET,L=c.SMART_TV,M=c.BROWSER,U=c.WEARABLE,j=c.CONSOLE,F=s.ANDROID,V=s.WINDOWS_PHONE,z=s.IOS,K=s.WINDOWS,q=s.MAC_OS,H=function(){return E.name===s.WINDOWS&&"10"===E.version&&"string"==typeof k&&-1!==k.indexOf("Edg/")},Q=function(){return b.name===R},W=function(){return v("iPad")},G=w.type===L,Y=w.type===j,X=w.type===U,$=b.name===N||W(),Z=b.name===_,J=function(){switch(w.type){case O:case D:return!0;default:return!1}}()||W(),ee=w.type===O,te=w.type===D||W(),re=w.type===M,ne=E.name===F,ie=E.name===V,oe=E.name===z||W(),ae=b.name===S,se=b.name===I,ce=b.name===B||b.name===N,ue=b.name===x,le=b.name===T||b.name===A,fe=E.version?E.version:"none",de=E.name?E.name:"none",pe=b.major,he=b.version,ge=b.name,me=w.vendor?w.vendor:"none",ve=w.model?w.model:"none",ye=C.name,be=C.version,we=k,Ce=Q()||H(),Ee=b.name===P,ke=w.type,Se=(n=m())&&(/iPad|iPhone|iPod/.test(n.platform)||"MacIntel"===n.platform&&n.maxTouchPoints>1)&&!window.MSStream,_e=W(),Ae=v("iPhone"),Te=v("iPod"),xe=function(){var e=m(),t=e&&e.userAgent.toLowerCase();return"string"==typeof t&&/electron/.test(t)}(),Ie=H(),Be=Q(),Re=E.name===K,Pe=E.name===q,Ne=l(w.type);e.exports={deviceDetect:function(){var e=Ne.isBrowser,t=Ne.isMobile,r=Ne.isTablet,n=Ne.isSmartTV,i=Ne.isConsole,o=Ne.isWearable;return e?f(e,b,C,E,k):n?g(n,C,E,k):i?h(i,C,E,k):t||r?d(Ne,w,E,k):o?p(o,C,E,k):void 0},isSmartTV:G,isConsole:Y,isWearable:X,isMobileSafari:$,isChromium:Z,isMobile:J,isMobileOnly:ee,isTablet:te,isBrowser:re,isAndroid:ne,isWinPhone:ie,isIOS:oe,isChrome:ae,isFirefox:se,isSafari:ce,isOpera:ue,isIE:le,osVersion:fe,osName:de,fullBrowserVersion:pe,browserVersion:he,browserName:ge,mobileVendor:me,mobileModel:ve,engineName:ye,engineVersion:be,getUA:we,isEdge:Ce,isYandex:Ee,deviceType:ke,isIOS13:Se,isIPad13:_e,isIPhone13:Ae,isIPod13:Te,isElectron:xe,isEdgeChromium:Ie,isLegacyEdge:Be,isWindows:Re,isMacOs:Pe}},function(e,t,r){var n;
/*!
	     * UAParser.js v0.7.18
	     * Lightweight JavaScript-based User-Agent string parser
	     * https://github.com/faisalman/ua-parser-js
	     *
	     * Copyright © 2012-2016 Faisal Salman <fyzlman@gmail.com>
	     * Dual licensed under GPLv2 or MIT
	     */!function(i,o){var a="function",s="undefined",c="object",u="model",l="name",f="type",d="vendor",p="version",h="architecture",g="console",m="mobile",v="tablet",y="smarttv",b="wearable",w={extend:function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},C={rgx:function(e,t){for(var r,n,i,s,u,l,f=0;f<t.length&&!u;){var d=t[f],p=t[f+1];for(r=n=0;r<d.length&&!u;)if(u=d[r++].exec(e))for(i=0;i<p.length;i++)l=u[++n],ky(s=p[i])===c&&s.length>0?2==s.length?ky(s[1])==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3==s.length?ky(s[1])!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):o:this[s[0]]=l?s[1].call(this,l,s[2]):o:4==s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):o):this[s]=l||o;f+=2}},str:function(e,t){for(var r in t)if(ky(t[r])===c&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(w.has(t[r][n],e))return"?"===r?o:r}else if(w.has(t[r],e))return"?"===r?o:r;return e}},E={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},k={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[l,p],[/(opios)[\/\s]+([\w\.]+)/i],[[l,"Opera Mini"],p],[/\s(opr)\/([\w\.]+)/i],[[l,"Opera"],p],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[l,p],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[l,"IE"],p],[/(edge|edgios|edgea)\/((\d+)?[\w\.]+)/i],[[l,"Edge"],p],[/(yabrowser)\/([\w\.]+)/i],[[l,"Yandex"],p],[/(puffin)\/([\w\.]+)/i],[[l,"Puffin"],p],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[l,"UCBrowser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],p],[/(micromessenger)\/([\w\.]+)/i],[[l,"WeChat"],p],[/(qqbrowserlite)\/([\w\.]+)/i],[l,p],[/(QQ)\/([\d\.]+)/i],[l,p],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[l,p],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[l,p],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[l,p],[/(MetaSr)[\/\s]?([\w\.]+)/i],[l],[/(LBBROWSER)/i],[l],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[l,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[p,[l,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[l,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[l,/(.+)/,"$1 WebView"],p],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[l,/(.+(?:g|us))(.+)/,"$1 $2"],p],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[p,[l,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[l,p],[/(dolfin)\/([\w\.]+)/i],[[l,"Dolphin"],p],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[l,"Chrome"],p],[/(coast)\/([\w\.]+)/i],[[l,"Opera Coast"],p],[/fxios\/([\w\.-]+)/i],[p,[l,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[p,[l,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[p,l],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[l,"GSA"],p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[l,[p,C.str,E.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[l,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[l,"Netscape"],p],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[l,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[h,/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[h,w.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[u,d,[f,v]],[/applecoremedia\/[\w\.]+ \((ipad)/],[u,[d,"Apple"],[f,v]],[/(apple\s{0,1}tv)/i],[[u,"Apple TV"],[d,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,u,[f,v]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[u,[d,"Amazon"],[f,v]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[u,C.str,E.device.amazon.model],[d,"Amazon"],[f,m]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[u,d,[f,m]],[/\((ip[honed|\s\w*]+);/i],[u,[d,"Apple"],[f,m]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,u,[f,m]],[/\(bb10;\s(\w+)/i],[u,[d,"BlackBerry"],[f,m]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[u,[d,"Asus"],[f,v]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[d,"Sony"],[u,"Xperia Tablet"],[f,v]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[u,[d,"Sony"],[f,m]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[d,u,[f,g]],[/android.+;\s(shield)\sbuild/i],[u,[d,"Nvidia"],[f,g]],[/(playstation\s[34portablevi]+)/i],[u,[d,"Sony"],[f,g]],[/(sprint\s(\w+))/i],[[d,C.str,E.device.sprint.vendor],[u,C.str,E.device.sprint.model],[f,m]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[d,u,[f,v]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[d,[u,/_/g," "],[f,m]],[/(nexus\s9)/i],[u,[d,"HTC"],[f,v]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[u,[d,"Huawei"],[f,m]],[/(microsoft);\s(lumia[\s\w]+)/i],[d,u,[f,m]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[u,[d,"Microsoft"],[f,g]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[d,"Microsoft"],[f,m]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[u,[d,"Motorola"],[f,m]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[u,[d,"Motorola"],[f,v]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[d,w.trim],[u,w.trim],[f,y]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[d,"Samsung"],[f,y]],[/\(dtv[\);].+(aquos)/i],[u,[d,"Sharp"],[f,y]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[d,"Samsung"],u,[f,v]],[/smart-tv.+(samsung)/i],[d,[f,y],u],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[d,"Samsung"],u,[f,m]],[/sie-(\w*)/i],[u,[d,"Siemens"],[f,m]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[d,"Nokia"],u,[f,m]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[u,[d,"Acer"],[f,v]],[/android.+([vl]k\-?\d{3})\s+build/i],[u,[d,"LG"],[f,v]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],u,[f,v]],[/(lg) netcast\.tv/i],[d,u,[f,y]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[u,[d,"LG"],[f,m]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[u,[d,"Lenovo"],[f,v]],[/linux;.+((jolla));/i],[d,u,[f,m]],[/((pebble))app\/[\d\.]+\s/i],[d,u,[f,b]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[d,u,[f,m]],[/crkey/i],[[u,"Chromecast"],[d,"Google"]],[/android.+;\s(glass)\s\d/i],[u,[d,"Google"],[f,b]],[/android.+;\s(pixel c)\s/i],[u,[d,"Google"],[f,v]],[/android.+;\s(pixel xl|pixel)\s/i],[u,[d,"Google"],[f,m]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[u,/_/g," "],[d,"Xiaomi"],[f,m]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[u,/_/g," "],[d,"Xiaomi"],[f,v]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[u,[d,"Meizu"],[f,v]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[u,[d,"OnePlus"],[f,m]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[u,[d,"RCA"],[f,v]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[u,[d,"Dell"],[f,v]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[u,[d,"Verizon"],[f,v]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[d,"Barnes & Noble"],u,[f,v]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[u,[d,"NuVision"],[f,v]],[/android.+;\s(k88)\sbuild/i],[u,[d,"ZTE"],[f,v]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[u,[d,"Swiss"],[f,m]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[u,[d,"Swiss"],[f,v]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[u,[d,"Zeki"],[f,v]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[d,"Dragon Touch"],u,[f,v]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[u,[d,"Insignia"],[f,v]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[u,[d,"NextBook"],[f,v]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[d,"Voice"],u,[f,m]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[d,"LvTel"],u,[f,m]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[u,[d,"Envizen"],[f,v]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[d,u,[f,v]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[u,[d,"MachSpeed"],[f,v]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[d,u,[f,v]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[u,[d,"Rotor"],[f,v]],[/android.+(KS(.+))\s+build/i],[u,[d,"Amazon"],[f,v]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[d,u,[f,v]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[f,w.lowerize],d,u],[/(android[\w\.\s\-]{0,9});.+build/i],[u,[d,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[l,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,p],[/rv\:([\w\.]{1,9}).+(gecko)/i],[p,l]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[l,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[l,[p,C.str,E.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[p,C.str,E.os.windows.version]],[/\((bb)(10);/i],[[l,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[l,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[l,"Symbian"],p],[/\((series40);/i],[l],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"],p],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[l,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chromium OS"],p],[/(sunos)\s?([\w\.\d]*)/i],[[l,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[l,p],[/(haiku)\s(\w+)/i],[l,p],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[p,/_/g,"."],[l,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[l,"Mac OS"],[p,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]*)/i],[l,p]]},S=function e(t,r){if("object"==ky(t)&&(r=t,t=o),!(this instanceof e))return new e(t,r).getResult();var n=t||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),a=r?w.extend(k,r):k;return this.getBrowser=function(){var e={name:o,version:o};return C.rgx.call(e,n,a.browser),e.major=w.major(e.version),e},this.getCPU=function(){var e={architecture:o};return C.rgx.call(e,n,a.cpu),e},this.getDevice=function(){var e={vendor:o,model:o,type:o};return C.rgx.call(e,n,a.device),e},this.getEngine=function(){var e={name:o,version:o};return C.rgx.call(e,n,a.engine),e},this.getOS=function(){var e={name:o,version:o};return C.rgx.call(e,n,a.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return n},this.setUA=function(e){return n=e,this},this};S.VERSION="0.7.18",S.BROWSER={NAME:l,MAJOR:"major",VERSION:p},S.CPU={ARCHITECTURE:h},S.DEVICE={MODEL:u,VENDOR:d,TYPE:f,CONSOLE:g,MOBILE:m,SMARTTV:y,TABLET:v,WEARABLE:b,EMBEDDED:"embedded"},S.ENGINE={NAME:l,VERSION:p},S.OS={NAME:l,VERSION:p},ky(t)!==s?(ky(e)!==s&&e.exports&&(t=e.exports=S),t.UAParser=S):r(3)?(n=function(){return S}.call(t,r,t,e))===o||(e.exports=n):i&&(i.UAParser=S);var _=i&&(i.jQuery||i.Zepto);if(ky(_)!==s){var A=new S;_.ua=A.getResult(),_.ua.get=function(){return A.getUA()},_.ua.set=function(e){A.setUA(e);var t=A.getResult();for(var r in t)_.ua[r]=t[r]}}}("object"==("undefined"==typeof window?"undefined":ky(window))?window:this)},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(0),o=i.DEVICE_TYPES,a=i.defaultData,s=t.getNavigatorInstance=function(){return!("undefined"==typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},c=t.isIOS13Check=function(e){var t=s();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)};e.exports={checkType:function(e){switch(e){case o.MOBILE:return{isMobile:!0};case o.TABLET:return{isTablet:!0};case o.SMART_TV:return{isSmartTV:!0};case o.CONSOLE:return{isConsole:!0};case o.WEARABLE:return{isWearable:!0};case o.BROWSER:return{isBrowser:!0};default:return a}},broPayload:function(e,t,r,n,i){return{isBrowser:e,browserMajorVersion:t.major,browserFullVersion:t.version,browserName:t.name,engineName:r.name||!1,engineVersion:r.version,osName:n.name,osVersion:n.version,userAgent:i}},mobilePayload:function(e,t,r,i){return n({},e,{vendor:t.vendor,model:t.model,os:r.name,osVersion:r.version,ua:i})},stvPayload:function(e,t,r,n){return{isSmartTV:e,engineName:t.name,engineVersion:t.version,osName:r.name,osVersion:r.version,userAgent:n}},consolePayload:function(e,t,r,n){return{isConsole:e,engineName:t.name,engineVersion:t.version,osName:r.name,osVersion:r.version,userAgent:n}},wearPayload:function(e,t,r,n){return{isWearable:e,engineName:t.name,engineVersion:t.version,osName:r.name,osVersion:r.version,userAgent:n}},getNavigatorInstance:s,isIOS13Check:c}}])})),Aq="object"==ky(Eq)&&Eq&&Eq.Object===Object&&Eq,Tq="object"==("undefined"==typeof self?"undefined":ky(self))&&self&&self.Object===Object&&self,xq=Aq||Tq||Function("return this")(),Iq=xq.Symbol,Bq=Object.prototype,Rq=Bq.hasOwnProperty,Pq=Bq.toString,Nq=Iq?Iq.toStringTag:void 0,Oq=function(e){var t=Rq.call(e,Nq),r=e[Nq];try{e[Nq]=void 0;var n=!0}catch(e){}var i=Pq.call(e);return n&&(t?e[Nq]=r:delete e[Nq]),i},Dq=Object.prototype.toString,Lq=function(e){return Dq.call(e)},Mq=Iq?Iq.toStringTag:void 0,Uq=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Mq&&Mq in Object(e)?Oq(e):Lq(e)},jq=function(e){var t=ky(e);return null!=e&&("object"==t||"function"==t)},Fq=function(e){if(!jq(e))return!1;var t=Uq(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Vq=xq["__core-js_shared__"],zq=(Sq=/[^.]+$/.exec(Vq&&Vq.keys&&Vq.keys.IE_PROTO||""))?"Symbol(src)_1."+Sq:"",Kq=function(e){return!!zq&&zq in e},qq=Function.prototype.toString,Hq=function(e){if(null!=e){try{return qq.call(e)}catch(e){}try{return e+""}catch(e){}}return""},Qq=/^\[object .+?Constructor\]$/,Wq=Function.prototype,Gq=Object.prototype,Yq=Wq.toString,Xq=Gq.hasOwnProperty,$q=RegExp("^"+Yq.call(Xq).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zq=function(e){return!(!jq(e)||Kq(e))&&(Fq(e)?$q:Qq).test(Hq(e))},Jq=function(e,t){return null==e?void 0:e[t]},eH=function(e,t){var r=Jq(e,t);return Zq(r)?r:void 0},tH=function(){try{var e=eH(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),rH=function(e,t,r){"__proto__"==t&&tH?tH(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r},nH=function(e,t){return e===t||e!=e&&t!=t},iH=Object.prototype.hasOwnProperty,oH=function(e,t,r){var n=e[t];iH.call(e,t)&&nH(n,r)&&(void 0!==r||t in e)||rH(e,t,r)},aH=function(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),i?rH(r,s,c):oH(r,s,c)}return r},sH=function(e){return e},cH=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)},uH=Math.max,lH=function(e,t,r){return t=uH(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=uH(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),cH(e,this,s)}},fH=function(e){return function(){return e}},dH=tH?function(e,t){return tH(e,"toString",{configurable:!0,enumerable:!1,value:fH(t),writable:!0})}:sH,pH=Date.now,hH=function(e){var t=0,r=0;return function(){var n=pH(),i=16-(n-r);if(r=n,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(dH),gH=function(e,t){return hH(lH(e,t,sH),e+"")},mH=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991},vH=function(e){return null!=e&&mH(e.length)&&!Fq(e)},yH=/^(?:0|[1-9]\d*)$/,bH=function(e,t){var r=ky(e);return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&yH.test(e))&&e>-1&&e%1==0&&e<t},wH=function(e,t,r){if(!jq(r))return!1;var n=ky(t);return!!("number"==n?vH(r)&&bH(t,r.length):"string"==n&&t in r)&&nH(r[t],e)},CH=function(e){return gH((function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&wH(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,o)}return t}))},EH=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},kH=function(e){return null!=e&&"object"==ky(e)},SH=function(e){return kH(e)&&"[object Arguments]"==Uq(e)},_H=Object.prototype,AH=_H.hasOwnProperty,TH=_H.propertyIsEnumerable,xH=SH(function(){return arguments}())?SH:function(e){return kH(e)&&AH.call(e,"callee")&&!TH.call(e,"callee")},IH=Array.isArray,BH=function(){return!1},RH=kq((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r?xq.Buffer:void 0,o=(i?i.isBuffer:void 0)||BH;e.exports=o})),PH={};PH["[object Float32Array]"]=PH["[object Float64Array]"]=PH["[object Int8Array]"]=PH["[object Int16Array]"]=PH["[object Int32Array]"]=PH["[object Uint8Array]"]=PH["[object Uint8ClampedArray]"]=PH["[object Uint16Array]"]=PH["[object Uint32Array]"]=!0,PH["[object Arguments]"]=PH["[object Array]"]=PH["[object ArrayBuffer]"]=PH["[object Boolean]"]=PH["[object DataView]"]=PH["[object Date]"]=PH["[object Error]"]=PH["[object Function]"]=PH["[object Map]"]=PH["[object Number]"]=PH["[object Object]"]=PH["[object RegExp]"]=PH["[object Set]"]=PH["[object String]"]=PH["[object WeakMap]"]=!1;var NH,OH,DH=function(e){return kH(e)&&mH(e.length)&&!!PH[Uq(e)]},LH=function(e){return function(t){return e(t)}},MH=kq((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r&&Aq.process,o=function(){try{return n&&n.require&&n.require("util").types||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o})),UH=MH&&MH.isTypedArray,jH=UH?LH(UH):DH,FH=Object.prototype.hasOwnProperty,VH=function(e,t){var r=IH(e),n=!r&&xH(e),i=!r&&!n&&RH(e),o=!r&&!n&&!i&&jH(e),a=r||n||i||o,s=a?EH(e.length,String):[],c=s.length;for(var u in e)!t&&!FH.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||bH(u,c))||s.push(u);return s},zH=Object.prototype,KH=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||zH)},qH=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t},HH=Object.prototype.hasOwnProperty,QH=function(e){if(!jq(e))return qH(e);var t=KH(e),r=[];for(var n in e)("constructor"!=n||!t&&HH.call(e,n))&&r.push(n);return r},WH=function(e){return vH(e)?VH(e,!0):QH(e)},GH=CH((function(e,t,r,n){aH(t,WH(t),e,n)})),YH=function(e,t){return function(r){return e(t(r))}},XH=YH(Object.getPrototypeOf,Object),$H=Function.prototype,ZH=Object.prototype,JH=$H.toString,eQ=ZH.hasOwnProperty,tQ=JH.call(Object),rQ=function(e){if(!kH(e)||"[object Object]"!=Uq(e))return!1;var t=XH(e);if(null===t)return!0;var r=eQ.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&JH.call(r)==tQ},nQ=function(e){if(!kH(e))return!1;var t=Uq(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!rQ(e)},iQ=gH((function(e,t){try{return cH(e,void 0,t)}catch(e){return nQ(e)?e:new Error(e)}})),oQ=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i},aQ=function(e,t){return oQ(t,(function(t){return e[t]}))},sQ=Object.prototype,cQ=sQ.hasOwnProperty,uQ=function(e,t,r,n){return void 0===e||nH(e,sQ[r])&&!cQ.call(n,r)?t:e},lQ={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},fQ=function(e){return"\\"+lQ[e]},dQ=YH(Object.keys,Object),pQ=Object.prototype.hasOwnProperty,hQ=function(e){if(!KH(e))return dQ(e);var t=[];for(var r in Object(e))pQ.call(e,r)&&"constructor"!=r&&t.push(r);return t},gQ=function(e){return vH(e)?VH(e):hQ(e)},mQ=/<%=([\s\S]+?)%>/g,vQ=function(e){return function(t){return null==e?void 0:e[t]}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),yQ=function(e){return"symbol"==ky(e)||kH(e)&&"[object Symbol]"==Uq(e)},bQ=Iq?Iq.prototype:void 0,wQ=bQ?bQ.toString:void 0,CQ=function e(t){if("string"==typeof t)return t;if(IH(t))return oQ(t,e)+"";if(yQ(t))return wQ?wQ.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},EQ=function(e){return null==e?"":CQ(e)},kQ=/[&<>"']/g,SQ=RegExp(kQ.source),_Q={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:mQ,variable:"",imports:{_:{escape:function(e){return(e=EQ(e))&&SQ.test(e)?e.replace(kQ,vQ):e}}}},AQ=/\b__p \+= '';/g,TQ=/\b(__p \+=) '' \+/g,xQ=/(__e\(.*?\)|\b__t\)) \+\n'';/g,IQ=/[()=,{}\[\]\/\s]/,BQ=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,RQ=/($^)/,PQ=/['\n\r\u2028\u2029\\]/g,NQ=Object.prototype.hasOwnProperty,OQ=function(e,t,r){var n=_Q.imports._.templateSettings||_Q;r&&wH(e,t,r)&&(t=void 0),e=EQ(e),t=GH({},t,n,uQ);var i,o,a=GH({},t.imports,n.imports,uQ),s=gQ(a),c=aQ(a,s),u=0,l=t.interpolate||RQ,f="__p += '",d=RegExp((t.escape||RQ).source+"|"+l.source+"|"+(l===mQ?BQ:RQ).source+"|"+(t.evaluate||RQ).source+"|$","g"),p=NQ.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(d,(function(t,r,n,a,s,c){return n||(n=a),f+=e.slice(u,c).replace(PQ,fQ),r&&(i=!0,f+="' +\n__e("+r+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),f+="';\n";var h=NQ.call(t,"variable")&&t.variable;if(h){if(IQ.test(h))throw new Error("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(AQ,""):f).replace(TQ,"$1").replace(xQ,"$1;"),f="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=iQ((function(){return Function(s,p+"return "+f).apply(void 0,c)}));if(g.source=f,nQ(g))throw g;return g},DQ=c_.table(NH||(NH=XK(["\n  width: 100%;\n  height: 100%;\n  td {\n    text-align: center;\n    vertical-align: middle;\n    padding: 0;\n    border: 0;\n  }\n  border-spacing: 0;\n  table-layout: auto;\n  border-collapse: collapse;\n"]))),LQ=c_.div(OH||(OH=XK(["\n  position: relative;\n"]))),MQ=Array.from(Array(3).keys()),UQ=Array.from(Array(3).keys());function jQ(e){var t=e.children,r=e.x,n=e.y,i=e.width,o=e.height,a=e.className,s=e.surroundStyle;return Sw.createElement(DQ,{className:a},Sw.createElement("tbody",null,MQ.map((function(e,a){return Sw.createElement("tr",{key:e,style:{height:0===a?n:"auto"},"data-testid":"row"},UQ.map((function(e,n){var c=1===a&&1===n,u="auto";return c?u=i:0===n&&(u=r),Sw.createElement("td",{"data-testid":c?"centeredCell":"cell",key:e,style:GK({width:u,height:c?o:"auto"},c?{}:s)},c?Sw.createElement(LQ,{style:{width:u,height:o}},t):null)})))}))))}jQ.propTypes={children:SC.node,x:SC.string,y:SC.string,width:SC.string,height:SC.string,className:SC.string,surroundStyle:SC.object},jQ.defaultProps={children:null,x:"auto",y:"auto",width:"auto",height:"auto",className:"",surroundStyle:{}};var FQ=/^\s+|\s+$/g,VQ=/^[-+]0x[0-9a-f]+$/i,zQ=/^0b[01]+$/i,KQ=/^0o[0-7]+$/i,qQ=parseInt,HQ="object"==ky(Eq)&&Eq&&Eq.Object===Object&&Eq,QQ="object"==("undefined"==typeof self?"undefined":ky(self))&&self&&self.Object===Object&&self,WQ=HQ||QQ||Function("return this")(),GQ=Object.prototype.toString,YQ=Math.max,XQ=Math.min,$Q=function(){return WQ.Date.now()};function ZQ(e){var t=ky(e);return!!e&&("object"==t||"function"==t)}function JQ(e){if("number"==typeof e)return e;if(function(e){return"symbol"==ky(e)||function(e){return!!e&&"object"==ky(e)}(e)&&"[object Symbol]"==GQ.call(e)}(e))return NaN;if(ZQ(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ZQ(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(FQ,"");var r=zQ.test(e);return r||KQ.test(e)?qQ(e.slice(2),r?2:8):VQ.test(e)?NaN:+e}var eW=function(e,t,r){var n,i,o,a,s,c,u=0,l=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function p(t){var r=n,o=i;return n=i=void 0,u=t,a=e.apply(o,r)}function h(e){return u=e,s=setTimeout(m,t),l?p(e):a}function g(e){var r=e-c;return void 0===c||r>=t||r<0||f&&e-u>=o}function m(){var e=$Q();if(g(e))return v(e);s=setTimeout(m,function(e){var r=t-(e-c);return f?XQ(r,o-(e-u)):r}(e))}function v(e){return s=void 0,d&&n?p(e):(n=i=void 0,a)}function y(){var e=$Q(),r=g(e);if(n=arguments,i=this,c=e,r){if(void 0===s)return h(c);if(f)return s=setTimeout(m,t),p(c)}return void 0===s&&(s=setTimeout(m,t)),a}return t=JQ(t)||0,ZQ(r)&&(l=!!r.leading,o=(f="maxWait"in r)?YQ(JQ(r.maxWait)||0,t):o,d="trailing"in r?!!r.trailing:d),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=c=i=s=void 0},y.flush=function(){return void 0===s?a:v($Q())},y},tW="function"==typeof Symbol&&Symbol.for,rW=tW?Symbol.for("react.element"):60103,nW=tW?Symbol.for("react.portal"):60106,iW=tW?Symbol.for("react.fragment"):60107,oW=tW?Symbol.for("react.strict_mode"):60108,aW=tW?Symbol.for("react.profiler"):60114,sW=tW?Symbol.for("react.provider"):60109,cW=tW?Symbol.for("react.context"):60110,uW=tW?Symbol.for("react.async_mode"):60111,lW=tW?Symbol.for("react.concurrent_mode"):60111,fW=tW?Symbol.for("react.forward_ref"):60112,dW=tW?Symbol.for("react.suspense"):60113,pW=tW?Symbol.for("react.suspense_list"):60120,hW=tW?Symbol.for("react.memo"):60115,gW=tW?Symbol.for("react.lazy"):60116,mW=tW?Symbol.for("react.block"):60121,vW=tW?Symbol.for("react.fundamental"):60117,yW=tW?Symbol.for("react.responder"):60118,bW=tW?Symbol.for("react.scope"):60119;
/** @license React v16.13.1
	 * react-is.production.min.js
	 *
	 * Copyright (c) Facebook, Inc. and its affiliates.
	 *
	 * This source code is licensed under the MIT license found in the
	 * LICENSE file in the root directory of this source tree.
	 */function wW(e){if("object"==ky(e)&&null!==e){var t=e.$$typeof;switch(t){case rW:switch(e=e.type){case uW:case lW:case iW:case aW:case oW:case dW:return e;default:switch(e=e&&e.$$typeof){case cW:case fW:case gW:case hW:case sW:return e;default:return t}}case nW:return t}}}function CW(e){return wW(e)===lW}var EW={AsyncMode:uW,ConcurrentMode:lW,ContextConsumer:cW,ContextProvider:sW,Element:rW,ForwardRef:fW,Fragment:iW,Lazy:gW,Memo:hW,Portal:nW,Profiler:aW,StrictMode:oW,Suspense:dW,isAsyncMode:function(e){return CW(e)||wW(e)===uW},isConcurrentMode:CW,isContextConsumer:function(e){return wW(e)===cW},isContextProvider:function(e){return wW(e)===sW},isElement:function(e){return"object"==ky(e)&&null!==e&&e.$$typeof===rW},isForwardRef:function(e){return wW(e)===fW},isFragment:function(e){return wW(e)===iW},isLazy:function(e){return wW(e)===gW},isMemo:function(e){return wW(e)===hW},isPortal:function(e){return wW(e)===nW},isProfiler:function(e){return wW(e)===aW},isStrictMode:function(e){return wW(e)===oW},isSuspense:function(e){return wW(e)===dW},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===iW||e===lW||e===aW||e===oW||e===dW||e===pW||"object"==ky(e)&&null!==e&&(e.$$typeof===gW||e.$$typeof===hW||e.$$typeof===sW||e.$$typeof===cW||e.$$typeof===fW||e.$$typeof===vW||e.$$typeof===yW||e.$$typeof===bW||e.$$typeof===mW)},typeOf:wW},kW=(kq((function(e,t){})),kq((function(e){e.exports=EW}))),SW={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},_W={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},AW={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TW={};function xW(e){return kW.isMemo(e)?AW:TW[e.$$typeof]||SW}TW[kW.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},TW[kW.Memo]=AW;var IW,BW,RW,PW,NW,OW=Object.defineProperty,DW=Object.getOwnPropertyNames,LW=Object.getOwnPropertySymbols,MW=Object.getOwnPropertyDescriptor,UW=Object.getPrototypeOf,jW=Object.prototype,FW=function e(t,r,n){if("string"!=typeof r){if(jW){var i=UW(r);i&&i!==jW&&e(t,i,n)}var o=DW(r);LW&&(o=o.concat(LW(r)));for(var a=xW(t),s=xW(r),c=0;c<o.length;++c){var u=o[c];if(!(_W[u]||n&&n[u]||s&&s[u]||a&&a[u])){var l=MW(r,u);try{OW(t,u,l)}catch(e){}}}}return t};function VW(){return"function"==typeof navigator.enumerateDevices?navigator.enumerateDevices():"object"===VK(navigator.mediaDevices)&&"function"==typeof navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices():new Promise((function(e,t){try{if(null==window.MediaStreamTrack||null==window.MediaStreamTrack.getSources)throw new Error;window.MediaStreamTrack.getSources((function(t){e(t.filter((function(e){return"video"===e.kind.toLowerCase()||"videoinput"===e.kind.toLowerCase()})).map((function(e){return{deviceId:null!=e.deviceId?e.deviceId:"",groupId:e.groupId,kind:"videoinput",label:e.label,toJSON:function(){return this}}})))}))}catch(e){return t(e)}}))}var zW=oL.Errors,KW=c_.div(IW||(IW=XK(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: #000;\n  display: flex;\n  justify-content: center;\n  z-index: ",";\n  ","\n"])),1e3,(function(e){return e.checkCameraMode&&"opacity: 0;"})),qW=c_.video(BW||(BW=XK(["\n  width: 100%;\n  ","\n"])),(function(e){return e.flipHorizontal&&"\n     transform: scale(".concat(-1*e.scale,", ").concat(1*e.scale,");\n  ")})),HW=c_.div(RW||(RW=XK(["\n  cursor: pointer;\n  text-align: center;\n  width: 50px;\n\n  img {\n    width: 100%;\n  }\n"]))),QW=c_(HW)(PW||(PW=XK(["\n  z-index: ",";\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  width: 20px;\n"])),1100),WW=c_.div(NW||(NW=XK(["\n  z-index: ",";\n  position: absolute;\n  top: 40px;\n  color: red;\n"])),1020),GW=Sw.createRef(),YW=function(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices;var e=navigator.mozGetUserMedia||navigator.webkitGetUserMedia;return e?{getUserMedia:function(t){return new Promise((function(r,n){e.call(navigator,t,r,n)}))}}:null}();function XW(e){var t=e.checkCameraMode,r=e.frontCamera,n=e.onClose,i=e.children,o=e.onVideoPlayed,a=e.flipHorizontal,s=e.videoSettings,c=e.refVideo,u=e.onError,l=e.closeButton,f=e.videoClassName,d=e.scale,p=e.defaultCameraId,h=e.onWarning,g=Sw.useRef(),m=fF.useSDKSettings().lang,v=KF.useSDKTracking().sendEvent,y=QF.useAsset("ic_close.png"),b=$K(Sw.useState(""),2),w=b[0],C=b[1],E=Sw.useRef(!1),k=Sw.useRef(!1),S=Sw.useRef(!1),_=Sw.useCallback((function(){try{var e;clearInterval(g.current),(null==c||null===(e=c.current)||void 0===e?void 0:e.srcObject)instanceof MediaStream&&(c.current.srcObject.getTracks().forEach((function(e){return e.stop()})),c.current.srcObject=null)}catch(e){}}),[c]);g.current||(g.current=setInterval((function(){document.getElementById("tv-camera-".concat(g.current))||_()}),1e3)),Sw.useEffect((function(){return function(){S.current=!0}}),[]);var A=Sw.useCallback(function(){var e=KK(regeneratorRuntime.mark((function e(t){var n,i,o,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],i={},!1!==window.tv_last_req_camera_complete){e.next=5;break}return h("too_many_request_to_camera"),e.abrupt("return",new Promise((function(e){return e(null)})));case 5:return window.tv_last_req_camera_complete=!1,i=_q.isMobile?_q.isIOS?{width:{ideal:1460},aspectRatio:{ideal:window.innerHeight/window.innerWidth}}:{width:{ideal:1650},aspectRatio:{ideal:window.innerHeight/window.innerWidth}}:{height:{ideal:9999}},e.prev=7,e.next=10,YW.getUserMedia({audio:!1,video:GK(GK({},t?{deviceId:t}:{facingMode:r?"user":"environment"}),n?{}:s||i)});case 10:return(o=e.sent)||(C(zW.not_supported.msg[m]),u(zW.not_supported)),window.tv_last_req_camera_complete=!0,e.abrupt("return",o);case 16:e.prev=16,e.t0=e.catch(7),"NotAllowedError"===e.t0.name?(C(zW.no_permission.msg[m]),u(zW.no_permission),k.current=!0):k.current&&("NotReadableError"===e.t0.name?(u(zW.not_readable),C(zW.not_readable.msg[m])):(C(e.t0.message),u({code:e.t0.name||e.t0.code,message:e.t0.message})));case 19:return window.tv_last_req_camera_complete=!0,e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}(),[r,s,m,u,h]),T=Sw.useCallback(KK(regeneratorRuntime.mark((function e(){var t,r,n,i,a,s,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>0&&void 0!==u[0]?u[0]:p,i=u.length>1&&void 0!==u[1]&&u[1],!(null!=(a=c.current)&&null!==(t=a.srcObject)&&void 0!==t&&t.id&&null!=a&&null!==(r=a.srcObject)&&void 0!==r&&r.active&&E.current)){e.next=5;break}return e.abrupt("return");case 5:return a.oncanplaythrough=function(){a.play(),E.current=!0,C("");var e=window.innerWidth,t=window.innerHeight,r=wV.analyzeVideoAndWindowSizes(a),n=r.lostX,i=void 0===n?0:n,s=r.lostY,c=void 0===s?0:s,u=Math.min(e,Math.floor(e-2*i)),l=Math.min(t,Math.floor(t-2*c));o&&o({clientWidth:e,clientHeight:t,videoAreaWidth:u,videoAreaHeight:l,lostX:i,lostY:c})},e.next=8,A(n,i);case 8:(s=e.sent)||k.current||(k.current=!0,T(n,!0)),s&&S.current&&(c.current.srcObject=s,_()),s&&!S.current&&(a.srcObject=s);case 12:case"end":return e.stop()}}),e)}))),[c,A,o,p,_]);Sw.useEffect((function(){function e(){return(e=KK(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return e.next=4,VW();case 4:t=e.sent,(r=t.filter((function(e){return"videoinput"===e.kind&&e.label.includes("back")&&e.label.includes("0")}))).length>0&&(n=r[0].deviceId,_(),T(n));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var t=c.current;return!YW||_q.browserName&&["facebook"].includes(_q.browserName.toLowerCase())||_q.getUA.includes("Zalo iOS")?(C(zW.not_supported.msg[m]),u(zW.not_supported)):t&&(_q.isAndroid&&!1===r?function(){e.apply(this,arguments)}():T()),function(){S.current&&_()}}),[c,m,r,T,_,u]),Sw.useEffect((function(){var e=setTimeout((function(){E.current||(C(zW.camera_timeout.msg[m]),u(zW.camera_timeout))}),15e3);return function(){clearTimeout(e)}}),[m,u]);var x=Sw.useCallback((function(){_(),n&&n(),v({tag:"result",event:"user_activity.cancel",log:{}})}),[n,_,v]);return Sw.createElement(KW,{id:"tv-camera-".concat(g.current),checkCameraMode:t},function(){if(!w)return null;var e=zW.no_permission.msg[m];return w===e&&_q.isIOS?Sw.createElement(WW,null,w," ",Sw.createElement("button",{onClick:function(){window.location.reload()}},{vi:"Cấp lại quyền truy cập camera",en:"Request camera permission"}[m])):Sw.createElement(WW,null,w)}(),Sw.createElement(qW,{ref:c,playsInline:!0,muted:!0,flipHorizontal:a,className:f,scale:d}),i,l?Sw.cloneElement(l,{onClick:x,"data-testid":"close-camera"}):Sw.createElement(QW,{onClick:x,"data-testid":"close-camera"},Sw.createElement("img",{src:y,alt:""})))}XW.propTypes={checkCameraMode:SC.bool,frontCamera:SC.bool,onClose:SC.func,onError:SC.func,onVideoPlayed:SC.func,children:SC.node,flipHorizontal:SC.bool,videoSettings:SC.object,refVideo:SC.object,closeButton:SC.node,videoClassName:SC.string,scale:SC.number,defaultCameraId:SC.string,onWarning:SC.func},XW.defaultProps={checkCameraMode:!1,frontCamera:!0,onClose:null,onError:function(){},onVideoPlayed:null,children:null,flipHorizontal:!1,videoSettings:null,refVideo:null,closeButton:null,videoClassName:"",scale:1,defaultCameraId:void 0,onWarning:function(){}};var $W,ZW=function(e,t,r){var n=function(t){Ny(i,t);var n=zy(i);function i(){var e;return Ay(this,i),(e=n.apply(this,arguments)).updateDebounced=eW(e.forceUpdate,250,r),e}return xy(i,[{key:"shouldComponentUpdate",value:function(){return this.updateDebounced(),!1}},{key:"componentWillUnmount",value:function(){this.updateDebounced.cancel()}},{key:"render",value:function(){return Sw.createElement(e,Object.assign({},this.props))}}]),i}(Sw.Component);return n.displayName="debounceRender(".concat(e.displayName||e.name||"Component",")"),FW(n,e)}(XW),JW=Sw.forwardRef((function(e,t){return Sw.createElement(ZW,QK({},e,{refVideo:t||GW}))})),eG=c_(jQ)($W||($W=XK(["\n  background: transparent;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: ",";\n"])),1010);function tG(){return(tG=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var rG,nG="undefined"!=typeof window?Sw.useLayoutEffect:Sw.useEffect,iG={popupContent:{tooltip:{position:"absolute",zIndex:999},modal:{position:"relative",margin:"auto"}},popupArrow:{height:"8px",width:"16px",position:"absolute",background:"transparent",color:"#FFF",zIndex:-1},overlay:{tooltip:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:999},modal:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",zIndex:999}}},oG=["top left","top center","top right","right top","right center","right bottom","bottom left","bottom center","bottom right","left top","left center","left bottom"],aG=function(e,t,r,n,i){var o=i.offsetX,a=i.offsetY,s=n?8:0,c=r.split(" "),u=e.top+e.height/2,l=e.left+e.width/2,f=t.height,d=t.width,p=u-f/2,h=l-d/2,g="",m="0%",v="0%";switch(c[0]){case"top":p-=f/2+e.height/2+s,g="rotate(180deg)  translateX(50%)",m="100%",v="50%";break;case"bottom":p+=f/2+e.height/2+s,g="rotate(0deg) translateY(-100%) translateX(-50%)",v="50%";break;case"left":h-=d/2+e.width/2+s,g=" rotate(90deg)  translateY(50%) translateX(-25%)",v="100%",m="50%";break;case"right":h+=d/2+e.width/2+s,g="rotate(-90deg)  translateY(-150%) translateX(25%)",m="50%"}switch(c[1]){case"top":p=e.top,m=e.height/2+"px";break;case"bottom":p=e.top-f+e.height,m=f-e.height/2+"px";break;case"left":h=e.left,v=e.width/2+"px";break;case"right":h=e.left-d+e.width,v=d-e.width/2+"px"}return{top:p="top"===c[0]?p-a:p+a,left:h="left"===c[0]?h-o:h+o,transform:g,arrowLeft:v,arrowTop:m}},sG=function(e,t,r,n,i,o){var a=i.offsetX,s=i.offsetY,c={arrowLeft:"0%",arrowTop:"0%",left:0,top:0,transform:"rotate(135deg)"},u=0,l=function(e){var t={top:0,left:0,width:window.innerWidth,height:window.innerHeight};if("string"==typeof e){var r=document.querySelector(e);null!==r&&(t=r.getBoundingClientRect())}return t}(o),f=Array.isArray(r)?r:[r];for((o||Array.isArray(r))&&(f=[].concat(f,oG));u<f.length;){var d={top:(c=aG(e,t,f[u],n,{offsetX:a,offsetY:s})).top,left:c.left,width:t.width,height:t.height};if(!(d.top<=l.top||d.left<=l.left||d.top+d.height>=l.top+l.height||d.left+d.width>=l.left+l.width))break;u++}return c},cG=0,uG=Sw.forwardRef((function(e,t){var r=e.trigger,n=void 0===r?null:r,i=e.onOpen,o=void 0===i?function(){}:i,a=e.onClose,s=void 0===a?function(){}:a,c=e.defaultOpen,u=void 0!==c&&c,l=e.open,f=void 0===l?void 0:l,d=e.disabled,p=void 0!==d&&d,h=e.nested,g=void 0!==h&&h,m=e.closeOnDocumentClick,v=void 0===m||m,y=e.repositionOnResize,b=void 0===y||y,w=e.closeOnEscape,C=void 0===w||w,E=e.on,k=void 0===E?["click"]:E,S=e.contentStyle,_=void 0===S?{}:S,A=e.arrowStyle,T=void 0===A?{}:A,x=e.overlayStyle,I=void 0===x?{}:x,B=e.className,R=void 0===B?"":B,P=e.position,N=void 0===P?"bottom center":P,O=e.modal,D=void 0!==O&&O,L=e.lockScroll,M=void 0!==L&&L,U=e.arrow,j=void 0===U||U,F=e.offsetX,V=void 0===F?0:F,z=e.offsetY,K=void 0===z?0:z,q=e.mouseEnterDelay,H=void 0===q?100:q,Q=e.mouseLeaveDelay,W=void 0===Q?100:Q,G=e.keepTooltipInside,Y=void 0!==G&&G,X=e.children,$=Sw.useState(f||u),Z=$[0],J=$[1],ee=Sw.useRef(null),te=Sw.useRef(null),re=Sw.useRef(null),ne=Sw.useRef(null),ie=Sw.useRef("popup-"+ ++cG),oe=!!D||!n,ae=Sw.useRef(0);nG((function(){return Z?(ne.current=document.activeElement,ye(),ge(),pe()):he(),function(){clearTimeout(ae.current)}}),[Z]),Sw.useEffect((function(){"boolean"==typeof f&&(f?se():ce())}),[f,p]);var se=function(e){Z||p||(J(!0),setTimeout((function(){return o(e)}),0))},ce=function(e){var t;Z&&!p&&(J(!1),oe&&(null===(t=ne.current)||void 0===t||t.focus()),setTimeout((function(){return s(e)}),0))},ue=function(e){null==e||e.stopPropagation(),Z?ce(e):se(e)},le=function(e){clearTimeout(ae.current),ae.current=setTimeout((function(){return se(e)}),H)},fe=function(e){null==e||e.preventDefault(),ue()},de=function(e){clearTimeout(ae.current),ae.current=setTimeout((function(){return ce(e)}),W)},pe=function(){oe&&M&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},he=function(){oe&&M&&(document.getElementsByTagName("body")[0].style.overflow="auto")},ge=function(){var e,t=null==te||null===(e=te.current)||void 0===e?void 0:e.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),r=Array.prototype.slice.call(t)[0];null==r||r.focus()};Sw.useImperativeHandle(t,(function(){return{open:function(){se()},close:function(){ce()},toggle:function(){ue()}}}));var me,ve,ye=function(){if(!oe&&Z&&(null==ee?void 0:ee.current)&&(null==ee?void 0:ee.current)&&(null==te?void 0:te.current)){var e,t,r=ee.current.getBoundingClientRect(),n=te.current.getBoundingClientRect(),i=sG(r,n,N,j,{offsetX:V,offsetY:K},Y);te.current.style.top=i.top+window.scrollY+"px",te.current.style.left=i.left+window.scrollX+"px",j&&re.current&&(re.current.style.transform=i.transform,re.current.style.setProperty("-ms-transform",i.transform),re.current.style.setProperty("-webkit-transform",i.transform),re.current.style.top=(null===(e=T.top)||void 0===e?void 0:e.toString())||i.arrowTop,re.current.style.left=(null===(t=T.left)||void 0===t?void 0:t.toString())||i.arrowLeft)}};void 0===(ve=C)&&(ve=!0),Sw.useEffect((function(){if(ve){var e=function(e){"Escape"===e.key&&me(e)};return document.addEventListener("keyup",e),function(){ve&&document.removeEventListener("keyup",e)}}}),[me=ce,ve]),function(e,t){void 0===t&&(t=!0),Sw.useEffect((function(){if(t){var r=function(t){if(9===t.keyCode){var r,n=null==e||null===(r=e.current)||void 0===r?void 0:r.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),i=Array.prototype.slice.call(n);if(1===i.length)return void t.preventDefault();var o=i[0],a=i[i.length-1];t.shiftKey&&document.activeElement===o?(t.preventDefault(),a.focus()):document.activeElement===a&&(t.preventDefault(),o.focus())}};return document.addEventListener("keydown",r),function(){t&&document.removeEventListener("keydown",r)}}}),[e,t])}(te,Z&&oe),function(e,t){void 0===t&&(t=!0),Sw.useEffect((function(){if(t){var r=function(){e()};return window.addEventListener("resize",r),function(){t&&window.removeEventListener("resize",r)}}}),[e,t])}(ye,b),function(e,t,r){void 0===r&&(r=!0),Sw.useEffect((function(){if(r){var n=function(r){var n=Array.isArray(e)?e:[e],i=!1;n.forEach((function(e){e.current&&!e.current.contains(r.target)||(i=!0)})),r.stopPropagation(),i||t(r)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){r&&(document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n))}}}),[e,t,r])}(n?[te,ee]:[te],ce,v&&!g);var be,we=function(){return Sw.createElement("div",Object.assign({},(e=oe?iG.popupContent.modal:iG.popupContent.tooltip,t={className:"popup-content "+(""!==R?R.split(" ").map((function(e){return e+"-content"})).join(" "):""),style:tG({},e,_,{pointerEvents:"auto"}),ref:te,onClick:function(e){e.stopPropagation()}},!D&&k.indexOf("hover")>=0&&(t.onMouseEnter=le,t.onMouseLeave=de),t),{key:"C",role:oe?"dialog":"tooltip",id:ie.current}),j&&!oe&&Sw.createElement("div",{ref:re,style:iG.popupArrow},Sw.createElement("svg",{"data-testid":"arrow",className:"popup-arrow "+(""!==R?R.split(" ").map((function(e){return e+"-arrow"})).join(" "):""),viewBox:"0 0 32 16",style:tG({position:"absolute"},T)},Sw.createElement("path",{d:"M16 0l16 16H0z",fill:"currentcolor"}))),X&&"function"==typeof X?X(ce,Z):X);var e,t},Ce=!(k.indexOf("hover")>=0),Ee=oe?iG.overlay.modal:iG.overlay.tooltip,ke=[Ce&&Sw.createElement("div",{key:"O","data-testid":"overlay","data-popup":oe?"modal":"tooltip",className:"popup-overlay "+(""!==R?R.split(" ").map((function(e){return e+"-overlay"})).join(" "):""),style:tG({},Ee,I,{pointerEvents:v&&g||oe?"auto":"none"}),onClick:v&&g?ce:void 0,tabIndex:-1},oe&&we()),!oe&&we()];return Sw.createElement(Sw.Fragment,null,function(){for(var e={key:"T",ref:ee,"aria-describedby":ie.current},t=Array.isArray(k)?k:[k],r=0,i=t.length;r<i;r++)switch(t[r]){case"click":e.onClick=ue;break;case"right-click":e.onContextMenu=fe;break;case"hover":e.onMouseEnter=le,e.onMouseLeave=de;break;case"focus":e.onFocus=le,e.onBlur=de}if("function"==typeof n){var o=n(Z);return!!n&&Sw.cloneElement(o,e)}return!!n&&Sw.cloneElement(n,e)}(),Z&&rL.createPortal(ke,(null===(be=document.getElementById("popup-root"))&&((be=document.createElement("div")).setAttribute("id","popup-root"),document.body.appendChild(be)),be)))})),lG=l_(rG||(rG=XK(["\n  .popup-content {\n    margin: auto;\n    background: #fff;\n    width: 100%;\n    padding: 5px;\n    border: 1px solid #d7d7d7;\n    max-width: 568px;\n    border-radius: 10px;\n  }\n\n  [role=tooltip].popup-content {\n    width: 200px;\n    box-shadow: 0 0 3px rgba(0, 0, 0, .16);\n    border-radius: 5px\n  }\n\n  .popup-overlay {\n    background: rgba(0, 0, 0, .5);\n    padding: 10px;\n  }\n\n  [data-popup=tooltip].popup-overlay {\n    background: transparent\n  }\n\n  .popup-arrow {\n    -webkit-filter: drop-shadow(0 -3px 3px rgba(0, 0, 0, .16));\n    filter: drop-shadow(0 -3px 3px rgba(0, 0, 0, .16));\n    color: #fff;\n    stroke-width: 2px;\n    stroke: #d7d7d7;\n    stroke-dasharray: 30px;\n    stroke-dashoffset: -54px;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0\n  }\n"]))),fG=["open","children","overlayStyle"],dG=function(e){var t=e.open,r=e.children,n=e.overlayStyle,i=YK(e,fG);return Sw.createElement(Sw.Fragment,null,Sw.createElement(uG,QK({overlayStyle:GK(GK({},n),{},{zIndex:2e3}),closeOnDocumentClick:!1,closeOnEscape:!1,modal:!0,open:t},i),r),Sw.createElement(lG,null))};dG.propTypes={open:SC.bool,children:SC.node,overlayStyle:SC.shape({})},dG.defaultProps={open:!1,children:null,overlayStyle:{}};var pG="default",hG="error";function gG(e){var t=e.className,r=e.width,n=e.height,i=e.type,o=e.strokeStyles,a=e.strokeWidth,s=e.radius,c=e.paddingStyle,u=Sw.useMemo((function(){var e;return GK((HK(e={},pG,{fill:"none",strokeWidth:a,stroke:"#fff",strokeDasharray:"7, 4",opacity:.6}),HK(e,hG,{fill:"rgba(234,50,35, 0.1)",strokeWidth:a,stroke:"#ea3223"}),e),o)}),[a,o]),l=s+.8*a,f=u[i];return Sw.createElement("svg",{width:r,height:n,className:t},Sw.createElement("rect",{x:a/2,y:a/2,rx:s,ry:s,width:r-a,height:n-a,style:f}),Sw.createElement("path",{d:"M0,".concat(l," Q0,0 ").concat(l,",0 L0,0 Z"),style:c}),Sw.createElement("path",{d:"M0,".concat(n-l," Q0,").concat(n," ").concat(l,",").concat(n," L0,").concat(n," Z"),style:c}),Sw.createElement("path",{d:"M".concat(r-l,",").concat(n," Q").concat(r,",").concat(n," ").concat(r,",").concat(n-l," L").concat(r,",").concat(n," Z"),style:c}),Sw.createElement("path",{d:"M".concat(r-l,",0 Q").concat(r,",0 ").concat(r,",").concat(l," L").concat(r,",0 Z"),style:c}))}gG.propTypes={className:SC.string,width:SC.number,height:SC.number,strokeWidth:SC.number,strokeStyles:SC.shape({}),type:SC.oneOf([pG,hG]),radius:SC.number,paddingStyle:SC.shape({})},gG.defaultProps={className:"",width:600,height:400,strokeWidth:2,strokeStyles:{},type:pG,radius:10,paddingStyle:{fill:"rgba(0, 0, 0, 0.6)"}};var mG,vG,yG,bG,wG,CG,EG,kG,SG,_G,AG,TG,xG,IG,BG,RG,PG,NG=f_(["from{transform:perspective(400px);}to{transform:perspective(400px) rotateY(90deg);}"]),OG=f_(["from{transform:perspective(400px) rotateY(-90deg);}to{transform:perspective(400px);}"]),DG=WS([".flipY-exit{animation-name:",";animation-duration:","ms;animation-timing-function:ease-in;}.flipY-enter{animation-name:",";animation-duration:","ms;animation-timing-function:ease-out;}"],NG,500,OG,500),LG=f_(["from,to{transform:translate3d(-","px,0,0);}50%{transform:translate3d(","px,0,0);}"],20,20),MG=f_(["from,to{transform:translate3d(0,-","px,0);}50%{transform:translate3d(0,","px,0);}"],20,20),UG=(WS([".slide-horizontal{animation-name:",";animation-iteration-count:infinite;animation-duration:2000ms;animation-timing-function:linear;}.slide-vertical{animation-name:",";animation-iteration-count:infinite;animation-duration:2000ms;animation-timing-function:linear;}"],LG,MG),f_(["from,to{opacity:1;}50%{opacity:0;}"])),jG=(WS([".blink{animation-name:",";animation-iteration-count:infinite;animation-duration:2000ms;animation-timing-function:linear;}"],UG),c_.div(mG||(mG=XK(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: ","; // must be higher than BASE_Z_INDEX and lower than other layers\n"])),1001)),FG=f_(["from{background:#000;}to{}"]),VG=WS([".splash-enter{animation-name:",";animation-duration:","ms;animation-timing-function:ease-in;}"],FG,300),zG=c_.div(vG||(vG=XK(["\n  ","\n"])),VG),KG=f_(["from{transform:rotate(0deg);}to{transform:rotate(360deg);}"]),qG=WS([".spin{animation-name:",";animation-iteration-count:infinite;animation-duration:1000ms;animation-timing-function:linear;}"],KG),HG=function(e){var t=e.keyForTransition,r=void 0===t?0:t;return Sw.createElement(zG,null,Sw.createElement(Cq,null,Sw.createElement(gq,{key:r,timeout:{enter:300,exit:0},classNames:"splash",unmountOnExit:!1},Sw.createElement(jG,null))))},QG=c_.div(yG||(yG=XK(["\n  ","\n  ","\n"])),DG,qG),WG=c_.img(bG||(bG=XK(["\n  border-radius: 5px;\n  opacity: 0.7;\n  height: 38px;\n"]))),GG=c_.div(wG||(wG=XK(["\n  cursor: pointer;\n  text-align: center;\n  width: ","px;\n\n  img {\n    width: 100%;\n  }\n\n  z-index: ",";\n  position: fixed;\n\n  ","\n"])),60,1020,_q.isMobile?WS(["top:",";"],(function(e){return e.y})):WS(["bottom:","px;"],10)),YG=c_.div(CG||(CG=XK(["\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  position: absolute;\n  margin: auto;\n  width: ","px;\n  height: ","px;\n\n  img {\n    width: 100%;\n  }\n\n  z-index: ",";\n"])),100,100,1020),XG=c_.div(EG||(EG=XK(["\n  color: #fff;\n  text-align: center;\n"]))),$G=c_.div(kG||(kG=XK(["\n  transform: translateZ(1000px); // to fix rotating bug on safari\n  transform-style: preserve-3d;\n  position: absolute;\n  top: ",";\n  z-index: ",";\n"])),(function(e){return e.y}),1020),ZG=c_.div(SG||(SG=XK(["\n  display: flex;\n  align-items: center;\n"]))),JG=c_(XG)(_G||(_G=XK(["\n  font-size: 20px;\n  margin-left: 10px;\n  color: #fff;\n"]))),eY=c_(XG)(AG||(AG=XK(["\n  font-size: 20px;\n  margin-left: 10px;\n  color: green;\n  position: absolute;\n  left: 0;\n  top: 10px;\n  background: white;\n  z-index: ",";\n"])),1030),tY=c_(XG)(TG||(TG=XK(["\n  position: absolute;\n  font-size: 16px;\n  text-align: center;\n  color: #fff;\n  top: ",";\n  z-index: ",";\n"])),(function(e){return e.y}),1020),rY=c_(tY)(xG||(xG=XK(["\n  background: #ea3223;\n  padding: 5px 10px;\n  border-radius: 3px;\n"]))),nY=c_(XG)(IG||(IG=XK(["\n  position: absolute;\n  font-size: 18px;\n  text-align: center;\n  border-radius: 3px;\n  padding: 5px 10px;\n  background: #ea3223;\n  color: #fff;\n  margin: 0 10px;\n  top: ",";\n  z-index: ",";\n"])),(function(e){return e.y}),1020),iY=(c_.div(BG||(BG=XK(["\n  font-size: 18px;\n  text-align: center;\n  padding: 10px;\n"]))),c_(gG)(RG||(RG=XK(["\n  position: absolute;\n  top: 0;\n  left: 0;\n"])))),oY={WARMUP_INTRO:{en:"Warming up... Please wait a moment",vi:"Đang khởi động, vui lòng chờ trong giây lát..."}},aY=c_.div(PG||(PG=XK(["\n  font-size: 18px;\n  text-align: center;\n  padding: 10px;\n"]))),sY=function(e){var t=e.contentStyle,r=fF.useSDKSettings(),n=r.lang,i=r.warmupMessage,o=i?i[n]:oY.WARMUP_INTRO[n];return Sw.createElement(dG,{open:!0,contentStyle:t},Sw.createElement(aY,{className:"warmup-message"},o))};sY.propTypes={contentStyle:SC.shape({})},sY.defaultProps={contentStyle:{}};var cY,uY,lY,fY={BTN_OK:{en:"OK",vi:"Tôi đã hiểu"},FRONT:{en:"front",vi:"trước"},BACK:{en:"back",vi:"sau"},BTN_USE_THIS_PICTURE:{en:"Use this picture",vi:"Dùng ảnh này"},BTN_TRY_AGAIN:{en:"Try again",vi:"Thử lại"},CONFIRM_POPUP_VALID_QR:{en:"QR code scanned",vi:"Đã quét được mã QR"},CONFIRM_POPUP_INVALID_QR:{en:"Could not scan QR code",vi:"Không quét được mã QR"}},dY=oL.IDCardMessage,pY=c_.div(cY||(cY=XK(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 10px;\n"]))),hY=c_.div(uY||(uY=XK(["\n  text-align: center;\n  font-size: 1rem;\n"]))),gY=c_.button(lY||(lY=XK(["\n  margin-top: 20px;\n  width: 100%;\n  max-width: 160px;\n  height: 50px;\n  background-color: ",";\n  border: 0;\n  outline: none;\n  border-radius: 0.25rem;\n  color: #fff;\n  font-weight: 400;\n  cursor: pointer;\n  font-size: 1rem;\n"])),(function(e){return e.theme.tsBlue})),mY=function(e){var t=e.onOk,r=e.maxSessionTime,n=fF.useSDKSettings().lang;return Sw.createElement(pY,null,Sw.createElement(hY,{className:"popup-message"},OQ(dY.TIMEOUT_INSTRUCTION[n])({x:r})),Sw.createElement(gY,{className:"popup-button",onClick:t},fY.BTN_OK[n]))};mY.propTypes={onOk:SC.func,maxSessionTime:SC.number},mY.defaultProps={onOk:function(){},maxSessionTime:30};var vY=function(){var e=$K(Sw.useState(!1),2),t=e[0],r=e[1],n=$K(Sw.useState(null),2),i=n[0],o=n[1],a=$K(Sw.useState({}),2),s=a[0],c=a[1];return{showPopup:Sw.useCallback((function(e){var t=e.popupType,n=e.props;c(void 0===n?{}:n),o(t),r(null!==t)}),[]),popupShown:t,popupType:i,props:s}},yY="SESSION_TIMEOUT",bY="CONFIRM",wY="QR_INVALID",CY="QR_INSTRUCTIONS",EY=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kY=/^\w*$/,SY=function(e,t){if(IH(e))return!1;var r=ky(e);return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!yQ(e))||kY.test(e)||!EY.test(e)||null!=t&&e in Object(t)},_Y=eH(Object,"create"),AY=function(){this.__data__=_Y?_Y(null):{},this.size=0},TY=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},xY=Object.prototype.hasOwnProperty,IY=function(e){var t=this.__data__;if(_Y){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return xY.call(t,e)?t[e]:void 0},BY=Object.prototype.hasOwnProperty,RY=function(e){var t=this.__data__;return _Y?void 0!==t[e]:BY.call(t,e)},PY=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_Y&&void 0===t?"__lodash_hash_undefined__":t,this};function NY(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}NY.prototype.clear=AY,NY.prototype.delete=TY,NY.prototype.get=IY,NY.prototype.has=RY,NY.prototype.set=PY;var OY=NY,DY=function(){this.__data__=[],this.size=0},LY=function(e,t){for(var r=e.length;r--;)if(nH(e[r][0],t))return r;return-1},MY=Array.prototype.splice,UY=function(e){var t=this.__data__,r=LY(t,e);return!(r<0||(r==t.length-1?t.pop():MY.call(t,r,1),--this.size,0))},jY=function(e){var t=this.__data__,r=LY(t,e);return r<0?void 0:t[r][1]},FY=function(e){return LY(this.__data__,e)>-1},VY=function(e,t){var r=this.__data__,n=LY(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function zY(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zY.prototype.clear=DY,zY.prototype.delete=UY,zY.prototype.get=jY,zY.prototype.has=FY,zY.prototype.set=VY;var KY=zY,qY=eH(xq,"Map"),HY=function(){this.size=0,this.__data__={hash:new OY,map:new(qY||KY),string:new OY}},QY=function(e){var t=ky(e);return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},WY=function(e,t){var r=e.__data__;return QY(t)?r["string"==typeof t?"string":"hash"]:r.map},GY=function(e){var t=WY(this,e).delete(e);return this.size-=t?1:0,t},YY=function(e){return WY(this,e).get(e)},XY=function(e){return WY(this,e).has(e)},$Y=function(e,t){var r=WY(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function ZY(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ZY.prototype.clear=HY,ZY.prototype.delete=GY,ZY.prototype.get=YY,ZY.prototype.has=XY,ZY.prototype.set=$Y;var JY=ZY;function eX(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function r(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(eX.Cache||JY),r}eX.Cache=JY;var tX=eX,rX=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nX=/\\(\\)?/g,iX=function(e){var t=tX((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(rX,(function(e,r,n,i){t.push(n?i.replace(nX,"$1"):r||e)})),t}),(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}(),oX=function(e,t){return IH(e)?e:SY(e,t)?[e]:iX(EQ(e))},aX=function(e){if("string"==typeof e||yQ(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t},sX=function(e,t){for(var r=0,n=(t=oX(t,e)).length;null!=e&&r<n;)e=e[aX(t[r++])];return r&&r==n?e:void 0},cX=function(e,t,r){var n=null==e?void 0:sX(e,t);return void 0===n?r:n},uX=oL.Errors;function lX(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}function fX(e,t){return Math.sqrt(lX(e,t))}function dX(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.canvas,r=e.imgMargin,n=void 0===r?.15:r,i=window,o=i.cv,a=t.width,s=t.height,c=n;c<1&&(c=parseInt(.5*(s+a)*c,10));var u=o.imread(t),l=new o.Mat;return o.copyMakeBorder(u,l,c,c,c,c,o.BORDER_CONSTANT,new o.Scalar(0,0,0,255)),u.delete(),{mat:l,margin:c}}function pX(e,t){var r=window.cv,n=$K(t.map((function(e){return e.location})),4),i=n[0],o=n[1],a=n[2],s=n[3],c=fX(a,s),u=fX(o,i),l=Math.max(c,u),f=fX(o,a),d=fX(i,s),p=Math.max(f,d),h=[i.x,i.y,o.x,o.y,a.x,a.y,s.x,s.y],g=[0,0,l-1,0,l-1,p-1,0,p-1],m=r.imread(e),v=new r.Mat,y=new r.Size(l,p),b=r.matFromArray(4,1,r.CV_32FC2,h),w=r.matFromArray(4,1,r.CV_32FC2,g),C=r.getPerspectiveTransform(b,w);r.warpPerspective(m,v,C,y,r.INTER_LINEAR,r.BORDER_CONSTANT,new r.Scalar);var E=new ImageData(new Uint8ClampedArray(v.data),v.cols,v.rows);return m.delete(),v.delete(),b.delete(),w.delete(),E}function hX(e,t,r){var n={x:t.x-e.x,y:t.y-e.y},i={x:r.x-e.x,y:r.y-e.y},o=Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2)),a=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2));return 180*Math.acos((n.x*i.x+n.y*i.y)/(o*a))/Math.PI}function gX(e){var t=e.corners,r=e.width,n=e.height,i=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;t.forEach((function(e){var t=e.location,r=t.x,n=t.y;i=Math.min(i,r),o=Math.min(o,n),a=Math.max(a,r),s=Math.max(s,n)}));var c=.02;return i/r>=c&&o/n>=c&&(n-s)/n>=c&&(r-a)/r>=c}function mX(){return vX.apply(this,arguments)}function vX(){return(vX=KK(regeneratorRuntime.mark((function e(){var t,r,n,i,o,a,s,c,u,l,f,d,p=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},r=t.canvas,n=t.paddingPercent,i=void 0===n?.04:n,o=r.width,a=r.height,s=Math.floor(o*i),c=Math.floor(a*i),u=o-2*s,l=a-2*c,f=document.createElement("canvas"),d=f.getContext("2d"),f.width=u,f.height=l,d.drawImage(r,s,c,u,l,0,0,u,l),e.abrupt("return",Gz.isCardGlare(f));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yX(e){for(var t=e.length,r=0;r<t;r++){var n=(r+t-1)%t,i=(r+1)%t,o=hX(e[r].location,e[n].location,e[i].location);if(o<70||o>110)return!1}return!0}function bX(e){return wX.apply(this,arguments)}function wX(){return(wX=KK(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u,l,f,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.blazefaceModel,n=t.predictedIdCardCanvas,i=t.frontSide,o=n.width,a=n.height,s=Math.floor(o/3),c=Math.floor(4*a/5),u=document.createElement("canvas"),l=u.getContext("2d"),u.width=s,u.height=c,l.drawImage(n,0,Math.floor(a/5),s,c,0,0,s,c),e.next=12,jV.getModelPredictions({model:r,sCanvas:u});case 12:if(f=e.sent,d=f.filter((function(e){var t=e.topLeft,r=e.bottomRight,n=$K(e.probability,1)[0],i=e.landmarks;return!(n<.9||i.length<4||TV.rectAreaRatio({small:{coords:[t,r]},big:{coords:[[0,0],[jV.SIZE,jV.SIZE]]}})<.025)})),p=d.length,!i){e.next=22;break}if(0!==p){e.next=18;break}return e.abrupt("return",uX.id_detector_error_front_side_no_faces);case 18:if(!(p>1)){e.next=20;break}return e.abrupt("return",uX.id_detector_error_front_side_multiple_faces);case 20:e.next=24;break;case 22:if(!(p>0)){e.next=24;break}return e.abrupt("return",uX.id_detector_error_back_side_has_faces);case 24:return e.abrupt("return",null);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var CX=/\s/,EX=function(e){for(var t=e.length;t--&&CX.test(e.charAt(t)););return t},kX=/^\s+/,SX=function(e){return e?e.slice(0,EX(e)+1).replace(kX,""):e},_X=/^[-+]0x[0-9a-f]+$/i,AX=/^0b[01]+$/i,TX=/^0o[0-7]+$/i,xX=parseInt,IX=function(e){if("number"==typeof e)return e;if(yQ(e))return NaN;if(jq(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=jq(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=SX(e);var r=AX.test(e);return r||TX.test(e)?xX(e.slice(2),r?2:8):_X.test(e)?NaN:+e},BX=function(e){return e?1/0===(e=IX(e))||-1/0===e?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0},RX=function(e){var t=BX(e),r=t%1;return t==t?r?t-r:t:0},PX=function(e,t){var r;if("function"!=typeof t)throw new TypeError("Expected a function");return e=RX(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}},NX=function(e){return PX(2,e)},OX=function(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e},DX=function(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=IX(r))==r?r:0),void 0!==t&&(t=(t=IX(t))==t?t:0),OX(IX(e),t,r)},LX="https://thaison-trustingsocial.github.io/web-sdk/assets/opencv.js",MX=function(){var e=KK(regeneratorRuntime.mark((function e(){var t,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:LX,e.abrupt("return",new Promise((function(e,r){var n=document.createElement("script");n.setAttribute("async",""),n.setAttribute("type","text/javascript"),n.setAttribute("id","opencvjs"),n.addEventListener("load",KK(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.cv||!window.cv.getBuildInformation){t.next=4;break}e(),t.next=12;break;case 4:if(!(window.cv instanceof Promise)){t.next=11;break}return t.next=7,window.cv;case 7:window.cv=t.sent,e(),t.next=12;break;case 11:window.cv.onRuntimeInitialized=function(){e()};case 12:case"end":return t.stop()}}),t)})))),n.addEventListener("error",(function(){r()})),n.src=t;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function UX(){return(UX=KK(regeneratorRuntime.mark((function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){return(a=KK(regeneratorRuntime.mark((function e(){var t,r,o,a,s,c,u,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t="detect.caffemodel",r="sr.prototxt",o="sr.caffemodel",n){e.next=23;break}return a=window,s=a.cv,e.next=8,i("detect.prototxt");case 8:return c=e.sent,e.next=11,i(t);case 11:return u=e.sent,e.next=14,i(r);case 14:return l=e.sent,e.next=17,i(o);case 17:f=e.sent,s.FS_createDataFile("/","detect.prototxt",c,!0,!1,!1),s.FS_createDataFile("/","detect.caffemodel",u,!0,!1,!1),s.FS_createDataFile("/","sr.prototxt",l,!0,!1,!1),s.FS_createDataFile("/","sr.caffemodel",f,!0,!1,!1),n=new s.wechat_qrcode_WeChatQRCode("detect.prototxt","detect.caffemodel","sr.prototxt","sr.caffemodel");case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)},o=function(){return a.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:{opencvUrl:LX},r=t.opencvUrl,console.log("warming.."),i=function(){var e=KK(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://leidenglai.github.io/opencv-js-qrcode/models/".concat(t),{method:"GET"});case 2:return r=e.sent,e.next=5,r.arrayBuffer();case 5:return n=e.sent,e.abrupt("return",new Uint8Array(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=7,MX(r);case 7:return e.next=9,o();case 9:return e.abrupt("return",{qrModel:n});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var jX=NX((function(){return UX.apply(this,arguments)})),FX="https://unpkg.com/@tsocial/tv_web_sdk_resources@1.0.0/models/id-card/tflite/qtf16_model_224x224.tflite",VX={0:"top-left",1:"top-right",2:"bottom-right",3:"bottom-left",4:"cccd.front",5:"passport",6:"cmnd_old.front",7:"cmnd_old.back",8:"cmnd_new.front",9:"cmnd_new.back",10:"cccd_new.front",11:"cccd_new.back"};function zX(e){var t,r,n,i,o,a=e.card,s=e.corners,c=a.box,u={x:(c[1]+c[3])/2,y:(c[0]+c[2])/2},l=c[2]-c[0],f=c[1]-c[3],d=function(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=JK(e))){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw o}}}}(s);try{for(d.s();!(o=d.n()).done;){var p=o.value;switch(p.label){case"top-left":t||(t=p.location);break;case"top-right":r||(r=p.location);break;case"bottom-right":n||(n=p.location);break;case"bottom-left":i||(i=p.location)}}}catch(e){d.e(e)}finally{d.f()}if(![t,r,n,i].every(Boolean))return console.debug("Not qualified, corners missing"),!1;var h={x:(t.x+n.x)/2,y:(t.y+n.y)/2},g={x:(r.x+i.x)/2,y:(r.y+i.y)/2},m=lX(u,h),v=lX(u,g);return Math.sqrt(m)>(l+f)/8||Math.sqrt(v)>(l+f)/8?(console.debug("Not qualified, not close enough"),!1):(console.debug("Qualified"),!0)}var KX=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n,i,o,a,s,c;return t=e,(r=[{key:"load",value:(c=KK(regeneratorRuntime.mark((function e(){var t,r,n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=t.opencvUrl,n=t.modelUrl,e.next=3,jX();case 3:return e.next=5,Promise.all([jX({url:r}),this.loadModel({modelUrl:n})]);case 5:case"end":return e.stop()}}),e,this)}))),function(){return c.apply(this,arguments)})},{key:"loadModel",value:(s=KK(regeneratorRuntime.mark((function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},r=t.modelUrl,n=void 0===r?FX:r,e.next=3,RK.initTensorFlow({preferredBackends:["webgl","wasm","cpu"]});case 3:return e.next=5,RK.loadTFLiteModel({modelUrl:n});case 5:this.model=e.sent,i=this.model.inputs,this.inputSize=[i[0].shape[1],i[0].shape[2]];case 8:case"end":return e.stop()}}),e,this)}))),function(){return s.apply(this,arguments)})},{key:"loadResource",value:(a=KK(regeneratorRuntime.mark((function e(){var t,r,n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=t.modelUrl,n=void 0===r?FX:r,e.next=3,RK.preloadResource({modelUrl:n});case 3:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"dispose",value:(o=KK(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.model&&this.model.dispose();case 1:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"predict",value:(i=KK(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u,l,f,d,p,h,g,m,v,y,b,w,C,E,k,S,_,A,T,x,I=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=I.length>1&&void 0!==I[1]?I[1]:{},n=r.imgMargin,i=void 0===n?.5:n,o=r.detectThreshold,a=void 0===o?.3:o,s=r.maxNumReturns,c=void 0===s?100:s,u=window,l=u.cv,f={},d=t.width,p=t.height,f.originalWidth=d,f.originalHeight=p,h=dX({canvas:t,imgMargin:i}),g=h.margin,m=h.mat,v=$K(this.inputSize,2),y=v[0],b=v[1],w=new l.Mat,l.resize(m,w,new l.Size(y,b),0,0,l.INTER_AREA),C=m.cols/y,E=m.rows/b,(k=document.createElement("canvas")).width=y,k.height=b,k.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(w.data),w.cols,w.rows),0,0),m.delete(),w.delete(),f.canvas=k,f.margin=g,e.next=24,this.detect(k,{detectThreshold:a,maxNumReturns:c});case 24:if(S=e.sent,_={inputImage:f,card:null},A=[],T=[],S.forEach((function(e){var t=$K(e.box,4),r=t[0],n=t[1],i=t[2],o=t[3];e.clazz<=3?A.push({clazz:e.clazz,label:e.label,score:e.score,location:{x:DX(Math.floor((o+n)/2*C-g),0,d),y:DX(Math.floor((r+i)/2*E-g),0,p)},scaledLocation:{x:DX(Math.floor((o+n)/2),0,k.width),y:DX(Math.floor((r+i)/2),0,k.height)}}):T.push({label:e.label,score:e.score,box:[DX(Math.floor(r*E-g),0,p),DX(Math.floor(n*C-g),0,d),DX(Math.floor(i*E-g),0,p),DX(Math.floor(o*C-g),0,d)]})})),A.sort((function(e,t){return t.score-e.score})),T.sort((function(e,t){return t.score-e.score})),!(T.length>0)){e.next=40;break}if(zX({card:x=T[0],corners:A})){e.next=36;break}return console.debug("Not qualified.",x,A),e.abrupt("return",_);case 36:return A.sort((function(e,t){return e.clazz-t.clazz})),x.corners=A,_.card=x,e.abrupt("return",_);case 40:return e.abrupt("return",_);case 41:case"end":return e.stop()}}),e,this)}))),function(e){return i.apply(this,arguments)})},{key:"detect",value:(n=KK(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u,l,f,d,p,h,g,m,v,y,b,w,C,E,k,S,_=this,A=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A.length>1&&void 0!==A[1]?A[1]:{},n=r.detectThreshold,i=r.maxNumReturns,o=window,a=o.tf,s=t.width,c=t.height,u=a.tidy((function(){var e=a.expandDims(a.cast(a.image.resizeNearestNeighbor(a.browser.fromPixels(t),_.inputSize),"float32"));return _.model.predict(e)})),e.next=7,Promise.all([u["StatefulPartitionedCall:1"].data(),u["StatefulPartitionedCall:2"].data(),u["StatefulPartitionedCall:3"].array()]);case 7:for(l=e.sent,f=$K(l,3),d=f[0],p=f[1],h=$K(f[2],1),g=h[0],m=[],v=Math.min(d.length,i),y=0;y<v;y++)(b=d[y])>n&&(C=p[y],E=null!==(w=VX[Math.round(C)])&&void 0!==w?w:"NA",k=g[y],S=[k[0]*c,k[3]*s,k[2]*c,k[1]*s],m.push({score:b,clazz:C,box:S,label:E}));return e.abrupt("return",m);case 17:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})}])&&qK(t.prototype,r),e}();function qX(e){return HX.apply(this,arguments)}function HX(){return(HX=KK(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.idCardModel,e.abrupt("return",new Promise((function(e,t){var n=document.createElement("canvas");setTimeout(t,1e3),r.predict(n).then(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function QX(e){return WX.apply(this,arguments)}function WX(){return(WX=KK(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.idCardModel,n=!0,e.prev=2,i=performance.now(),e.next=6,qX({idCardModel:r});case 6:performance.now()-i>1e3&&(n=!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n=!1;case 13:return e.abrupt("return",{fastEnough:n});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function GX(){return(GX=KK(regeneratorRuntime.mark((function e(){var t,r,n,i,o,a,s,c,u,l,f,d,p,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.length>0&&void 0!==h[0]?h[0]:{},r=t.opencvUrl,n=t.idCardModelUrl,i=t.blazefaceModelUrl,o=t.tfScriptUrls,"iOS"!==_q.osName||!_q.osVersion.includes("12.")){e.next=5;break}return e.next=4,jX({url:r});case 4:return e.abrupt("return",{ableToUseModel:!1});case 5:return e.next=7,RK.loadTensorFlow(o);case 7:return a=new KX,e.next=10,Promise.all([RK.loadBlazefaceModel({modelUrl:i}),a.load({opencvUrl:r,modelUrl:n})]);case 10:return s=e.sent,c=$K(s,1),u=c[0],l=!0,f=document.createElement("canvas"),e.prev=15,e.next=18,a.predict(f);case 18:return e.next=20,QX({idCardModel:a});case 20:d=e.sent,p=d.fastEnough,l=p,e.next=29;break;case 25:e.prev=25,e.t0=e.catch(15),console.log(e.t0),l=!1;case 29:return e.abrupt("return",{ableToUseModel:l,idCardModel:a,blazefaceModel:u});case 30:case"end":return e.stop()}}),e,null,[[15,25]])})))).apply(this,arguments)}var YX=NX((function(){return GX.apply(this,arguments)})),XX=oL.Errors;function $X(e){var t=e.refVideo,r=e.shouldStart,n=e.cropArea,i=e.settings,o=Sw.useRef(null);null===o.current&&(o.current=document.createElement("canvas"));var a=Sw.useRef(!1),s=Sw.useRef(qz.createResizer({width:960,height:640})),c=Sw.useRef(null),u=Sw.useRef([{id:null,frames:[]}]),l=Sw.useCallback((function(){!0===a.current&&(a.current=!1)}),[]),f=Sw.useCallback((function(){u.current=[{id:null,frames:[]}]}),[]),d=Sw.useCallback((function(){var e=u.current;e[e.length-1].frames.length>0&&e.push({id:null,frames:[]})}),[]),p=Sw.useCallback(function(){var e=KK(regeneratorRuntime.mark((function e(t){var r,n,o,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.workingCanvas,n=s.current,o=u.current,a=n.resize({srcCanvas:r}),c=a.toDataURL("image/jpeg",i.saveFrameQuality/100).split(",")[1],o[o.length-1].frames.push({base64:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]),h=Sw.useCallback(KK(regeneratorRuntime.mark((function e(){var r,n,s,u,l,f,d,h,g,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:if(r=i.frameCaptureIntervalMs,i.enableRecording){e.next=5;break}return e.abrupt("return");case 5:n=c.current,s=t.current,a.current=!0,u=n.cropX,l=n.cropY,f=n.cropWidth,d=n.cropHeight,(h=o.current).width=f,h.height=d,g=h.getContext("2d"),m=null;case 14:if(g.drawImage(s,u,l,f,d,0,0,f,d),!r){e.next=25;break}if(!((v=(new Date).getTime())-m>=r)){e.next=23;break}return e.next=22,p({workingCanvas:h});case 22:m=v;case 23:e.next=27;break;case 25:return e.next=27,p({workingCanvas:h});case 27:if(a.current){e.next=29;break}return e.abrupt("break",33);case 29:return e.next=31,GF.sleep(15);case 31:e.next=14;break;case 33:case"end":return e.stop()}}),e)}))),[t,p,i]);return Sw.useEffect((function(){var e=t.current;function i(){return(i=KK(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.current=wV.analyzeVideoAndWindowSizes(e,n),t.next=3,h();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r&&n&&function(){i.apply(this,arguments)}(),function(){l()}}),[r,n,t,l,d,h]),{refWorkingCanvas:o,stopCheckFrame:l,splitVideos:d,resetRecordedVideos:f,checkFrame:h,refRecordedVideos:u}}var ZX,JX,e$,t$=function(e){var t=e.lang,r=e.onAboutToTimeout,n=e.onSessionTimeout,i=e.onVideoTimeLimitReached,o=e.settings,a=e.shouldStartTimers,s=e.sessionTime,c=Sw.useRef(),u=$K(Sw.useState(0),2),l=u[0],f=u[1],d=Sw.useCallback((function(){clearInterval(c.current)}),[]),p=Sw.useCallback((function(){f((function(e){return e+1}))}),[]);return Sw.useEffect((function(){if(a){var e=o.maxRecordingTimePerVideo,t=0,u=s/3;c.current=setInterval((function(){var o=s-(t+=1);o<=u&&r&&r({curTimeLeft:o}),t>0&&t%e==0&&i&&i(),0===o&&(d(),n&&n())}),1e3)}return function(){d()}}),[a,t,r,d,n,i,l,o,s]),{stopTimers:d,startTimers:p}},r$=function(e){var t=e.shouldStart,r=e.refVideo,n=e.cropArea,i=e.settings,o=e.onModelErrorChange,a=e.frontSide,s=e.onDebugInfoChange,c=e.onAboutToTimeout,u=e.onSessionTimeout,l=e.onCaptureDone,f=e.outputEncryptionSettings,d=e.quality,p=Sw.useRef(!1),h=$K(Sw.useState(!1),2),g=h[0],m=h[1],v=Sw.useRef((function(){})),y=KF.useSDKTracking().sendEvent,b=Sw.useRef(),w=Sw.useRef(),C=Sw.useRef(),E=fF.useSDKSettings(),k=E.debug,S=E.lang,_=E.enableAntiDebug;Sw.useEffect((function(){_&&PK.enableAntiDebug()}),[_]);var A=Sw.useCallback(function(){var e=KK(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y({tag:a?"id_front":"id_back",event:"sdk_ui.auto_capture",log:{}}),e.next=3,v.current(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[y,a]),T=Sw.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o.apply(void 0,t);var n=cX(t,"0.code");n&&n!==b.current&&y({tag:a?"id_front":"id_back",event:"sdk_ui.show_alert",log:{alert:n}}),b.current=n}),[o,a,y]),x=function(e){var t=e.refVideo,r=e.shouldStart,n=e.cropArea,i=e.settings,o=e.onError,a=e.frontSide,s=e.onAutoCaptureSuccess,c=e.quality,u=Sw.useRef(null);null===u.current&&(u.current=document.createElement("canvas"));var l=Sw.useRef(!1),f=Sw.useRef(null),d=$K(Sw.useState(!1),2),p=d[0],h=d[1],g=Sw.useRef({imageBlob:null,takenAt:null,blurScore:null,detectedCard:null}),m=Sw.useRef({imageBlob:null,blurScore:null,error:null,detectedCard:null}),v=Sw.useRef(!1),y=Sw.useRef(!1),b=Sw.useRef(null),w=Sw.useRef(!1),C=Sw.useRef({}),E=fF.useSDKSettings().customUrls;Sw.useEffect((function(){var e=!1;function t(){return(t=KK(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||p){t.next=14;break}if(!i.enableIdDetection){t.next=10;break}return t.next=4,YX(E);case 4:return C.current=t.sent,t.next=7,RK.initTensorFlow();case 7:b.current=i.enableBlurCheck&&C.current.ableToUseModel,t.next=11;break;case 10:b.current=!1;case 11:if(!e){t.next=13;break}return t.abrupt("return");case 13:h(!0);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!0}}),[p,i,E]);var k=Sw.useCallback((function(){!0===l.current&&(l.current=!1)}),[]),S=Sw.useCallback(function(){var e=KK(regeneratorRuntime.mark((function e(t){var r,n,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.blurScore,n=t.detectedCard,o=i.blurThreshold,a=g.current,s=m.current,!(r<o&&yV.hasBetterCardBlurScore(r,a.blurScore))){e.next=15;break}if(!w.current){e.next=9;break}a.imageBlob=s.imageBlob,e.next=12;break;case 9:return e.next=11,wV.takePicture({canvas:u.current,quality:c});case 11:a.imageBlob=e.sent;case 12:a.takenAt=(new Date).getTime(),a.blurScore=r,a.detectedCard=n;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i,c]),_=Sw.useCallback(function(){var e=KK(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.blurScore,n=t.detectedCard,y.current=!0,i=m.current,!yV.hasBetterCardBlurScore(r,i.blurScore)){e.next=10;break}return e.next=6,wV.takePicture({canvas:u.current,quality:c});case 6:i.imageBlob=e.sent,i.blurScore=r,i.detectedCard=n,w.current=!0;case 10:y.current=!1;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c]),A=Sw.useCallback(KK(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.waitForBestImageTimeMs,null===(r=g.current).imageBlob){e.next=8;break}if(!((new Date).getTime()-r.takenAt>t)){e.next=8;break}return e.next=7,s(r);case 7:k();case 8:case"end":return e.stop()}}),e)}))),[s,i,k]),T=Sw.useCallback((function(){v.current=!0}),[]),x=Sw.useCallback((function(){return new Promise((function(e){v.current=!1;var t=setInterval((function(){y.current||(clearInterval(t),e())}),150)}))}),[]),I=Sw.useCallback(KK(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var t=i.blurThreshold,r=m.current;b.current?(T(),setTimeout((function(){x().then((function(){yV.hasBetterCardBlurScore(r.blurScore,t)||(r.error=XX.id_detector_error_blur),null===r.imageBlob?wV.takePicture({canvas:u.current,quality:c}).then((function(t){r.imageBlob=t,e(r)})):e(r)}))}),2e3)):wV.takePicture({canvas:u.current,quality:c}).then((function(t){r.imageBlob=t,e(r)}))})));case 1:case"end":return e.stop()}}),e)}))),[i,T,x,c]),B=Sw.useCallback(KK(regeneratorRuntime.mark((function e(){var r,n,s,c,d,h,y,b,E,k,T,x,I,B,R,P,N,O,D,L,M,U,j,F,V;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&p&&!l.current){e.next=2;break}return e.abrupt("return");case 2:g.current={imageBlob:null,takenAt:null,blurScore:null,detectedCard:null},m.current={imageBlob:null,blurScore:null,error:null,detectedCard:null},r=i.enableAutoCapture,n=i.enableBlurCheck,s=i.enableIdDetection,c=C.current,d=c.idCardModel,h=c.blazefaceModel,y=c.ableToUseModel,b=f.current,E=t.current,l.current=!0,k=b.cropX,T=b.cropY,x=b.cropWidth,I=b.cropHeight,B=b.cropWidthWithoutPadding,R=b.cropHeightWithoutPadding,(P=u.current).width=x,P.height=I,N=P.getContext("2d"),O=document.createElement("canvas"),D=O.getContext("2d"),L=s&&y?15:700;case 17:if(N.drawImage(E,k,T,x,I,0,0,x,I),w.current=!1,!s||!y){e.next=74;break}return M=null,e.next=24,d.predict(P,{detectThreshold:.3});case 24:if(!(U=e.sent).card){e.next=70;break}if(!gX({corners:U.card.corners,width:x,height:I})){e.next=67;break}if(!yX(U.card.corners)){e.next=64;break}if(j=pX(P,U.card.corners),!((F=TV.rectAreaRatio({small:{area:j.width*j.height},big:{area:B*R}}))<.5)){e.next=36;break}M=XX.id_detector_card_too_small,e.next=62;break;case 36:if(!(F>.95)){e.next=40;break}M=XX.id_detector_error_incomplete,e.next=62;break;case 40:return O.width=j.width,O.height=j.height,D.putImageData(j,0,0),e.next=45,mX({canvas:O});case 45:if(!e.sent){e.next=50;break}M=XX.glare_detected,e.next=62;break;case 50:return e.next=52,bX({blazefaceModel:h,predictedIdCardCanvas:O,frontSide:a});case 52:if(M=e.sent){e.next=62;break}if(!n){e.next=62;break}if(V=yV.calculateIdCardBlurScore({canvas:O}),!v.current){e.next=59;break}return e.next=59,_({blurScore:V,detectedCard:U.card});case 59:if(!r){e.next=62;break}return e.next=62,S({blurScore:V,detectedCard:U.card});case 62:e.next=65;break;case 64:M=XX.id_detector_validate_angle_error;case 65:e.next=68;break;case 67:M=XX.id_detector_error_incomplete;case 68:e.next=71;break;case 70:M=XX.id_detector_no_cards;case 71:return o(M),e.next=74,A();case 74:if(l.current){e.next=76;break}return e.abrupt("break",80);case 76:return e.next=78,GF.sleep(L);case 78:e.next=17;break;case 80:case"end":return e.stop()}}),e)}))),[t,i,p,a,o,S,_,A]);Sw.useEffect((function(){var e=t.current;function i(){return(i=KK(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.current=wV.analyzeVideoAndWindowSizes(e,n,.05),t.next=3,B();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}r&&n&&p&&function(){i.apply(this,arguments)}()}),[r,n,t,k,B,p]);var R=Sw.useCallback((function(){k()}),[k]);return Sw.useEffect((function(){return R}),[R]),{refWorkingCanvas:u,stopCheckFrame:k,checkFrame:B,warmupDone:p,takePictureManually:I,refAbleToRunBurstMode:b}}({refVideo:r,shouldStart:t,cropArea:n,settings:i,onError:T,frontSide:a,onAutoCaptureSuccess:A,quality:d}),I=x.refWorkingCanvas,B=x.stopCheckFrame,R=x.checkFrame,P=x.warmupDone,N=x.takePictureManually,O=x.refAbleToRunBurstMode,D=$X({refVideo:r,shouldStart:t&&P,cropArea:n,settings:i}),L=D.stopCheckFrame,M=D.splitVideos,U=D.resetRecordedVideos,j=D.checkFrame,F=D.refRecordedVideos;!function(e){var t=e.debug,r=e.refRecordedVideos,n=e.refWorkingCanvas,i=e.refVideo,o=e.onChange;Sw.useEffect((function(){var e;return t&&(e=setInterval((function(){var e=i.current,t=r.current,a=n.current,s=t[t.length-1],c={videoWidth:e.videoWidth,videoHeight:e.videoHeight,framesCount:s.frames.length,"window.innerWidth":window.innerWidth,"window.innerHeight":window.innerHeight,"canvas.width":null==a?void 0:a.width,"canvas.height":null==a?void 0:a.height};o&&o(JSON.stringify(c,null,2))}),1e3)),function(){return clearInterval(e)}}),[o,t,r,n,i])}({debug:k,refRecordedVideos:F,refWorkingCanvas:I,refVideo:r,onChange:s});var V=Sw.useCallback((function(){L(),B(),U(),u()}),[U,L,B,u]),z=Sw.useCallback((function(){M()}),[M]),K=t$({lang:S,onAboutToTimeout:c,onSessionTimeout:V,onVideoTimeLimitReached:z,settings:i,shouldStartTimers:P&&t&&(null==i?void 0:i.enableTimers),sessionTime:null==i?void 0:i.idCardSessionTime}),q=K.stopTimers,H=K.startTimers,Q=Sw.useCallback((function(){p.current=!1}),[]),W=Sw.useCallback(KK(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(),H(),e.next=4,Promise.all([j(),R()]);case 4:case"end":return e.stop()}}),e)}))),[j,R,H,Q]),G=Sw.useCallback(KK(regeneratorRuntime.mark((function e(){var t,r,n,i,o,s,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},r=t.imageBlob,n=t.error,i=t.detectedCard,!p.current){e.next=3;break}return e.abrupt("return");case 3:if(p.current=!0,m(!0),L(),B(),q(),T(null),!f||!f.key){e.next=14;break}return s=f.key,e.next=13,DK.encrypt({blob:r,key:s});case 13:o=e.sent;case 14:l({image:{blob:r,encrypted:o,detectedCard:i},error:n,recordedVideos:F.current}),m(!1),y({tag:a?"id_front":"id_back",event:"user_activity",log:{time_capture_in_seconds:(performance.now()-C.current)/1e3}});case 17:case"end":return e.stop()}}),e)}))),[L,B,q,T,l,F,a,y,f]);v.current=G;var Y=Sw.useCallback(KK(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),q(),L(),O.current||B(),e.next=6,N();case 6:return t=e.sent,e.next=9,G(t);case 9:m(!1),y({tag:a?"id_front":"id_back",event:"user_activity.capture",log:{}});case 11:case"end":return e.stop()}}),e)}))),[N,G,q,O,L,B,y,a]);return Sw.useEffect((function(){t&&(y({tag:a?"id_front":"id_back",event:"user_activity.start",log:{}}),w.current=performance.now())}),[y,a,t]),Sw.useEffect((function(){P&&(y({tag:a?"id_front":"id_back",event:"user_activity.show",log:{}}),y({tag:a?"id_front":"id_back",event:"sdk.load_model",log:{status:"success",time_in_ms:performance.now()-w.current}}),C.current=performance.now())}),[y,a,P]),{warmupDone:P,isProcessing:g,takePictureManually:Y,restartSession:W,resetIsProcessingImageBlobTaken:Q}},n$=oL.IDCardMessage,i$=Sw.forwardRef((function(e,t){var r=e.description,n=e.usePortraitMask,i=e.windowAndVideoInfo,o=e.refVideo,a=e.frontSide,s=e.settings,c=e.onCaptureDone,u=e.onUISpacingChange,l=e.outputEncryptionSettings,f=$K(Sw.useState({}),2),d=f[0],p=f[1],h=d.yDescription,g=d.yMessage,m=d.yCaptureButton,v=QF.useAsset("ic_camera.svg"),y=QF.useAsset("ic_loading.png"),b=$K(Sw.useState(""),2),w=b[0],C=b[1],E=fF.useSDKSettings(),k=E.debug,S=E.lang,_=$K(Sw.useState(null),2),A=_[0],T=_[1],x=$K(Sw.useState(""),2),I=x[0],B=x[1],R=$K(Sw.useState(null),2),P=R[0],N=R[1],O=vY(),D=O.showPopup,L=O.popupShown,M=O.popupType,U=Sw.useCallback((function(e){B(null===e?"":OQ(e.msg[S])({side:a?fY.FRONT[S]:fY.BACK[S]}))}),[S,a]),j=Sw.useCallback((function(){T(""),D({popupType:yY})}),[D]),F=Sw.useCallback((function(){T(""),c.apply(void 0,arguments)}),[c]),V=Sw.useCallback((function(e){var t=e.curTimeLeft;T(OQ(n$.REMAINING_TIME[S])({x:t}))}),[S]),z=r$({shouldStart:!0,refVideo:o,cropArea:P,settings:s,onModelErrorChange:U,frontSide:a,onDebugInfoChange:C,onSessionTimeout:j,onCaptureDone:F,onAboutToTimeout:V,outputEncryptionSettings:l}),K=z.warmupDone,q=z.isProcessing,H=z.takePictureManually,Q=z.restartSession,W=z.resetIsProcessingImageBlobTaken,G=Sw.useCallback((function(){D({popupType:null}),W()}),[D,W]),Y=Sw.useCallback(KK(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(),e.next=3,Q();case 3:case"end":return e.stop()}}),e)}))),[Q,G]);Sw.useEffect((function(){if(i){var e,t,r,o,a,s,c,l=i.videoAreaWidth,f=i.videoAreaHeight,d=i.lostX,h=i.lostY,g=i.clientHeight;n?(a=.7*(s=f-165),r=(c=(e=h+10)+45)+20,o=(t=c+s+10)+60):(a=_q.isMobile?l-6:Math.floor(.7*l),r=(c=(e=h+10)+50)+20,o=(t=c+(s=Math.floor(Math.min(a/1.5,g-2*h-80-100)))+10)+60);var m=Math.floor((l-a)/2)+d;N({x:m,y:c,width:a,height:s,surroundStyle:{opacity:.6,background:"#000"}});var v={yTitle:e,yDescription:t,yMessage:r,yCaptureButton:o};p(v),u(v)}}),[i,n,u]);var X=Sw.useCallback(KK(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(""),e.next=3,H();case 3:case"end":return e.stop()}}),e)}))),[H]);return Sw.useImperativeHandle(t,(function(){return{restartSession:Y}}),[Y]),Sw.createElement(Sw.Fragment,null,!K&&Sw.createElement(sY,null),k&&Sw.createElement(eY,null,w),q&&Sw.createElement(YG,null,Sw.createElement("img",{src:y,alt:"",className:"spin"})),P&&Sw.createElement(eG,{x:"".concat(P.x,"px"),y:"".concat(P.y,"px"),width:"".concat(P.width,"px"),height:"".concat(P.height,"px"),surroundStyle:P.surroundStyle},Sw.createElement(iY,{width:P.width,height:P.height,type:I?hG:pG})),!I&&Sw.createElement(tY,{y:"".concat(h,"px"),className:"description"},r),I&&Sw.createElement(rY,{y:"".concat(h,"px")},I),!q&&(!(null!=s&&s.disableCaptureButtonIfAlert)||!I)&&Sw.createElement(GG,{onClick:X,y:"".concat(m,"px")},Sw.createElement("img",{src:v,alt:""})),A&&Sw.createElement(nY,{key:A,className:"message",y:"".concat(g,"px")},A),Sw.createElement(dG,{open:L},M===yY&&Sw.createElement(mY,{onOk:Y,maxSessionTime:null==s?void 0:s.idCardSessionTime})))}));i$.propTypes={usePortraitMask:SC.bool,description:SC.string,windowAndVideoInfo:SC.shape({}),refVideo:SC.shape({}),frontSide:SC.bool,settings:SC.shape({}),onCaptureDone:SC.func,onUISpacingChange:SC.func,outputEncryptionSettings:SC.shape({})},i$.defaultProps={usePortraitMask:!1,description:"",windowAndVideoInfo:{},refVideo:{},frontSide:!0,settings:{},onCaptureDone:function(){},onUISpacingChange:function(){},outputEncryptionSettings:null};var o$,a$,s$=c_.div(ZX||(ZX=XK(["\n  background: ",";\n  backdrop-filter: blur(12px);\n  border-radius: 8px;\n  top: ",";\n  position: absolute;\n  z-index: ",";\n  color: #fff;\n  padding: 10px;\n  margin: 0 10px;\n  max-width: 275px;\n  text-align: center;\n"])),(function(e){return e.background}),(function(e){return e.y}),1020),c$=c_.div(JX||(JX=XK(["\n  width: 0;\n  height: 0;\n  border-left: 20px solid transparent;\n  border-right: 20px solid transparent;\n  border-bottom: ",";\n  position: absolute;\n  left: 50%;\n  top: ",";\n  transform: translateX(-50%);\n"])),(function(e){return"".concat(e.arrowSize,"px solid ").concat(e.color)}),(function(e){return"".concat(e.top,"px")})),u$=function(e){var t=e.children,r=e.y;return Sw.createElement(s$,{y:r,background:"#00ce78"},Sw.createElement(c$,{arrowSize:10,top:-10,color:"#00ce78"}),t)},l$=c_.div(e$||(e$=XK(["\n  text-align: center;\n  position: absolute;\n  font-size: 18px;\n  border-radius: 3px;\n  padding: 5px 10px;\n  background: #ea3223;\n  color: #fff;\n  margin: auto;\n  top: ",";\n  z-index: ",";\n"])),(function(e){return e.y}),1020),f$={QR_INSTRUCTIONS_TEXT:{en:Sw.createElement("span",null,"Please follow the instructions below to scan QR code:",Sw.createElement("br",null),Sw.createElement("br",null)," Move camera to the position of QR code on ID card. Align QR code to fit into camera frame to scan it"),vi:Sw.createElement("span",null,"Vui lòng quét mã QR theo hướng dẫn sau:",Sw.createElement("br",null),Sw.createElement("br",null)," Đưa camera vào vị trí mã QR trên CCCD. Canh vừa mã QR vào 4 góc khung hình để quét mã")},QR_INSTRUCTIONS_START_BUTTON:{en:"Scan QR code",vi:"Tiến hành quét mã QR"},QR_INSTRUCTIONS_COUNTDOWN:{en:"Start in <%= x %> s",vi:"Bắt đầu trong <%= x %> giây"},QR_INVALID_POPUP_TITLE:{en:"Invalid QR code",vi:"QR không hợp lệ"},QR_INVALID_POPUP_DESCRIPTION:{en:"Please check and make sure scanning QR code on ID card",vi:"Vui lòng kiểm tra và đảm bảo việc thực hiện quét QR trên CCCD thật"},QR_INVALID_POPUP_RETRY_BUTTON:{en:"Scan QR (on ID card)",vi:"Quét lại QR (trên CCCD)"},QR_INVALID_POPUP_SKIP_BUTTON:{en:"Skip",vi:"Bỏ qua"},QR_TOOLTIP:{en:"Fit QR code to 4 corners of camera frame and try to move camera [in or out] to scan QR code",vi:"Canh vừa mã QR vào 4 góc khung hình và thử dịch chuyển camera [xa - gần] để quét được mã QR"},REMAINING_TIME:{en:"Remaining time: <%= x %> seconds",vi:"Thời gian còn lại: <%= x %> giây"},SESSION_TIMEOUT_POPUP_DESCRIPTION:{en:Sw.createElement("span",null,"Quá thời gian quét. Vui lòng thực hiện lại.",Sw.createElement("br",null),Sw.createElement("br",null)," Đưa camera vào vị trí mã QR trên thẻ. Canh vừa vào 4 góc và"," ",Sw.createElement("strong",{className:"text-primary"},"thử dịch chuyển camera [xa - gần]")," để camera điện thoại lấy nét chuẩn hơn."),vi:Sw.createElement("span",null,"Quá thời gian quét. Vui lòng thực hiện lại.",Sw.createElement("br",null),Sw.createElement("br",null)," Đưa camera vào vị trí mã QR trên thẻ. Canh vừa vào 4 góc và"," ",Sw.createElement("strong",{className:"text-primary"},"thử dịch chuyển camera [xa - gần]")," để camera điện thoại lấy nét chuẩn hơn.")},SESSION_TIMEOUT_POPUP_RETRY_BUTTON:{en:"Retry",vi:"Thực hiện lại"},SESSION_TIMEOUT_POPUP_SKIP_BUTTON:{en:"Skip",vi:"Bỏ qua"}},d$=function(e){var t=e.children,r=e.mt,n=e.mb,i=e.ml,o=e.mr,a=e.mx,s=e.my,c=e.pt,u=e.pb,l=e.pl,f=e.pr,d=e.px,p=e.py,h=t.props.style||{},g={};return null!==a&&(g.marginLeft=a,g.marginRight=a),null!==s&&(g.marginTop=s,g.marginBottom=s),null!==r&&(g.marginTop=r),null!==n&&(g.marginBottom=n),null!==i&&(g.marginLeft=i),null!==o&&(g.marginRight=o),null!==d&&(g.paddingLeft=d,g.paddingRight=d),null!==p&&(g.paddingTop=p,g.paddingBottom=p),null!==c&&(g.paddingTop=c),null!==u&&(g.paddingBottom=u),null!==l&&(g.paddingLeft=l),null!==f&&(g.paddingRight=f),Sw.cloneElement(t,{style:GK(GK({},h),g)})};d$.propTypes={mt:SC.string,ml:SC.string,mr:SC.string,mb:SC.string,mx:SC.string,my:SC.string,pt:SC.string,pl:SC.string,pr:SC.string,pb:SC.string,px:SC.string,py:SC.string},d$.defaultProps={mt:null,ml:null,mr:null,mb:null,mx:null,my:null,pt:null,pl:null,pr:null,pb:null,px:null,py:null};var p$,h$,g$,m$,v$,y$,b$=c_.button(o$||(o$=XK(["\n  width: 100%;\n  max-width: 294px;\n  height: 66px;\n  background-color: ",";\n  border: 0;\n  outline: none;\n  border-radius: 3px;\n  color: #fff;\n  font-weight: normal;\n  cursor: pointer;\n  font-size: 1rem;\n"])),(function(e){return e.theme.tsBlue})),w$=c_.a(a$||(a$=XK(["\n  color: ",";\n  cursor: pointer;\n"])),(function(e){return e.theme.tsBlue})),C$=c_.div(p$||(p$=XK(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 10px;\n"]))),E$=c_.div(h$||(h$=XK(["\n  color: ",";\n  font-weight: bold;\n  font-size: 16px;\n"])),(function(e){return e.theme.tsSecondary})),k$=c_.div(g$||(g$=XK(["\n  color: ",";\n  font-weight: normal;\n  font-size: 16px;\n  text-align: center;\n"])),(function(e){return e.theme.tsSecondary})),S$=function(e){var t=e.onRetry,r=e.onSkip,n=fF.useSDKSettings().lang;return Sw.createElement(C$,null,Sw.createElement(d$,{mt:"25px"},Sw.createElement(E$,null,f$.QR_INVALID_POPUP_TITLE[n])),Sw.createElement(d$,{mt:"30px"},Sw.createElement(k$,null,f$.QR_INVALID_POPUP_DESCRIPTION[n])),Sw.createElement(d$,{mt:"30px"},Sw.createElement(b$,{onClick:t},f$.QR_INVALID_POPUP_RETRY_BUTTON[n])),Sw.createElement(d$,{my:"20px"},Sw.createElement(w$,{onClick:r},f$.QR_INVALID_POPUP_SKIP_BUTTON[n])))};S$.propTypes={onRetry:SC.func,onSkip:SC.func},S$.defaultProps={onRetry:function(){},onSkip:function(){}};var _$=c_.div(m$||(m$=XK(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 10px;\n"]))),A$=c_.div(v$||(v$=XK(["\n  background: #e7e6e6;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n"]))),T$=c_.div(y$||(y$=XK(["\n  color: ",";\n  font-weight: normal;\n  font-size: 16px;\n  text-align: center;\n  line-height: 20px;\n"])),(function(e){return e.theme.tsSecondary})),x$=function(e){var t=e.onRetry,r=e.onSkip,n=fF.useSDKSettings().lang,i=QF.useAsset("qr_code_banner.svg");return Sw.createElement(_$,null,Sw.createElement(A$,null,Sw.createElement("img",{src:i,alt:""})),Sw.createElement(d$,{mt:"30px"},Sw.createElement(T$,null,f$.SESSION_TIMEOUT_POPUP_DESCRIPTION[n])),Sw.createElement(d$,{mt:"30px"},Sw.createElement(b$,{onClick:t},f$.SESSION_TIMEOUT_POPUP_RETRY_BUTTON[n])),Sw.createElement(d$,{my:"20px"},Sw.createElement(w$,{onClick:r},f$.SESSION_TIMEOUT_POPUP_SKIP_BUTTON[n])))};x$.propTypes={onRetry:SC.func,onSkip:SC.func},x$.defaultProps={onRetry:function(){},onSkip:function(){}};var I$,B$,R$,P$,N$,O$,D$=["children","ratio","padding"],L$=c_.div(I$||(I$=XK(["\n  width: 100%;\n  padding-bottom: ","%;\n  position: relative;\n"])),(function(e){return 1/e.ratio*100})),M$=c_.div(B$||(B$=XK(["\n  position: absolute;\n  top: ",";\n  left: ",";\n  right: ",";\n  bottom: ",";\n"])),(function(e){return e.padding}),(function(e){return e.padding}),(function(e){return e.padding}),(function(e){return e.padding})),U$=function(e){var t=e.children,r=e.ratio,n=e.padding,i=YK(e,D$);return Sw.createElement(L$,QK({ratio:r},i),Sw.createElement(M$,{padding:n},t))};U$.propTypes={children:SC.node,ratio:SC.number,padding:SC.string},U$.defaultProps={children:null,ratio:4/3,padding:"0"};var j$=c_.div(R$||(R$=XK(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 10px;\n"]))),F$=c_.div(P$||(P$=XK(["\n  background: #e7e6e6;\n  width: 100%;\n"]))),V$=c_.img(N$||(N$=XK(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  border-radius: 5px;\n"]))),z$=c_.div(O$||(O$=XK(["\n  color: ",";\n  font-weight: normal;\n  font-size: 16px;\n  text-align: center;\n  line-height: 20px;\n"])),(function(e){return e.theme.tsSecondary})),K$=function(e){var t=e.onClickStart,r=e.onTimeout,n=e.timeout,i=fF.useSDKSettings().lang,o=QF.useAsset("qr_code_banner.png"),a=Sw.useRef(n),s=$K(Sw.useState((function(){return OQ(f$.QR_INSTRUCTIONS_COUNTDOWN[i])({x:n})})),2),c=s[0],u=s[1];return Sw.useEffect((function(){var e=OQ(f$.QR_INSTRUCTIONS_COUNTDOWN[i]),t=setInterval((function(){a.current--,u(e({x:a.current})),a.current<=0&&(clearInterval(t),r&&r())}),1e3);return function(){clearInterval(t)}}),[i,r]),Sw.createElement(j$,null,Sw.createElement(F$,null,Sw.createElement(U$,{ratio:1.6},Sw.createElement(V$,{src:o}))),Sw.createElement(d$,{mt:"30px"},Sw.createElement(z$,null,f$.QR_INSTRUCTIONS_TEXT[i])),Sw.createElement(d$,{mt:"30px"},Sw.createElement(b$,{onClick:t},f$.QR_INSTRUCTIONS_START_BUTTON[i])),Sw.createElement(d$,{my:"20px"},Sw.createElement(z$,null,c)))};K$.propTypes={onClickStart:SC.func,onTimeout:SC.func,timeout:SC.number},K$.defaultProps={onClickStart:null,onTimeout:null,timeout:10};var q$=/^\d{12}\|(\d{9})?\|.+\|\d{8}\|((Nam)|(Nữ))\|.+\|\d{8}$/g;function H$(e){var t=e.canvas,r=e.qrModel,n=window.cv,i=n.imread(t,n.IMREAD_GRAYSCALE),o=new n.MatVector;return r.detectAndDecode(i,o).get(0)}var Q$,W$,G$,Y$,X$,$$,Z$=function(e){var t=e.shouldStart,r=e.refVideo,n=e.cropArea,i=e.settings,o=e.onSessionTimeout,a=e.onCaptureDone,s=e.onAboutToTimeout,c=e.outputEncryptionSettings,u=$K(Sw.useState(!1),2),l=u[0],f=u[1],d=Sw.useRef((function(){})),p=Sw.useRef((function(){})),h=fF.useSDKSettings().lang,g=function(e){var t=e.refVideo,r=e.shouldStart,n=e.cropArea,i=e.settings,o=e.onResult,a=e.outputEncryptionSettings,s=Sw.useRef(null);null===s.current&&(s.current=document.createElement("canvas"));var c=Sw.useRef(!1),u=Sw.useRef(null),l=$K(Sw.useState(!1),2),f=l[0],d=l[1],p=Sw.useRef({}),h=fF.useSDKSettings().customUrls;Sw.useEffect((function(){function e(){return(e=KK(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=5;break}return e.next=3,jX(h);case 3:p.current=e.sent,d(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[f,h]);var g=Sw.useCallback((function(){!0===c.current&&(c.current=!1)}),[]),m=Sw.useCallback(KK(regeneratorRuntime.mark((function e(){var r,n,l,d,h,m,v,y,b,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f&&i&&!c.current){e.next=2;break}return e.abrupt("return");case 2:r=p.current.qrModel,n=u.current,l=t.current,c.current=!0,d=n.cropX,h=n.cropY,m=n.cropWidth,v=n.cropHeight,(y=s.current).width=m,y.height=v,b=y.getContext("2d"),w=regeneratorRuntime.mark((function e(){var t,n,i,u,f,p,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.drawImage(l,d,h,m,v,0,0,m,v),t=performance.now(),e.next=4,H$({canvas:y,qrModel:r});case 4:if(n=e.sent,t=Math.floor(performance.now()-t),!n){e.next=18;break}return g(),void 0,C=n.match(q$),i={valid:Boolean(C)},e.next=11,wV.takePicture({canvas:s.current});case 11:if(u=e.sent,!a||!a.key){e.next=17;break}return p=a.key,e.next=16,DK.encrypt({blob:u,key:p});case 16:f=e.sent;case 17:o({result:n,validateResult:i,image:{blob:u,encrypted:f}});case 18:if(c.current){e.next=20;break}return e.abrupt("return","break");case 20:return w=180-t>0?180-t:0,e.next=23,new Promise((function(e){return setTimeout(e,w)}));case 23:case"end":return e.stop()}var C}),e)}));case 12:return e.delegateYield(w(),"t0",14);case 14:if("break"!==e.t0){e.next=17;break}return e.abrupt("break",19);case 17:e.next=12;break;case 19:case"end":return e.stop()}}),e)}))),[t,i,f,o,g,a]),v=Sw.useCallback((function(){g()}),[g]);return Sw.useEffect((function(){var e=t.current;r||v(),f&&r&&n&&e&&e.videoWidth>0&&(u.current=wV.analyzeVideoAndWindowSizes(e,n,0),m())}),[r,n,t,g,m,f,v]),Sw.useEffect((function(){return v}),[v]),{refWorkingCanvas:s,stopCheckFrame:g,checkFrame:m,warmupDone:f}}({refVideo:r,shouldStart:t,cropArea:n,settings:i,onResult:Sw.useCallback((function(){d.current.apply(d,arguments)}),[]),outputEncryptionSettings:c}),m=g.stopCheckFrame,v=g.checkFrame,y=g.warmupDone,b=$X({refVideo:r,shouldStart:t&&y,cropArea:n,settings:i}),w=b.stopCheckFrame,C=b.refRecordedVideos,E=b.splitVideos,k=b.resetRecordedVideos,S=b.checkFrame;d.current=Sw.useCallback((function(e){f(!0),w(),m(),p.current(),a(GK(GK({},e),{},{recordedVideos:C.current})),f(!1)}),[w,a,C,m]);var _=Sw.useCallback((function(){w(),m(),k(),o()}),[k,w,m,o]),A=Sw.useCallback((function(){E()}),[E]),T=t$({lang:h,onAboutToTimeout:s,onSessionTimeout:_,onVideoTimeLimitReached:A,settings:i,shouldStartTimers:t&&y,sessionTime:null==i?void 0:i.scanQrLimitTimeSecond}),x=T.stopTimers,I=T.startTimers;return p.current=x,{isProcessing:l,restartSession:Sw.useCallback(KK(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(),e.next=3,Promise.all([S(),v()]);case 3:case"end":return e.stop()}}),e)}))),[S,v,I]),refRecordedVideos:C,warmupDone:y}};function J$(e){var t=e.windowAndVideoInfo,r=e.onUISpacingChange,n=e.refVideo,i=e.settings,o=e.onCaptureDone,a=e.outputEncryptionSettings,s=$K(Sw.useState(null),2),c=s[0],u=s[1],l=QF.useAsset("qr_capture_cursor.png"),f=$K(Sw.useState({}),2),d=f[0],p=f[1],h=d.yTooltip,g=d.yMessage,m=fF.useSDKSettings().lang,v=vY(),y=v.showPopup,b=v.popupShown,w=v.popupType,C=$K(Sw.useState(!1),2),E=(C[0],C[1]),k=$K(Sw.useState(null),2),S=k[0],_=k[1],A=QF.useAsset("ic_loading.png");Sw.useEffect((function(){if(t){var e=t.videoAreaWidth,n=t.lostX,i=t.lostY,o=_q.isMobile?Math.min(e-6,145):145,a=o,s=i+10,c=s+90,l=c+40,f=l+a+20,d=Math.floor((e-o)/2)+n;u({x:d,y:l,width:o,height:a,surroundStyle:{opacity:.6,background:"#000"}});var h={yTitle:s,yTooltip:f,yMessage:c};p(h),r(h)}}),[t,r]);var T=Sw.useCallback((function(){_(""),o()}),[o]),x=Sw.useCallback((function(e){var t=e.validateResult.valid;_(""),t?o(e):y({popupType:wY})}),[y,o]),I=Sw.useCallback((function(e){var t=e.curTimeLeft;_(OQ(f$.REMAINING_TIME[m])({x:t}))}),[m]),B=Z$({shouldStart:!0,refVideo:n,cropArea:c,settings:i,onSessionTimeout:T,onCaptureDone:x,onAboutToTimeout:I,outputEncryptionSettings:a}),R=B.isProcessing,P=B.restartSession,N=B.warmupDone,O=Sw.useCallback((function(){y({popupType:null})}),[y]),D=Sw.useCallback(KK(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(),e.next=3,P();case 3:case"end":return e.stop()}}),e)}))),[P,O]),L=Sw.useCallback((function(){O(),o()}),[O,o]),M=Sw.useCallback((function(){O(),setTimeout((function(){E(!0)}),200)}),[O]);return Sw.createElement(Sw.Fragment,null,!N&&Sw.createElement(sY,{contentStyle:{maxWidth:"300px"}}),c&&Sw.createElement(eG,{x:"".concat(c.x,"px"),y:"".concat(c.y,"px"),width:"".concat(c.width,"px"),height:"".concat(c.height,"px"),surroundStyle:c.surroundStyle},Sw.createElement("div",null,Sw.createElement("img",{src:l,width:c.width,height:c.height,alt:""}))),Sw.createElement(u$,{y:"".concat(h,"px")},f$.QR_TOOLTIP[m]),S&&Sw.createElement(l$,{key:S,className:"message",y:"".concat(g,"px")},S),R&&Sw.createElement(YG,null,Sw.createElement("img",{src:A,alt:"",className:"spin"})),Sw.createElement(dG,{contentStyle:{maxWidth:"332px"},open:b},w===wY&&Sw.createElement(S$,{onRetry:D,onSkip:L}),w===yY&&Sw.createElement(x$,{onRetry:D,onSkip:L}),w===CY&&Sw.createElement(K$,{onClickStart:M,onTimeout:M})))}J$.propTypes={windowAndVideoInfo:SC.shape({}),onUISpacingChange:SC.func,refVideo:SC.shape({}),settings:SC.shape({}),onCaptureDone:SC.func,outputEncryptionSettings:SC.shape({})},J$.defaultProps={windowAndVideoInfo:{},onUISpacingChange:function(){},refVideo:{},settings:{},onCaptureDone:function(){},outputEncryptionSettings:null};var eZ,tZ,rZ,nZ,iZ,oZ="SUCCESS",aZ="WARNING",sZ=(HK(Q$={},oZ,"52,206,95"),HK(Q$,aZ,"255,148,50"),Q$),cZ=(HK(W$={},oZ,"✓"),HK(W$,aZ,"!"),W$),uZ=c_.div(G$||(G$=XK(["\n  font-weight: normal;\n"]))),lZ=c_.div(Y$||(Y$=XK(["\n  height: 2px;\n  width: 100%;\n  background: ",";\n"])),(function(e){return WS(["linear-gradient(to right,rgba(",",0),rgba(",",1),rgba(",",0));"],sZ[e.type],sZ[e.type],sZ[e.type])})),fZ=c_.div(X$||(X$=XK(["\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  background: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n  margin-right: 8px;\n  font-weight: bold;\n"])),(function(e){return WS(["rgb(",")"],sZ[e.type])})),dZ=c_.div($$||($$=XK(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 10px 0;\n"]))),pZ=function(e){var t=e.children,r=e.type,n=e.className;return Sw.createElement(uZ,{className:n},Sw.createElement(lZ,{type:r}),Sw.createElement(dZ,null,Sw.createElement(fZ,{type:r},cZ[r]),t),Sw.createElement(lZ,{type:r}))};pZ.propTypes={children:SC.node,type:SC.string,className:SC.string},pZ.defaultProps={children:null,type:oZ,className:""};var hZ=c_.div(eZ||(eZ=XK(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 10px;\n"]))),gZ=c_.div(tZ||(tZ=XK(["\n  text-align: center;\n  font-size: 1rem;\n  color: #ea3223;\n  margin-top: 10px;\n"]))),mZ=c_.button(rZ||(rZ=XK(["\n  margin-top: 20px;\n  width: 100%;\n  max-width: 160px;\n  height: 50px;\n  background-color: ",";\n  border: 0;\n  outline: none;\n  border-radius: 0.25rem;\n  color: #fff;\n  font-weight: 400;\n  cursor: pointer;\n  font-size: 1rem;\n"])),(function(e){return e.theme.tsBlue})),vZ=c_.img(nZ||(nZ=XK(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  border-radius: 5px;\n"]))),yZ=c_.div(iZ||(iZ=XK(["\n  margin: 20px 0;\n  width: 100%;\n  display: flex;\n  justify-content: space-evenly;\n  gap: 10px;\n"]))),bZ=function(e){var t=e.imageTaken,r=e.onConfirm,n=e.onTryAgain,i=e.error,o=e.hasValidQR,a=$K(Sw.useState(null),2),s=a[0],c=a[1],u=fF.useSDKSettings().lang;return Sw.useEffect((function(){var e;return t&&t.blob&&(e=URL.createObjectURL(t.blob),c(e)),function(){URL.revokeObjectURL(e)}}),[t]),Sw.createElement(hZ,null,null!==o&&Sw.createElement(d$,{mb:"20px"},Sw.createElement("div",null,Sw.createElement(pZ,{type:o?oZ:aZ},o?fY.CONFIRM_POPUP_VALID_QR[u]:fY.CONFIRM_POPUP_INVALID_QR[u]))),Sw.createElement(U$,{ratio:1.5},Sw.createElement(vZ,{src:s})),i&&Sw.createElement(gZ,{className:"confirm-popup-error-message"},i.msg[u]),Sw.createElement(yZ,null,Sw.createElement(mZ,{onClick:n},fY.BTN_TRY_AGAIN[u]),Sw.createElement(mZ,{onClick:r},fY.BTN_USE_THIS_PICTURE[u])))};bZ.propTypes={imageTaken:SC.shape({}),error:SC.shape({msg:SC.shape({})}),onConfirm:SC.func,onTryAgain:SC.func,hasValidQR:SC.bool},bZ.defaultProps={imageTaken:null,error:null,onConfirm:function(){},onTryAgain:function(){},hasValidQR:null};var wZ={tsBlue:"#0276f1",tsSecondary:"rgba(0, 47, 117, 0.6)"},CZ=function(){this.__data__=new KY,this.size=0},EZ=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},kZ=function(e){return this.__data__.get(e)},SZ=function(e){return this.__data__.has(e)},_Z=function(e,t){var r=this.__data__;if(r instanceof KY){var n=r.__data__;if(!qY||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new JY(n)}return r.set(e,t),this.size=r.size,this};function AZ(e){var t=this.__data__=new KY(e);this.size=t.size}AZ.prototype.clear=CZ,AZ.prototype.delete=EZ,AZ.prototype.get=kZ,AZ.prototype.has=SZ,AZ.prototype.set=_Z;var TZ,xZ=AZ,IZ=function(e,t,r){(void 0!==r&&!nH(e[t],r)||void 0===r&&!(t in e))&&rH(e,t,r)},BZ=function(e,t,r){for(var n=-1,i=Object(e),o=r(e),a=o.length;a--;){var s=o[++n];if(!1===t(i[s],s,i))break}return e},RZ=kq((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r?xq.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=o?o(r):new e.constructor(r);return e.copy(n),n}})),PZ=xq.Uint8Array,NZ=function(e){var t=new e.constructor(e.byteLength);return new PZ(t).set(new PZ(e)),t},OZ=function(e,t){var r=t?NZ(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},DZ=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},LZ=Object.create,MZ=function(){function e(){}return function(t){if(!jq(t))return{};if(LZ)return LZ(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),UZ=function(e){return"function"!=typeof e.constructor||KH(e)?{}:MZ(XH(e))},jZ=function(e){return kH(e)&&vH(e)},FZ=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]},VZ=function(e){return aH(e,WH(e))},zZ=function(e,t,r,n,i,o,a){var s=FZ(e,r),c=FZ(t,r),u=a.get(c);if(u)IZ(e,r,u);else{var l=o?o(s,c,r+"",e,t,a):void 0,f=void 0===l;if(f){var d=IH(c),p=!d&&RH(c),h=!d&&!p&&jH(c);l=c,d||p||h?IH(s)?l=s:jZ(s)?l=DZ(s):p?(f=!1,l=RZ(c,!0)):h?(f=!1,l=OZ(c,!0)):l=[]:rQ(c)||xH(c)?(l=s,xH(s)?l=VZ(s):jq(s)&&!Fq(s)||(l=UZ(c))):f=!1}f&&(a.set(c,l),i(l,c,n,o,a),a.delete(c)),IZ(e,r,l)}},KZ=function e(t,r,n,i,o){t!==r&&BZ(r,(function(a,s){if(o||(o=new xZ),jq(a))zZ(t,r,s,n,e,i,o);else{var c=i?i(FZ(t,s),a,s+"",t,r,o):void 0;void 0===c&&(c=a),IZ(t,s,c)}}),WH)},qZ=CH((function(e,t,r){KZ(e,t,r)})),HZ={data:{settings:{sdk_settings:{id_detection_settings:{auto_capture:{enable:!1,show_capture_button:!0,wait_for_best_image_time_ms_web:1e3},blur_check:{enable:!0,threshold_web:.82},disable_capture_button_if_alert:!1,id_detection:{enable:!0},limit_time_settings:{enable:!0,limit_time_second:30,video_partial_length_seconds:15},save_frame_settings:{enable:!1,frames_interval_ms:190,quality_web:80},scan_qr_settings:{enable:!0,limit_time_second:20}}}}}},QZ=l_(TZ||(TZ=XK(["\n  .text-primary {\n    color: ",";\n  }\n"])),(function(e){return e.theme.tsBlue})),WZ=oL.IDCardSide,GZ=oL.IDCardType,YZ=oL.Errors,XZ={ID_CARD:"id_card",QR_CODE:"qr_code"},$Z=[{scannerType:XZ.ID_CARD,title:"Mặt trước CMND/CCCD",description:"Vui lòng đặt CMND mặt trước vào trong khung",titleIcon:"id_card_front.svg",cardSide:oL.IDCardSide.FRONT,cardType:GZ.VN,frontCamera:!1,enableConfirmPopup:!0},{scannerType:XZ.ID_CARD,title:"Mặt sau CMND/CCCD",description:"Vui lòng đặt CMND mặt sau vào trong khung",titleIcon:"id_card_back.svg",cardSide:oL.IDCardSide.BACK,cardType:GZ.VN,frontCamera:!1,enableConfirmPopup:!0}],ZZ={scannerType:XZ.QR_CODE,title:"Quét mã QR trên CCCD",frontCamera:!1};function JZ(e){var t=e.onClose,r=e.onError,n=e.clientSettings,i=e.detectIdCard,o=e.onStepDone,a=e.steps,s=e.outputEncryptionSettings,c=e.defaultCameraId,u=$K(Sw.useState(0),2),l=u[0],f=u[1],d=$K(Sw.useState(a[l]),2),p=d[0],h=d[1],g=Sw.useRef(null),m=$K(Sw.useState(null),2),v=m[0],y=m[1],b=$K(Sw.useState(!1),2),w=b[0],C=b[1],E=$K(Sw.useState(0),2),k=E[0],S=E[1],_=Sw.useRef(),A=p.scannerType,T=p.frontCamera,x=p.title,I=p.titleIcon,B=p.cardSide,R=p.description,P=p.usePortraitMask,N=p.cardType,O=p.enableConfirmPopup,D=B===WZ.FRONT,L=QF.useAsset(I),M=vY(),U=M.showPopup,j=M.popupShown,F=M.popupType,V=M.props,z=$K(Sw.useState(!1),2),K=z[0],q=z[1],H=QF.useAsset("ic_loading.png"),Q=Sw.useRef({}),W=Sw.useRef(null),G=Sw.useRef([]),Y=function(e){var t=e.clientSettings,r=$K(Sw.useState(null),2),n=r[0],i=r[1];return Sw.useEffect((function(){var e=qZ(HZ,t),r=cX(e,"data.settings.sdk_settings.id_detection_settings.save_frame_settings.enable"),n=cX(e,"data.settings.sdk_settings.id_detection_settings.save_frame_settings.frames_interval_ms"),o=cX(e,"data.settings.sdk_settings.id_detection_settings.save_frame_settings.quality_web"),a=cX(e,"data.settings.sdk_settings.id_detection_settings.limit_time_settings.enable"),s=cX(e,"data.settings.sdk_settings.id_detection_settings.limit_time_settings.limit_time_second"),c=cX(e,"data.settings.sdk_settings.id_detection_settings.limit_time_settings.video_partial_length_seconds"),u=cX(e,"data.settings.sdk_settings.id_detection_settings.auto_capture.enable"),l=cX(e,"data.settings.sdk_settings.id_detection_settings.auto_capture.wait_for_best_image_time_ms_web"),f=cX(e,"data.settings.sdk_settings.id_detection_settings.blur_check.enable"),d=cX(e,"data.settings.sdk_settings.id_detection_settings.blur_check.threshold_web"),p=cX(e,"data.settings.sdk_settings.id_detection_settings.disable_capture_button_if_alert"),h=cX(e,"data.settings.sdk_settings.id_detection_settings.id_detection.enable"),g=cX(e,"data.settings.sdk_settings.id_detection_settings.scan_qr_settings.enable"),m=cX(e,"data.settings.sdk_settings.id_detection_settings.scan_qr_settings.limit_time_second");i({enableRecording:r,frameCaptureIntervalMs:n,idCardSessionTime:s,maxRecordingTimePerVideo:c,saveFrameQuality:o,enableTimers:a,enableAutoCapture:u,waitForBestImageTimeMs:l,enableBlurCheck:f,blurThreshold:d,disableCaptureButtonIfAlert:p,enableIdDetection:h,enableScanQr:g,scanQrLimitTimeSecond:m})}),[t]),{settings:n}}({clientSettings:n}).settings,X=$K(Sw.useState({}),2),$=X[0],Z=X[1],J=$.yTitle,ee=Sw.useCallback((function(e){y(e),C(!0)}),[]);Sw.useEffect((function(){C(!1)}),[T]);var te=Sw.useCallback((function(){U({popupType:null})}),[U]),re=Sw.useCallback((function(e){e>=a.length||setTimeout((function(){f(e),h(a[e])}),200)}),[a]),ne=Sw.useCallback((function(){re(l+1)}),[re,l]),ie=Sw.useCallback((function(){setTimeout((function(){h((function(e){return GK(GK({},ZZ),{},{enableConfirmPopup:e.enableConfirmPopup})}))}),200)}),[]),oe=Sw.useCallback(KK(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={stepNumber:l,image:Q.current,recordedVideos:null!=Y&&Y.enableRecording?G.current:[]},A===XZ.QR_CODE&&(t.qrScannedResult=W.current),q(!0),e.next=5,o(t);case 5:q(!1),ne();case 7:case"end":return e.stop()}}),e)}))),[Y,l,o,ne,A]),ae=Sw.useCallback((function(){te(),A===XZ.QR_CODE?re(l):A===XZ.ID_CARD&&_.current.restartSession()}),[re,l,te,A]),se=Sw.useCallback((function(){te(),oe()}),[oe,te]),ce=Sw.useCallback(function(){var e=KK(regeneratorRuntime.mark((function e(t){var n,o,a,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.image,o=t.error,a=t.recordedVideos,Q.current=n,G.current=a,S((function(e){return e+1})),B!==oL.IDCardSide.FRONT){e.next=23;break}if(!Y.enableScanQr||!_q.isMobile){e.next=23;break}if(c=null==n||null===(s=n.detectedCard)||void 0===s?void 0:s.label){e.next=20;break}return q(!0),e.prev=9,e.next=12,i({image:n,cardType:N,cardSide:B});case 12:u=e.sent,c=u.card_label,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),r(YZ.detect_id_card_error);case 19:q(!1);case 20:if(!c||!"vn.cccd_new.front".includes(c)){e.next=23;break}return ie(),e.abrupt("return");case 23:O?U({popupType:bY,props:{imageTaken:Q.current,error:o}}):oe();case 24:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}(),[O,U,B,Y,N,i,oe,ie,r]),ue=Sw.useCallback((function(e){var t;if(W.current=e,e){var r,n=e.recordedVideos;(r=G.current).push.apply(r,ZK(n))}S((function(e){return e+1}));var i=Boolean(null==e||null===(t=e.validateResult)||void 0===t?void 0:t.valid);O?U({popupType:bY,props:{hasValidQR:i,imageTaken:Q.current}}):oe()}),[U,O,oe]);return Sw.createElement(o_,{theme:wZ},Sw.createElement(QG,null,Sw.createElement(JW,{key:T,frontCamera:T,onVideoPlayed:ee,onClose:t,flipHorizontal:T,ref:g,onError:r,defaultCameraId:c},w&&Sw.createElement(Sw.Fragment,null,A===XZ.ID_CARD&&Sw.createElement(i$,{key:l,ref:_,windowAndVideoInfo:v,refVideo:g,settings:Y,onCaptureDone:ce,onUISpacingChange:Z,frontSide:D,description:R,usePortraitMask:P,outputEncryptionSettings:s}),A===XZ.QR_CODE&&Sw.createElement(J$,{key:l,refVideo:g,windowAndVideoInfo:v,settings:Y,onCaptureDone:ue,onUISpacingChange:Z,outputEncryptionSettings:s})),Sw.createElement(HG,{keyForTransition:k}),Sw.createElement($G,{y:"".concat(J,"px")},Sw.createElement(Cq,null,Sw.createElement(gq,{key:x,timeout:{enter:500,exit:500},classNames:"flipY",unmountOnExit:!0},Sw.createElement(ZG,null,I&&Sw.createElement(WG,{src:L,alt:""}),Sw.createElement(JG,{className:"title"},x))))),K&&Sw.createElement(YG,null,Sw.createElement("img",{src:H,alt:"",className:"spin"}))),Sw.createElement(dG,{open:j},F===bY&&Sw.createElement(bZ,QK({},V,{onConfirm:se,onTryAgain:ae})))),Sw.createElement(QZ,null))}JZ.propTypes={onClose:SC.func,onError:SC.func,clientSettings:SC.shape({}),detectIdCard:SC.func,onStepDone:SC.func,steps:SC.arrayOf(SC.shape({})),outputEncryptionSettings:SC.shape({}),defaultCameraId:SC.string},JZ.defaultProps={onClose:function(){},onError:function(){},clientSettings:{},detectIdCard:function(){return Promise.resolve({card_label:""})},onStepDone:function(){},steps:$Z,outputEncryptionSettings:null,defaultCameraId:void 0};var eJ=r((function(e){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){var n={MOBILE:"mobile",TABLET:"tablet",SMART_TV:"smarttv",CONSOLE:"console",WEARABLE:"wearable",BROWSER:void 0};e.exports={BROWSER_TYPES:{CHROME:"Chrome",FIREFOX:"Firefox",OPERA:"Opera",YANDEX:"Yandex",SAFARI:"Safari",INTERNET_EXPLORER:"Internet Explorer",EDGE:"Edge",CHROMIUM:"Chromium",IE:"IE",MOBILE_SAFARI:"Mobile Safari",EDGE_CHROMIUM:"Edge Chromium"},DEVICE_TYPES:n,OS_TYPES:{IOS:"iOS",ANDROID:"Android",WINDOWS_PHONE:"Windows Phone",WINDOWS:"Windows",MAC_OS:"Mac OS"},defaultData:{isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1}}},function(e,t,r){var n,i=r(2),o=r(0),a=o.BROWSER_TYPES,s=o.OS_TYPES,c=o.DEVICE_TYPES,u=r(4),l=u.checkType,f=u.broPayload,d=u.mobilePayload,p=u.wearPayload,h=u.consolePayload,g=u.stvPayload,m=u.getNavigatorInstance,v=u.isIOS13Check,y=new i,b=y.getBrowser(),w=y.getDevice(),C=y.getEngine(),E=y.getOS(),k=y.getUA(),S=a.CHROME,_=a.CHROMIUM,A=a.IE,T=a.INTERNET_EXPLORER,x=a.OPERA,I=a.FIREFOX,B=a.SAFARI,R=a.EDGE,P=a.YANDEX,N=a.MOBILE_SAFARI,O=c.MOBILE,D=c.TABLET,L=c.SMART_TV,M=c.BROWSER,U=c.WEARABLE,j=c.CONSOLE,F=s.ANDROID,V=s.WINDOWS_PHONE,z=s.IOS,K=s.WINDOWS,q=s.MAC_OS,H=function(){return E.name===s.WINDOWS&&"10"===E.version&&("string"==typeof k&&-1!==k.indexOf("Edg/"))},Q=function(){return b.name===R},W=function(){return v("iPad")},G=w.type===L,Y=w.type===j,X=w.type===U,$=b.name===N||W(),Z=b.name===_,J=function(){switch(w.type){case O:case D:return!0;default:return!1}}()||W(),ee=w.type===O,te=w.type===D||W(),re=w.type===M,ne=E.name===F,ie=E.name===V,oe=E.name===z||W(),ae=b.name===S,se=b.name===I,ce=b.name===B||b.name===N,ue=b.name===x,le=b.name===T||b.name===A,fe=E.version?E.version:"none",de=E.name?E.name:"none",pe=b.major,he=b.version,ge=b.name,me=w.vendor?w.vendor:"none",ve=w.model?w.model:"none",ye=C.name,be=C.version,we=k,Ce=Q()||H(),Ee=b.name===P,ke=w.type,Se=(n=m())&&(/iPad|iPhone|iPod/.test(n.platform)||"MacIntel"===n.platform&&n.maxTouchPoints>1)&&!window.MSStream,_e=W(),Ae=v("iPhone"),Te=v("iPod"),xe=function(){var e=m(),t=e&&e.userAgent.toLowerCase();return"string"==typeof t&&/electron/.test(t)}(),Ie=H(),Be=Q(),Re=E.name===K,Pe=E.name===q,Ne=l(w.type);e.exports={deviceDetect:function(){var e=Ne.isBrowser,t=Ne.isMobile,r=Ne.isTablet,n=Ne.isSmartTV,i=Ne.isConsole,o=Ne.isWearable;return e?f(e,b,C,E,k):n?g(n,C,E,k):i?h(i,C,E,k):t||r?d(Ne,w,E,k):o?p(o,C,E,k):void 0},isSmartTV:G,isConsole:Y,isWearable:X,isMobileSafari:$,isChromium:Z,isMobile:J,isMobileOnly:ee,isTablet:te,isBrowser:re,isAndroid:ne,isWinPhone:ie,isIOS:oe,isChrome:ae,isFirefox:se,isSafari:ce,isOpera:ue,isIE:le,osVersion:fe,osName:de,fullBrowserVersion:pe,browserVersion:he,browserName:ge,mobileVendor:me,mobileModel:ve,engineName:ye,engineVersion:be,getUA:we,isEdge:Ce,isYandex:Ee,deviceType:ke,isIOS13:Se,isIPad13:_e,isIPhone13:Ae,isIPod13:Te,isElectron:xe,isEdgeChromium:Ie,isLegacyEdge:Be,isWindows:Re,isMacOs:Pe}},function(e,t,r){var n;
/*!
	 * UAParser.js v0.7.18
	 * Lightweight JavaScript-based User-Agent string parser
	 * https://github.com/faisalman/ua-parser-js
	 *
	 * Copyright © 2012-2016 Faisal Salman <fyzlman@gmail.com>
	 * Dual licensed under GPLv2 or MIT
	 */!function(i,o){var a="function",s="undefined",c="object",u="model",l="name",f="type",d="vendor",p="version",h="architecture",g="console",m="mobile",v="tablet",y="smarttv",b="wearable",w={extend:function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r},has:function(e,t){return"string"==typeof e&&-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:o},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},C={rgx:function(e,t){for(var r,n,i,s,u,l,f=0;f<t.length&&!u;){var d=t[f],p=t[f+1];for(r=n=0;r<d.length&&!u;)if(u=d[r++].exec(e))for(i=0;i<p.length;i++)l=u[++n],typeof(s=p[i])===c&&s.length>0?2==s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,l):this[s[0]]=s[1]:3==s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=l?l.replace(s[1],s[2]):o:this[s[0]]=l?s[1].call(this,l,s[2]):o:4==s.length&&(this[s[0]]=l?s[3].call(this,l.replace(s[1],s[2])):o):this[s]=l||o;f+=2}},str:function(e,t){for(var r in t)if(typeof t[r]===c&&t[r].length>0){for(var n=0;n<t[r].length;n++)if(w.has(t[r][n],e))return"?"===r?o:r}else if(w.has(t[r],e))return"?"===r?o:r;return e}},E={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},k={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[l,p],[/(opios)[\/\s]+([\w\.]+)/i],[[l,"Opera Mini"],p],[/\s(opr)\/([\w\.]+)/i],[[l,"Opera"],p],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[l,p],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[l,"IE"],p],[/(edge|edgios|edgea)\/((\d+)?[\w\.]+)/i],[[l,"Edge"],p],[/(yabrowser)\/([\w\.]+)/i],[[l,"Yandex"],p],[/(puffin)\/([\w\.]+)/i],[[l,"Puffin"],p],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[l,"UCBrowser"],p],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],p],[/(micromessenger)\/([\w\.]+)/i],[[l,"WeChat"],p],[/(qqbrowserlite)\/([\w\.]+)/i],[l,p],[/(QQ)\/([\d\.]+)/i],[l,p],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[l,p],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[l,p],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[l,p],[/(MetaSr)[\/\s]?([\w\.]+)/i],[l],[/(LBBROWSER)/i],[l],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[p,[l,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[p,[l,"Facebook"]],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[p,[l,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[l,/(.+)/,"$1 WebView"],p],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[l,/(.+(?:g|us))(.+)/,"$1 $2"],p],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[p,[l,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[l,p],[/(dolfin)\/([\w\.]+)/i],[[l,"Dolphin"],p],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[l,"Chrome"],p],[/(coast)\/([\w\.]+)/i],[[l,"Opera Coast"],p],[/fxios\/([\w\.-]+)/i],[p,[l,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[p,[l,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[p,l],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[l,"GSA"],p],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[l,[p,C.str,E.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[l,p],[/(navigator|netscape)\/([\w\.-]+)/i],[[l,"Netscape"],p],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[l,p]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[[h,"amd64"]],[/(ia32(?=;))/i],[[h,w.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[[h,"ia32"]],[/windows\s(ce|mobile);\sppc;/i],[[h,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[[h,/ower/,"",w.lowerize]],[/(sun4\w)[;\)]/i],[[h,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+;))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[[h,w.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[u,d,[f,v]],[/applecoremedia\/[\w\.]+ \((ipad)/],[u,[d,"Apple"],[f,v]],[/(apple\s{0,1}tv)/i],[[u,"Apple TV"],[d,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[d,u,[f,v]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[u,[d,"Amazon"],[f,v]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[u,C.str,E.device.amazon.model],[d,"Amazon"],[f,m]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[u,d,[f,m]],[/\((ip[honed|\s\w*]+);/i],[u,[d,"Apple"],[f,m]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[d,u,[f,m]],[/\(bb10;\s(\w+)/i],[u,[d,"BlackBerry"],[f,m]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[u,[d,"Asus"],[f,v]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[d,"Sony"],[u,"Xperia Tablet"],[f,v]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[u,[d,"Sony"],[f,m]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[d,u,[f,g]],[/android.+;\s(shield)\sbuild/i],[u,[d,"Nvidia"],[f,g]],[/(playstation\s[34portablevi]+)/i],[u,[d,"Sony"],[f,g]],[/(sprint\s(\w+))/i],[[d,C.str,E.device.sprint.vendor],[u,C.str,E.device.sprint.model],[f,m]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[d,u,[f,v]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[d,[u,/_/g," "],[f,m]],[/(nexus\s9)/i],[u,[d,"HTC"],[f,v]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[u,[d,"Huawei"],[f,m]],[/(microsoft);\s(lumia[\s\w]+)/i],[d,u,[f,m]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[u,[d,"Microsoft"],[f,g]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[d,"Microsoft"],[f,m]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[u,[d,"Motorola"],[f,m]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[u,[d,"Motorola"],[f,v]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[d,w.trim],[u,w.trim],[f,y]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[d,"Samsung"],[f,y]],[/\(dtv[\);].+(aquos)/i],[u,[d,"Sharp"],[f,y]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[d,"Samsung"],u,[f,v]],[/smart-tv.+(samsung)/i],[d,[f,y],u],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[d,"Samsung"],u,[f,m]],[/sie-(\w*)/i],[u,[d,"Siemens"],[f,m]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[d,"Nokia"],u,[f,m]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[u,[d,"Acer"],[f,v]],[/android.+([vl]k\-?\d{3})\s+build/i],[u,[d,"LG"],[f,v]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[d,"LG"],u,[f,v]],[/(lg) netcast\.tv/i],[d,u,[f,y]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[u,[d,"LG"],[f,m]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[u,[d,"Lenovo"],[f,v]],[/linux;.+((jolla));/i],[d,u,[f,m]],[/((pebble))app\/[\d\.]+\s/i],[d,u,[f,b]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[d,u,[f,m]],[/crkey/i],[[u,"Chromecast"],[d,"Google"]],[/android.+;\s(glass)\s\d/i],[u,[d,"Google"],[f,b]],[/android.+;\s(pixel c)\s/i],[u,[d,"Google"],[f,v]],[/android.+;\s(pixel xl|pixel)\s/i],[u,[d,"Google"],[f,m]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[u,/_/g," "],[d,"Xiaomi"],[f,m]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[u,/_/g," "],[d,"Xiaomi"],[f,v]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[u,[d,"Meizu"],[f,v]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[u,[d,"OnePlus"],[f,m]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[u,[d,"RCA"],[f,v]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[u,[d,"Dell"],[f,v]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[u,[d,"Verizon"],[f,v]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[d,"Barnes & Noble"],u,[f,v]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[u,[d,"NuVision"],[f,v]],[/android.+;\s(k88)\sbuild/i],[u,[d,"ZTE"],[f,v]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[u,[d,"Swiss"],[f,m]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[u,[d,"Swiss"],[f,v]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[u,[d,"Zeki"],[f,v]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[d,"Dragon Touch"],u,[f,v]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[u,[d,"Insignia"],[f,v]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[u,[d,"NextBook"],[f,v]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[d,"Voice"],u,[f,m]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[d,"LvTel"],u,[f,m]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[u,[d,"Envizen"],[f,v]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[d,u,[f,v]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[u,[d,"MachSpeed"],[f,v]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[d,u,[f,v]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[u,[d,"Rotor"],[f,v]],[/android.+(KS(.+))\s+build/i],[u,[d,"Amazon"],[f,v]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[d,u,[f,v]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[f,w.lowerize],d,u],[/(android[\w\.\s\-]{0,9});.+build/i],[u,[d,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[p,[l,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[l,p],[/rv\:([\w\.]{1,9}).+(gecko)/i],[p,l]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[l,p],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[l,[p,C.str,E.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[l,"Windows"],[p,C.str,E.os.windows.version]],[/\((bb)(10);/i],[[l,"BlackBerry"],p],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[l,p],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[l,"Symbian"],p],[/\((series40);/i],[l],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[l,"Firefox OS"],p],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[l,p],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[l,"Chromium OS"],p],[/(sunos)\s?([\w\.\d]*)/i],[[l,"Solaris"],p],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[l,p],[/(haiku)\s(\w+)/i],[l,p],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[p,/_/g,"."],[l,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[l,"Mac OS"],[p,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]*)/i],[l,p]]},S=function(e,t){if("object"==typeof e&&(t=e,e=o),!(this instanceof S))return new S(e,t).getResult();var r=e||(i&&i.navigator&&i.navigator.userAgent?i.navigator.userAgent:""),n=t?w.extend(k,t):k;return this.getBrowser=function(){var e={name:o,version:o};return C.rgx.call(e,r,n.browser),e.major=w.major(e.version),e},this.getCPU=function(){var e={architecture:o};return C.rgx.call(e,r,n.cpu),e},this.getDevice=function(){var e={vendor:o,model:o,type:o};return C.rgx.call(e,r,n.device),e},this.getEngine=function(){var e={name:o,version:o};return C.rgx.call(e,r,n.engine),e},this.getOS=function(){var e={name:o,version:o};return C.rgx.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};S.VERSION="0.7.18",S.BROWSER={NAME:l,MAJOR:"major",VERSION:p},S.CPU={ARCHITECTURE:h},S.DEVICE={MODEL:u,VENDOR:d,TYPE:f,CONSOLE:g,MOBILE:m,SMARTTV:y,TABLET:v,WEARABLE:b,EMBEDDED:"embedded"},S.ENGINE={NAME:l,VERSION:p},S.OS={NAME:l,VERSION:p},typeof t!==s?(typeof e!==s&&e.exports&&(t=e.exports=S),t.UAParser=S):r(3)?(n=function(){return S}.call(t,r,t,e))===o||(e.exports=n):i&&(i.UAParser=S);var _=i&&(i.jQuery||i.Zepto);if(typeof _!==s){var A=new S;_.ua=A.getResult(),_.ua.get=function(){return A.getUA()},_.ua.set=function(e){A.setUA(e);var t=A.getResult();for(var r in t)_.ua[r]=t[r]}}}("object"==typeof window?window:this)},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(0),o=i.DEVICE_TYPES,a=i.defaultData,s=t.getNavigatorInstance=function(){return!("undefined"==typeof window||!window.navigator&&!navigator)&&(window.navigator||navigator)},c=t.isIOS13Check=function(e){var t=s();return t&&t.platform&&(-1!==t.platform.indexOf(e)||"MacIntel"===t.platform&&t.maxTouchPoints>1&&!window.MSStream)};e.exports={checkType:function(e){switch(e){case o.MOBILE:return{isMobile:!0};case o.TABLET:return{isTablet:!0};case o.SMART_TV:return{isSmartTV:!0};case o.CONSOLE:return{isConsole:!0};case o.WEARABLE:return{isWearable:!0};case o.BROWSER:return{isBrowser:!0};default:return a}},broPayload:function(e,t,r,n,i){return{isBrowser:e,browserMajorVersion:t.major,browserFullVersion:t.version,browserName:t.name,engineName:r.name||!1,engineVersion:r.version,osName:n.name,osVersion:n.version,userAgent:i}},mobilePayload:function(e,t,r,i){return n({},e,{vendor:t.vendor,model:t.model,os:r.name,osVersion:r.version,ua:i})},stvPayload:function(e,t,r,n){return{isSmartTV:e,engineName:t.name,engineVersion:t.version,osName:r.name,osVersion:r.version,userAgent:n}},consolePayload:function(e,t,r,n){return{isConsole:e,engineName:t.name,engineVersion:t.version,osName:r.name,osVersion:r.version,userAgent:n}},wearPayload:function(e,t,r,n){return{isWearable:e,engineName:t.name,engineVersion:t.version,osName:r.name,osVersion:r.version,userAgent:n}},getNavigatorInstance:s,isIOS13Check:c}}])})),tJ="Expected a function",rJ=NaN,nJ="[object Symbol]",iJ=/^\s+|\s+$/g,oJ=/^[-+]0x[0-9a-f]+$/i,aJ=/^0b[01]+$/i,sJ=/^0o[0-7]+$/i,cJ=parseInt,uJ="object"==typeof t&&t&&t.Object===Object&&t,lJ="object"==typeof self&&self&&self.Object===Object&&self,fJ=uJ||lJ||Function("return this")(),dJ=Object.prototype,pJ=dJ.toString,hJ=Math.max,gJ=Math.min,mJ=function(){return fJ.Date.now()};function vJ(e,t,r){var n,i,o,a,s,c,u=0,l=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError(tJ);function p(t){var r=n,o=i;return n=i=void 0,u=t,a=e.apply(o,r)}function h(e){return u=e,s=setTimeout(m,t),l?p(e):a}function g(e){var r=e-c;return void 0===c||r>=t||r<0||f&&e-u>=o}function m(){var e=mJ();if(g(e))return v(e);s=setTimeout(m,function(e){var r=t-(e-c);return f?gJ(r,o-(e-u)):r}(e))}function v(e){return s=void 0,d&&n?p(e):(n=i=void 0,a)}function y(){var e=mJ(),r=g(e);if(n=arguments,i=this,c=e,r){if(void 0===s)return h(c);if(f)return s=setTimeout(m,t),p(c)}return void 0===s&&(s=setTimeout(m,t)),a}return t=CJ(t)||0,yJ(r)&&(l=!!r.leading,o=(f="maxWait"in r)?hJ(CJ(r.maxWait)||0,t):o,d="trailing"in r?!!r.trailing:d),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=c=i=s=void 0},y.flush=function(){return void 0===s?a:v(mJ())},y}function yJ(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function bJ(e){return!!e&&"object"==typeof e}function wJ(e){return"symbol"==typeof e||bJ(e)&&pJ.call(e)==nJ}function CJ(e){if("number"==typeof e)return e;if(wJ(e))return rJ;if(yJ(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=yJ(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(iJ,"");var r=aJ.test(e);return r||sJ.test(e)?cJ(e.slice(2),r?2:8):oJ.test(e)?rJ:+e}var EJ,kJ,SJ,_J,AJ,TJ=vJ;function xJ(e,t,r){class n extends Sw.Component{constructor(){super(...arguments),this.updateDebounced=TJ(this.forceUpdate,t,r)}shouldComponentUpdate(){return this.updateDebounced(),!1}componentWillUnmount(){this.updateDebounced.cancel()}render(){return Sw.createElement(e,Object.assign({},this.props))}}return n.displayName=`debounceRender(${e.displayName||e.name||"Component"})`,Kk(n,e)}function IJ(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia)return navigator.mediaDevices;var e=navigator.mozGetUserMedia||navigator.webkitGetUserMedia;return e?{getUserMedia:function(t){return new Promise((function(r,n){e.call(navigator,t,r,n)}))}}:null}function BJ(){return"function"==typeof navigator.enumerateDevices?navigator.enumerateDevices():"object"===ky(navigator.mediaDevices)&&"function"==typeof navigator.mediaDevices.enumerateDevices?navigator.mediaDevices.enumerateDevices():new Promise((function(e,t){try{if(null==window.MediaStreamTrack||null==window.MediaStreamTrack.getSources)throw new Error;window.MediaStreamTrack.getSources((function(t){e(t.filter((function(e){return"video"===e.kind.toLowerCase()||"videoinput"===e.kind.toLowerCase()})).map((function(e){return{deviceId:null!=e.deviceId?e.deviceId:"",groupId:e.groupId,kind:"videoinput",label:e.label,toJSON:function(){return this}}})))}))}catch(e){return t(e)}}))}var RJ=oL.Errors,PJ=1e3,NJ=c_.div(EJ||(EJ=Ky(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  background: #000;\n  display: flex;\n  justify-content: center;\n  z-index: ",";\n  ","\n"])),PJ,(function(e){return e.checkCameraMode&&"opacity: 0;"})),OJ=c_.video(kJ||(kJ=Ky(["\n  width: 100%;\n  ","\n"])),(function(e){return e.flipHorizontal&&"\n     transform: scale(".concat(-1*e.scale,", ").concat(1*e.scale,");\n  ")})),DJ=c_.div(SJ||(SJ=Ky(["\n  cursor: pointer;\n  text-align: center;\n  width: 50px;\n\n  img {\n    width: 100%;\n  }\n"]))),LJ=c_(DJ)(_J||(_J=Ky(["\n  z-index: ",";\n  position: absolute;\n  top: 20px;\n  right: 20px;\n  width: 20px;\n"])),PJ+100),MJ=c_.div(AJ||(AJ=Ky(["\n  z-index: ",";\n  position: absolute;\n  top: 40px;\n  color: red;\n"])),PJ+20),UJ=Sw.createRef(),jJ=IJ();function FJ(e){var t=e.checkCameraMode,r=e.frontCamera,n=e.onClose,i=e.children,o=e.onVideoPlayed,a=e.flipHorizontal,s=e.videoSettings,c=e.refVideo,u=e.onError,l=e.closeButton,f=e.videoClassName,d=e.scale,p=e.defaultCameraId,h=e.onWarning,g=Sw.useRef(),m=fF.useSDKSettings().lang,v=KF.useSDKTracking().sendEvent,y=QF.useAsset("ic_close.png"),b=qy(Sw.useState(""),2),w=b[0],C=b[1],E=Sw.useRef(!1),k=Sw.useRef(!1),S=Sw.useRef(!1),_=Sw.useCallback((function(){try{var e;clearInterval(g.current),(null==c||null===(e=c.current)||void 0===e?void 0:e.srcObject)instanceof MediaStream&&(c.current.srcObject.getTracks().forEach((function(e){return e.stop()})),c.current.srcObject=null)}catch(e){}}),[c]);g.current||(g.current=setInterval((function(){document.getElementById("tv-camera-".concat(g.current))||_()}),1e3)),Sw.useEffect((function(){return function(){S.current=!0}}),[]);var A=Sw.useCallback(function(){var e=_y(regeneratorRuntime.mark((function e(t){var n,i,o,a=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],i={},!1!==window.tv_last_req_camera_complete){e.next=5;break}return h("too_many_request_to_camera"),e.abrupt("return",new Promise((function(e){return e(null)})));case 5:return window.tv_last_req_camera_complete=!1,i=eJ.isMobile?eJ.isIOS?{width:{ideal:1460},aspectRatio:{ideal:window.innerHeight/window.innerWidth}}:{width:{ideal:1650},aspectRatio:{ideal:window.innerHeight/window.innerWidth}}:{height:{ideal:9999}},e.prev=7,e.next=10,jJ.getUserMedia({audio:!1,video:Py(Py({},t?{deviceId:t}:{facingMode:r?"user":"environment"}),n?{}:s||i)});case 10:return(o=e.sent)||(C(RJ.not_supported.msg[m]),u(RJ.not_supported)),window.tv_last_req_camera_complete=!0,e.abrupt("return",o);case 16:e.prev=16,e.t0=e.catch(7),"NotAllowedError"===e.t0.name?(C(RJ.no_permission.msg[m]),u(RJ.no_permission),k.current=!0):k.current&&("NotReadableError"===e.t0.name?(u(RJ.not_readable),C(RJ.not_readable.msg[m])):(C(e.t0.message),u({code:e.t0.name||e.t0.code,message:e.t0.message})));case 19:return window.tv_last_req_camera_complete=!0,e.abrupt("return",null);case 21:case"end":return e.stop()}}),e,null,[[7,16]])})));return function(t){return e.apply(this,arguments)}}(),[r,s,m,u,h]),T=Sw.useCallback(_y(regeneratorRuntime.mark((function e(){var t,r,n,i,a,s,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>0&&void 0!==u[0]?u[0]:p,i=u.length>1&&void 0!==u[1]&&u[1],!(null!=(a=c.current)&&null!==(t=a.srcObject)&&void 0!==t&&t.id&&null!=a&&null!==(r=a.srcObject)&&void 0!==r&&r.active&&E.current)){e.next=5;break}return e.abrupt("return");case 5:return a.oncanplaythrough=function(){a.play(),E.current=!0,C("");var e=window.innerWidth,t=window.innerHeight,r=wV.analyzeVideoAndWindowSizes(a),n=r.lostX,i=void 0===n?0:n,s=r.lostY,c=void 0===s?0:s,u=Math.min(e,Math.floor(e-2*i)),l=Math.min(t,Math.floor(t-2*c));o&&o({clientWidth:e,clientHeight:t,videoAreaWidth:u,videoAreaHeight:l,lostX:i,lostY:c})},e.next=8,A(n,i);case 8:(s=e.sent)||k.current||(k.current=!0,T(n,!0)),s&&S.current&&(c.current.srcObject=s,_()),s&&!S.current&&(a.srcObject=s);case 12:case"end":return e.stop()}}),e)}))),[c,A,o,p,_]);Sw.useEffect((function(){function e(){return(e=_y(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T();case 2:return e.next=4,BJ();case 4:t=e.sent,(r=t.filter((function(e){return"videoinput"===e.kind&&e.label.includes("back")&&e.label.includes("0")}))).length>0&&(n=r[0].deviceId,_(),T(n));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var t=c.current;return!jJ||eJ.browserName&&["facebook"].includes(eJ.browserName.toLowerCase())||eJ.getUA.includes("Zalo iOS")?(C(RJ.not_supported.msg[m]),u(RJ.not_supported)):t&&(eJ.isAndroid&&!1===r?function(){e.apply(this,arguments)}():T()),function(){S.current&&_()}}),[c,m,r,T,_,u]),Sw.useEffect((function(){var e=setTimeout((function(){E.current||(C(RJ.camera_timeout.msg[m]),u(RJ.camera_timeout))}),15e3);return function(){clearTimeout(e)}}),[m,u]);var x=Sw.useCallback((function(){_(),n&&n(),v({tag:"result",event:"user_activity.cancel",log:{}})}),[n,_,v]);return Sw.createElement(NJ,{id:"tv-camera-".concat(g.current),checkCameraMode:t},function(){if(!w)return null;var e=RJ.no_permission.msg[m];return w===e&&eJ.isIOS?Sw.createElement(MJ,null,w," ",Sw.createElement("button",{onClick:function(){window.location.reload()}},{vi:"Cấp lại quyền truy cập camera",en:"Request camera permission"}[m])):Sw.createElement(MJ,null,w)}(),Sw.createElement(OJ,{ref:c,playsInline:!0,muted:!0,flipHorizontal:a,className:f,scale:d}),i,l?Sw.cloneElement(l,{onClick:x,"data-testid":"close-camera"}):Sw.createElement(LJ,{onClick:x,"data-testid":"close-camera"},Sw.createElement("img",{src:y,alt:""})))}FJ.propTypes={checkCameraMode:SC.bool,frontCamera:SC.bool,onClose:SC.func,onError:SC.func,onVideoPlayed:SC.func,children:SC.node,flipHorizontal:SC.bool,videoSettings:SC.object,refVideo:SC.object,closeButton:SC.node,videoClassName:SC.string,scale:SC.number,defaultCameraId:SC.string,onWarning:SC.func},FJ.defaultProps={checkCameraMode:!1,frontCamera:!0,onClose:null,onError:function(){},onVideoPlayed:null,children:null,flipHorizontal:!1,videoSettings:null,refVideo:null,closeButton:null,videoClassName:"",scale:1,defaultCameraId:void 0,onWarning:function(){}};var VJ,zJ,KJ,qJ=xJ(FJ,250),HJ=Sw.forwardRef((function(e,t){return Sw.createElement(qJ,By({},e,{refVideo:t||UJ}))})),QJ=c_.table(VJ||(VJ=Ky(["\n  width: 100%;\n  height: 100%;\n  td {\n    text-align: center;\n    vertical-align: middle;\n    padding: 0;\n    border: 0;\n  }\n  border-spacing: 0;\n  table-layout: auto;\n  border-collapse: collapse;\n"]))),WJ=c_.div(zJ||(zJ=Ky(["\n  position: relative;\n"]))),GJ=Array.from(Array(3).keys()),YJ=Array.from(Array(3).keys());function XJ(e){var t=e.children,r=e.x,n=e.y,i=e.width,o=e.height,a=e.className,s=e.surroundStyle;return Sw.createElement(QJ,{className:a},Sw.createElement("tbody",null,GJ.map((function(e,a){return Sw.createElement("tr",{key:e,style:{height:0===a?n:"auto"},"data-testid":"row"},YJ.map((function(e,n){var c=1===a&&1===n,u="auto";return c?u=i:0===n&&(u=r),Sw.createElement("td",{"data-testid":c?"centeredCell":"cell",key:e,style:Py({width:u,height:c?o:"auto"},c?{}:s)},c?Sw.createElement(WJ,{style:{width:u,height:o}},t):null)})))}))))}XJ.propTypes={children:SC.node,x:SC.string,y:SC.string,width:SC.string,height:SC.string,className:SC.string,surroundStyle:SC.object},XJ.defaultProps={children:null,x:"auto",y:"auto",width:"auto",height:"auto",className:"",surroundStyle:{}};var $J=c_(XJ)(KJ||(KJ=Ky(["\n  background: transparent;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: ",";\n"])),PJ+10);function ZJ(e){var t=e.className;return Sw.createElement("svg",{className:t,width:"38px",height:"32px",viewBox:"0 0 24 21","data-testid":"camera-icon"},Sw.createElement("title",null,"FA45C15C-1E21-4D7B-9585-07FB9F999CB8"),Sw.createElement("desc",null,"Created with sketchtool."),Sw.createElement("g",{id:"Web-demo",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},Sw.createElement("g",{id:"step1",transform:"translate(-950.000000, -380.000000)",fill:"currentColor",fillRule:"nonzero"},Sw.createElement("g",{id:"Group",transform:"translate(950.000000, 380.000000)"},Sw.createElement("g",{id:"Group-2"},Sw.createElement("g",{id:"camera"},Sw.createElement("path",{d:"M21,3 L17,3 L15,0 L9,0 L7,3 L3,3 C1.34314575,3 0,4.34314575 0,6 L0,18 C0,19.6568542 1.34314575,21 3,21 L21,21 C22.6568542,21 24,19.6568542 24,18 L24,6 C24,4.34314575 22.6568542,3 21,3 Z M12,17 C9.23857625,17 7,14.7614237 7,12 C7,9.23857625 9.23857625,7 12,7 C14.7614237,7 17,9.23857625 17,12 C17,14.7614237 14.7614237,17 12,17 L12,17 Z",id:"Shape"})))))))}function JJ(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}ZJ.propTypes={className:SC.string},ZJ.defaultProps={className:""};var e0=JJ,t0="object"==typeof t&&t&&t.Object===Object&&t,r0=t0,n0="object"==typeof self&&self&&self.Object===Object&&self,i0=r0||n0||Function("return this")(),o0=i0,a0=function(){return o0.Date.now()},s0=a0,c0=/\s/;function u0(e){for(var t=e.length;t--&&c0.test(e.charAt(t)););return t}var l0=u0,f0=/^\s+/;function d0(e){return e?e.slice(0,l0(e)+1).replace(f0,""):e}var p0=d0,h0=o0.Symbol,g0=h0,m0=Object.prototype,v0=m0.hasOwnProperty,y0=m0.toString,b0=g0?g0.toStringTag:void 0;function w0(e){var t=v0.call(e,b0),r=e[b0];try{e[b0]=void 0;var n=!0}catch(e){}var i=y0.call(e);return n&&(t?e[b0]=r:delete e[b0]),i}var C0=w0,E0=Object.prototype,k0=E0.toString;function S0(e){return k0.call(e)}var _0=S0,A0="[object Null]",T0="[object Undefined]",x0=g0?g0.toStringTag:void 0;function I0(e){return null==e?void 0===e?T0:A0:x0&&x0 in Object(e)?C0(e):_0(e)}var B0=I0;function R0(e){return null!=e&&"object"==typeof e}var P0=R0,N0="[object Symbol]";function O0(e){return"symbol"==typeof e||P0(e)&&B0(e)==N0}var D0=O0,L0=NaN,M0=/^[-+]0x[0-9a-f]+$/i,U0=/^0b[01]+$/i,j0=/^0o[0-7]+$/i,F0=parseInt;function V0(e){if("number"==typeof e)return e;if(D0(e))return L0;if(e0(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=e0(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=p0(e);var r=U0.test(e);return r||j0.test(e)?F0(e.slice(2),r?2:8):M0.test(e)?L0:+e}var z0=V0,K0="Expected a function",q0=Math.max,H0=Math.min;function Q0(e,t,r){var n,i,o,a,s,c,u=0,l=!1,f=!1,d=!0;if("function"!=typeof e)throw new TypeError(K0);function p(t){var r=n,o=i;return n=i=void 0,u=t,a=e.apply(o,r)}function h(e){return u=e,s=setTimeout(m,t),l?p(e):a}function g(e){var r=e-c;return void 0===c||r>=t||r<0||f&&e-u>=o}function m(){var e=s0();if(g(e))return v(e);s=setTimeout(m,function(e){var r=t-(e-c);return f?H0(r,o-(e-u)):r}(e))}function v(e){return s=void 0,d&&n?p(e):(n=i=void 0,a)}function y(){var e=s0(),r=g(e);if(n=arguments,i=this,c=e,r){if(void 0===s)return h(c);if(f)return clearTimeout(s),s=setTimeout(m,t),p(c)}return void 0===s&&(s=setTimeout(m,t)),a}return t=z0(t)||0,e0(r)&&(l=!!r.leading,o=(f="maxWait"in r)?q0(z0(r.maxWait)||0,t):o,d="trailing"in r?!!r.trailing:d),y.cancel=function(){void 0!==s&&clearTimeout(s),u=0,n=c=i=s=void 0},y.flush=function(){return void 0===s?a:v(s0())},y}var W0=Q0,G0="Expected a function";function Y0(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new TypeError(G0);return e0(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),W0(e,t,{leading:n,maxWait:t,trailing:i})}var X0=Y0,$0="[object AsyncFunction]",Z0="[object Function]",J0="[object GeneratorFunction]",e1="[object Proxy]";function t1(e){if(!e0(e))return!1;var t=B0(e);return t==Z0||t==J0||t==$0||t==e1}var r1=t1,n1=o0["__core-js_shared__"],i1=n1,o1=function(){var e=/[^.]+$/.exec(i1&&i1.keys&&i1.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function a1(e){return!!o1&&o1 in e}var s1=a1,c1=Function.prototype,u1=c1.toString;function l1(e){if(null!=e){try{return u1.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var f1=l1,d1=/[\\^$.*+?()[\]{}|]/g,p1=/^\[object .+?Constructor\]$/,h1=Function.prototype,g1=Object.prototype,m1=h1.toString,v1=g1.hasOwnProperty,y1=RegExp("^"+m1.call(v1).replace(d1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function b1(e){return!(!e0(e)||s1(e))&&(r1(e)?y1:p1).test(f1(e))}var w1=b1;function C1(e,t){return null==e?void 0:e[t]}var E1=C1;function k1(e,t){var r=E1(e,t);return w1(r)?r:void 0}var S1=k1,_1=function(){try{var e=S1(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),A1=_1;function T1(e,t,r){"__proto__"==t&&A1?A1(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var x1=T1;function I1(e,t){return e===t||e!=e&&t!=t}var B1=I1,R1=Object.prototype,P1=R1.hasOwnProperty;function N1(e,t,r){var n=e[t];P1.call(e,t)&&B1(n,r)&&(void 0!==r||t in e)||x1(e,t,r)}var O1=N1;function D1(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],c=n?n(r[s],e[s],s,r,e):void 0;void 0===c&&(c=e[s]),i?x1(r,s,c):O1(r,s,c)}return r}var L1=D1;function M1(e){return e}var U1=M1;function j1(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var F1=j1,V1=Math.max;function z1(e,t,r){return t=V1(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=V1(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),F1(e,this,s)}}var K1=z1;function q1(e){return function(){return e}}var H1=q1,Q1=A1?function(e,t){return A1(e,"toString",{configurable:!0,enumerable:!1,value:H1(t),writable:!0})}:U1,W1=Q1,G1=800,Y1=16,X1=Date.now;function $1(e){var t=0,r=0;return function(){var n=X1(),i=Y1-(n-r);if(r=n,i>0){if(++t>=G1)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Z1=$1,J1=Z1(W1),e2=J1;function t2(e,t){return e2(K1(e,t,U1),e+"")}var r2=t2,n2=9007199254740991;function i2(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n2}var o2=i2;function a2(e){return null!=e&&o2(e.length)&&!r1(e)}var s2=a2,c2=9007199254740991,u2=/^(?:0|[1-9]\d*)$/;function l2(e,t){var r=typeof e;return!!(t=null==t?c2:t)&&("number"==r||"symbol"!=r&&u2.test(e))&&e>-1&&e%1==0&&e<t}var f2=l2;function d2(e,t,r){if(!e0(r))return!1;var n=typeof t;return!!("number"==n?s2(r)&&f2(t,r.length):"string"==n&&t in r)&&B1(r[t],e)}var p2=d2;function h2(e){return r2((function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,a=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,a&&p2(r[0],r[1],a)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var s=r[n];s&&e(t,s,n,o)}return t}))}var g2=h2;function m2(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var v2=m2,y2="[object Arguments]";function b2(e){return P0(e)&&B0(e)==y2}var w2=b2,C2=Object.prototype,E2=C2.hasOwnProperty,k2=C2.propertyIsEnumerable,S2=w2(function(){return arguments}())?w2:function(e){return P0(e)&&E2.call(e,"callee")&&!k2.call(e,"callee")},_2=S2,A2=Array.isArray,T2=A2;function x2(){return!1}var I2=x2,B2=r((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r?o0.Buffer:void 0,o=(i?i.isBuffer:void 0)||I2;e.exports=o})),R2="[object Arguments]",P2="[object Array]",N2="[object Boolean]",O2="[object Date]",D2="[object Error]",L2="[object Function]",M2="[object Map]",U2="[object Number]",j2="[object Object]",F2="[object RegExp]",V2="[object Set]",z2="[object String]",K2="[object WeakMap]",q2="[object ArrayBuffer]",H2="[object DataView]",Q2="[object Float32Array]",W2="[object Float64Array]",G2="[object Int8Array]",Y2="[object Int16Array]",X2="[object Int32Array]",$2="[object Uint8Array]",Z2="[object Uint8ClampedArray]",J2="[object Uint16Array]",e3="[object Uint32Array]",t3={};function r3(e){return P0(e)&&o2(e.length)&&!!t3[B0(e)]}t3[Q2]=t3[W2]=t3[G2]=t3[Y2]=t3[X2]=t3[$2]=t3[Z2]=t3[J2]=t3[e3]=!0,t3[R2]=t3[P2]=t3[q2]=t3[N2]=t3[H2]=t3[O2]=t3[D2]=t3[L2]=t3[M2]=t3[U2]=t3[j2]=t3[F2]=t3[V2]=t3[z2]=t3[K2]=!1;var n3=r3;function i3(e){return function(t){return e(t)}}var o3=i3,a3=r((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r&&r0.process,o=function(){try{var e=n&&n.require&&n.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o})),s3=a3&&a3.isTypedArray,c3=s3?o3(s3):n3,u3=c3,l3=Object.prototype,f3=l3.hasOwnProperty;function d3(e,t){var r=T2(e),n=!r&&_2(e),i=!r&&!n&&B2(e),o=!r&&!n&&!i&&u3(e),a=r||n||i||o,s=a?v2(e.length,String):[],c=s.length;for(var u in e)!t&&!f3.call(e,u)||a&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||f2(u,c))||s.push(u);return s}var p3=d3,h3=Object.prototype;function g3(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||h3)}var m3=g3;function v3(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}var y3=v3,b3=Object.prototype,w3=b3.hasOwnProperty;function C3(e){if(!e0(e))return y3(e);var t=m3(e),r=[];for(var n in e)("constructor"!=n||!t&&w3.call(e,n))&&r.push(n);return r}var E3=C3;function k3(e){return s2(e)?p3(e,!0):E3(e)}var S3=k3,_3=g2((function(e,t,r,n){L1(t,S3(t),e,n)})),A3=_3;function T3(e,t){return function(r){return e(t(r))}}var x3=T3,I3=x3(Object.getPrototypeOf,Object),B3=I3,R3="[object Object]",P3=Function.prototype,N3=Object.prototype,O3=P3.toString,D3=N3.hasOwnProperty,L3=O3.call(Object);function M3(e){if(!P0(e)||B0(e)!=R3)return!1;var t=B3(e);if(null===t)return!0;var r=D3.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&O3.call(r)==L3}var U3=M3,j3="[object DOMException]",F3="[object Error]";function V3(e){if(!P0(e))return!1;var t=B0(e);return t==F3||t==j3||"string"==typeof e.message&&"string"==typeof e.name&&!U3(e)}var z3=V3,K3=r2((function(e,t){try{return F1(e,void 0,t)}catch(e){return z3(e)?e:new Error(e)}})),q3=K3;function H3(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var Q3=H3;function W3(e,t){return Q3(t,(function(t){return e[t]}))}var G3=W3,Y3=Object.prototype,X3=Y3.hasOwnProperty;function $3(e,t,r,n){return void 0===e||B1(e,Y3[r])&&!X3.call(n,r)?t:e}var Z3=$3,J3={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function e4(e){return"\\"+J3[e]}var t4=e4,r4=x3(Object.keys,Object),n4=r4,i4=Object.prototype,o4=i4.hasOwnProperty;function a4(e){if(!m3(e))return n4(e);var t=[];for(var r in Object(e))o4.call(e,r)&&"constructor"!=r&&t.push(r);return t}var s4=a4;function c4(e){return s2(e)?p3(e):s4(e)}var u4=c4,l4=/<%=([\s\S]+?)%>/g,f4=l4;function d4(e){return function(t){return null==e?void 0:e[t]}}var p4=d4,h4={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},g4=p4(h4),m4=g4,v4=1/0,y4=g0?g0.prototype:void 0,b4=y4?y4.toString:void 0;function w4(e){if("string"==typeof e)return e;if(T2(e))return Q3(e,w4)+"";if(D0(e))return b4?b4.call(e):"";var t=e+"";return"0"==t&&1/e==-v4?"-0":t}var C4=w4;function E4(e){return null==e?"":C4(e)}var k4=E4,S4=/[&<>"']/g,_4=RegExp(S4.source);function A4(e){return(e=k4(e))&&_4.test(e)?e.replace(S4,m4):e}var T4=A4,x4=/<%-([\s\S]+?)%>/g,I4=x4,B4=/<%([\s\S]+?)%>/g,R4=B4,P4={escape:I4,evaluate:R4,interpolate:f4,variable:"",imports:{_:{escape:T4}}},N4=P4,O4="Invalid `variable` option passed into `_.template`",D4=/\b__p \+= '';/g,L4=/\b(__p \+=) '' \+/g,M4=/(__e\(.*?\)|\b__t\)) \+\n'';/g,U4=/[()=,{}\[\]\/\s]/,j4=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,F4=/($^)/,V4=/['\n\r\u2028\u2029\\]/g,z4=Object.prototype,K4=z4.hasOwnProperty;function q4(e,t,r){var n=N4.imports._.templateSettings||N4;r&&p2(e,t,r)&&(t=void 0),e=k4(e),t=A3({},t,n,Z3);var i,o,a=A3({},t.imports,n.imports,Z3),s=u4(a),c=G3(a,s),u=0,l=t.interpolate||F4,f="__p += '",d=RegExp((t.escape||F4).source+"|"+l.source+"|"+(l===f4?j4:F4).source+"|"+(t.evaluate||F4).source+"|$","g"),p=K4.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+"\n":"";e.replace(d,(function(t,r,n,a,s,c){return n||(n=a),f+=e.slice(u,c).replace(V4,t4),r&&(i=!0,f+="' +\n__e("+r+") +\n'"),s&&(o=!0,f+="';\n"+s+";\n__p += '"),n&&(f+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),f+="';\n";var h=K4.call(t,"variable")&&t.variable;if(h){if(U4.test(h))throw new Error(O4)}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(D4,""):f).replace(L4,"$1").replace(M4,"$1;"),f="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=q3((function(){return Function(s,p+"return "+f).apply(void 0,c)}));if(g.source=f,z3(g))throw g;return g}var H4=q4,Q4=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,W4=/^\w*$/;function G4(e,t){if(T2(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!D0(e))||(W4.test(e)||!Q4.test(e)||null!=t&&e in Object(t))}var Y4=G4,X4=S1(Object,"create"),$4=X4;function Z4(){this.__data__=$4?$4(null):{},this.size=0}var J4=Z4;function e6(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var t6=e6,r6="__lodash_hash_undefined__",n6=Object.prototype,i6=n6.hasOwnProperty;function o6(e){var t=this.__data__;if($4){var r=t[e];return r===r6?void 0:r}return i6.call(t,e)?t[e]:void 0}var a6=o6,s6=Object.prototype,c6=s6.hasOwnProperty;function u6(e){var t=this.__data__;return $4?void 0!==t[e]:c6.call(t,e)}var l6=u6,f6="__lodash_hash_undefined__";function d6(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=$4&&void 0===t?f6:t,this}var p6=d6;function h6(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}h6.prototype.clear=J4,h6.prototype.delete=t6,h6.prototype.get=a6,h6.prototype.has=l6,h6.prototype.set=p6;var g6=h6;function m6(){this.__data__=[],this.size=0}var v6=m6;function y6(e,t){for(var r=e.length;r--;)if(B1(e[r][0],t))return r;return-1}var b6=y6,w6=Array.prototype,C6=w6.splice;function E6(e){var t=this.__data__,r=b6(t,e);return!(r<0)&&(r==t.length-1?t.pop():C6.call(t,r,1),--this.size,!0)}var k6=E6;function S6(e){var t=this.__data__,r=b6(t,e);return r<0?void 0:t[r][1]}var _6=S6;function A6(e){return b6(this.__data__,e)>-1}var T6=A6;function x6(e,t){var r=this.__data__,n=b6(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var I6=x6;function B6(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}B6.prototype.clear=v6,B6.prototype.delete=k6,B6.prototype.get=_6,B6.prototype.has=T6,B6.prototype.set=I6;var R6=B6,P6=S1(o0,"Map"),N6=P6;function O6(){this.size=0,this.__data__={hash:new g6,map:new(N6||R6),string:new g6}}var D6=O6;function L6(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var M6=L6;function U6(e,t){var r=e.__data__;return M6(t)?r["string"==typeof t?"string":"hash"]:r.map}var j6=U6;function F6(e){var t=j6(this,e).delete(e);return this.size-=t?1:0,t}var V6=F6;function z6(e){return j6(this,e).get(e)}var K6=z6;function q6(e){return j6(this,e).has(e)}var H6=q6;function Q6(e,t){var r=j6(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var W6=Q6;function G6(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}G6.prototype.clear=D6,G6.prototype.delete=V6,G6.prototype.get=K6,G6.prototype.has=H6,G6.prototype.set=W6;var Y6=G6,X6="Expected a function";function $6(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(X6);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new($6.Cache||Y6),r}$6.Cache=Y6;var Z6=$6,J6=500;function e5(e){var t=Z6(e,(function(e){return r.size===J6&&r.clear(),e})),r=t.cache;return t}var t5=e5,r5=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n5=/\\(\\)?/g,i5=t5((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r5,(function(e,r,n,i){t.push(n?i.replace(n5,"$1"):r||e)})),t})),o5=i5;function a5(e,t){return T2(e)?e:Y4(e,t)?[e]:o5(k4(e))}var s5=a5,c5=1/0;function u5(e){if("string"==typeof e||D0(e))return e;var t=e+"";return"0"==t&&1/e==-c5?"-0":t}var l5=u5;function f5(e,t){for(var r=0,n=(t=s5(t,e)).length;null!=e&&r<n;)e=e[l5(t[r++])];return r&&r==n?e:void 0}var d5=f5;function p5(e,t,r){var n=null==e?void 0:d5(e,t);return void 0===n?r:n}var h5=p5,g5=oL.Errors;function m5(e){var t=e.livenessSettings,r=e.apiClient,n=e.apiCheck,i=e.onError,o=qy(Sw.useState({face_tracking_setting:{enable:!1,web_terminate_threshold:.0030152991993743408,web_warning_threshold:.0017317430600108828,limit_for:"all_flow",max_warning_time:5},flow_interval_time_ms:3e3,limit_time_liveness_check:{enable:!1,limit_time_second:45},terminate_if_no_face:{enable:!1,max_invalid_frame:5,max_time_ms:1e3}}),2),a=o[0],s=o[1];return Sw.useEffect((function(){t?s(Py({},t)):n&&r.clientSettings().then((function(e){if(e&&e.data){var t,r=h5(e,"data.settings.sdk_settings.server_log_settings.enable"),n=h5(e,"data.settings.sdk_settings.active_liveness_settings"),o=h5(n,"save_encoded_frames",{});o.enable&&(t={enable:!0,framesIntervalTime:o.frames_interval_ms,framesBatchLength:o.frames_batch_len}),s(Py(Py({},n),{},{enableTracking:r,captureFrameSettings:t}))}e&&e.errors&&i(g5.server_error)})).catch((function(e){i(e)}))}),[t,r,i,n]),a}var v5=function(e){var t=e.curStep,r=e.faceDirection,n=h5(t,"stepTimeConstraints.delayTime");return!!n&&(null===t.firstFrameSpottedAt?(t.name===r&&(t.firstFrameSpottedAt=(new Date).getTime()),!0):(new Date).getTime()-t.firstFrameSpottedAt<n)},y5=1/0,b5=17976931348623157e292;function w5(e){return e?(e=z0(e))===y5||e===-y5?(e<0?-1:1)*b5:e==e?e:0:0===e?e:0}var C5=w5;function E5(e){var t=C5(e),r=t%1;return t==t?r?t-r:t:0}var k5=E5,S5="Expected a function";function _5(e,t){var r;if("function"!=typeof t)throw new TypeError(S5);return e=k5(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=void 0),r}}var A5=_5;function T5(e){return A5(2,e)}var x5=T5;function I5(){return B5.apply(this,arguments)}function B5(){return(B5=_y(regeneratorRuntime.mark((function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},r=t.blazefaceModelUrl,n=t.tfScriptUrls,e.next=3,RK.loadTensorFlow(n);case 3:return e.next=5,RK.initTensorFlow({preferredBackends:["wasm","webgl","cpu"]});case 5:return e.next=7,RK.loadBlazefaceModel({modelUrl:r});case 7:return i=e.sent,e.abrupt("return",{blazefaceModel:i});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var R5,P5,N5,O5,D5,L5,M5,U5=x5(I5),j5=[],F5=function(){j5=[]},V5=function(e,t,r){r&&F5(),j5.push({id:null});var n=j5.length-1;t.httpClient.post("/v1/files",{frames:e,metadata:JSON.stringify({type:"selfie"})}).then((function(e){e&&e.data&&e.data.file_id?j5[n].id=e.data.file_id:j5[n].id=-1}))},z5=function(){return new Promise((function(e){var t=setInterval((function(){j5.every((function(e){return e.id}))&&(e(),clearInterval(t))}),200)}))},K5=function(e){return e.enable?j5.some((function(e){return-1===e.id}))?null:j5:[]},q5=DV.faceTracker(),H5=oL.Mode,Q5=oL.FaceDirection,W5=oL.Errors,G5=oL.Messages,Y5=oL.TrackLivenessEvents,X5=-1,$5=3,Z5=3;function J5(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.apiCheck,n=t.mode,i=t.bgCameraMask,o=t.bgCameraMaskRed,a=t.surroundStyle,s=t.cropAreaDimension,c=t.customInstructions,u=t.customIcon,l=t.customDirectionIcon,f=t.customStepTimeConstraints,d=void 0===f?(Iy(e={},oL.FaceDirection.UP,{delayTime:0}),Iy(e,oL.FaceDirection.LEFT,{delayTime:0}),Iy(e,oL.FaceDirection.RIGHT,{delayTime:0}),Iy(e,oL.FaceDirection.FRONTAL,{delayTime:2e3}),e):f,p=t.onLivenessDetectionDone,h=t.onError,g=t.frontalMinSize,m=t.waitingTimeToGetBetterFrames,v=void 0===m?500:m,y=t.captureFrameSettings,b=void 0===y?{enable:!1,framesIntervalTime:180,framesBatchLength:0}:y,w=t.livenessSettings,C=t.setRemainingTime,E=void 0===C?function(){}:C,k=t.onProcessing,S=void 0===k?function(){}:k,_=t.customErrors,A=t.customMessages,T=t.apiCredentials,x=void 0===T?{}:T,I=t.onFramesCaptured,B=void 0===I?function(){}:I,R=t.initFirstGestureTimeout,P=void 0===R?2e3:R,N=t.outputEncryptionSettings,O=t.cameraScale,D=void 0===O?1:O,L=t.passiveModeAuto,M=void 0!==L&&L,U=t.sendCustomEvent,j=void 0===U?function(){}:U,F=Sw.useState(!1),V=qy(F,2),z=V[0],K=V[1],q=Sw.useState(!1),H=qy(q,2),Q=H[0],W=H[1],G=Sw.useState(!1),Y=qy(G,2),X=Y[0],$=Y[1],Z=Sw.useRef(null),J=fF.useSDKSettings(),ee=J.lang,te=J.assetRoot,re=J.customUrls,ne=iK.useApiClient({apiCredentials:x}),ie=ne.apiClient,oe=n===H5.ACTIVE,ae=Sw.useReducer((function(e){return e+1}),0),se=qy(ae,2),ce=(se[0],se[1]),ue=Sw.useRef(null),le=Sw.useRef(!1),fe=Sw.useState(!1),de=qy(fe,2),pe=de[0],he=de[1],ge=Sw.useRef({}),me=KF.useSDKTracking(),ve=me.sendEvent,ye=Sw.useRef(null);null===ye.current&&(ye.current=DV.initFaceVerificationData({assetRoot:te,customInstructions:c,customIcon:u,customDirectionIcon:l,customStepTimeConstraints:d}));var be=Sw.useState(),we=qy(be,2),Ce=we[0],Ee=we[1],ke=Sw.useMemo((function(){return X0(Ee,500)}),[Ee]),Se=Sw.useRef([]),_e=Sw.useRef(),Ae=Sw.useRef(),Te=m5({livenessSettings:w,apiClient:ie,apiCheck:r,onError:h}),xe=Te.face_tracking_setting,Ie=Te.flow_interval_time_ms,Be=Te.limit_time_liveness_check,Re=Te.terminate_if_no_face,Pe=Te.captureFrameSettings,Ne=void 0===Pe?b:Pe,Oe=Te.enableTracking,De=Sw.useMemo((function(){return X0((function(e){r&&!Oe||null==e||!e.event||(ve(e),j(e))}),2e3)}),[r,Oe,ve,j]),Le=Sw.useRef(0),Me=Sw.useRef();Sw.useEffect((function(){De({tag:"selfie",event:null==Y5?void 0:Y5.start_camera,log:{}})}),[De]),Sw.useEffect((function(){var e=!1;function t(){return(t=_y(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(pe){t.next=13;break}return Ae.current=performance.now(),t.next=4,U5(re);case 4:return ge.current=t.sent,t.next=7,RK.initTensorFlow({preferredBackends:["wasm","webgl","cpu"]});case 7:if(!e){t.next=9;break}return t.abrupt("return");case 9:he(!0),De({tag:"selfie",event:null==Y5?void 0:Y5.show_warmup,log:{}}),De({tag:"selfie",event:null==Y5?void 0:Y5.finish_load_model,log:{status:"success",time_in_ms:performance.now()-Ae.current}}),Ae.current=null;case 13:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!0}}),[pe,re,De]);var Ue=Sw.useCallback((function(){E(""),ye.current.curStepIndex=ye.current.steps.length,W(!1),setTimeout((function(){ye.current=DV.initFaceVerificationData({assetRoot:te,customInstructions:c,customIcon:u,customDirectionIcon:l}),_e.current=Date.now(),Le.current=0,Me.current=null,Se.current=[],$(!1),F5(),ce()}),Ie)}),[te,c,u,l,Ie,E]),je=Sw.useRef(null),Fe=Sw.useMemo((function(){return Py(Py({},W5),_)}),[_]),Ve=Sw.useMemo((function(){return Py(Py({},G5),A)}),[A]),ze=400;Sw.useEffect((function(){if(z&&Be.enable&&X){_e.current=Date.now();var e=Be.limit_time_second+1,t=Be.remain_time_show||10,r=Be.format||"s";je.current=setInterval((function(){var n=Math.round((1e3*e-(Date.now()-_e.current))/1e3);if(ye.current.curStepIndex<ye.current.steps.length){if(n<=t&&n>=1){var i=H4(Ve.REMAIN_TIME[ee]),o=n;switch(r){case"mm:ss":o=n.toString().padStart(5,"00:00");break;case"ss":o=n.toString().padStart(2,"0")}E(i({x:o}))}if(Math.round((Date.now()-_e.current)/1e3)===e){var a,s={};Object.keys(null===(a=Fe.liveness_terminated_time_out)||void 0===a?void 0:a.msg).forEach((function(e){var t,r=H4(null===(t=Fe.liveness_terminated_time_out)||void 0===t?void 0:t.msg[e]);s[e]=r({x:Be.limit_time_second})})),Ee(Py(Py({},Fe.liveness_terminated_time_out),{},{msg:s,duration:Ie})),De({tag:"selfie",event:null==Y5?void 0:Y5.show_alert,log:{alert:"liveness_terminated_time_out,"}}),Ue()}}}),1e3)}return function(){clearInterval(je.current)}}),[Ue,E,z,ee,Ie,Be.enable,Be.limit_time_second,X,Fe.liveness_terminated_time_out,Ve.REMAIN_TIME,Be.format,Be.remain_time_show,De]);var Ke=Sw.useCallback((function(e){var t,r,n=e.clientWidth,o=e.clientHeight,c=e.videoAreaWidth,u=e.videoAreaHeight,l=e.lostX,f=e.lostY;eJ.isMobile?r=t=c:t=r=u-200;var d=Math.floor((c-t)/2)+l,p=5+f,h=i;ue.current={x:d,y:p,width:t,height:r,image:h,surroundStyle:a},"object"===ky(s)?ue.current=Py(Py({},ue.current),s):"function"==typeof s&&(ue.current=Py(Py({},ue.current),s({clientWidth:n,clientHeight:o,videoAreaWidth:c,videoAreaHeight:u,lostX:l,lostY:f,isMobile:eJ.isMobile,width:t,height:r}))),ce(),K(!0)}),[i,a,s]),qe=Sw.useState($5),He=qy(qe,2),Qe=He[0],We=He[1],Ge=Sw.useState(!1),Ye=qy(Ge,2),Xe=Ye[0],$e=Ye[1],Ze=Sw.useRef(!1),Je=Sw.useCallback((function(e){$e(e),Ze.current=e}),[]),et=Sw.useRef(null),tt=Sw.useRef([]),rt=Sw.useCallback((function(){We($5),clearInterval(et.current),Je(!0);var e=function(){var e=_y(regeneratorRuntime.mark((function e(t){var n,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t-1!=0){e.next=9;break}return clearInterval(et.current),n=tt.current,S(),i=n.map((function(e){return qz.resizeBlobImg(e.blob,ze,ze)})),e.next=7,Promise.all(i);case 7:o=e.sent,r?(a=Hy(Se.current),s=n.map((function(e,t){return ie.uploadImage({file:o[t],label:"portrait",metadata:JSON.stringify({gesture_score:e.leftRightScore,gesture:Q5.FRONTAL})})})),Promise.all(s).then((function(e){return ie.verifyFaceLiveness({images:e.map((function(e){return{id:e.data.image_id}})),videos:[{frames:a}]})})).then((function(e){p({apiCheckPassed:e.data.is_live,verifyFaceLivenessResult:e.data})})).catch((function(e){h({error:e})}))):p({frontalFaces:o,capturedFrames:Se.current});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();et.current=setInterval((function(){We((function(t){return e(t),t-1}))}),1e3)}),[Je,r,p,ie,h,S]);Sw.useEffect((function(){Ce&&(clearInterval(et.current),Je(!1),tt.current=[])}),[Ce,Je]),Sw.useEffect((function(){var e,t=Z.current,n=function(){var e=_y(regeneratorRuntime.mark((function e(){var t,r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ye.current.steps,r=[],t.forEach((function(e){var t=e.name,n=e.image,i=e.frontalFaceImage;if(t!==Q5.FRONTAL){var o={label:"portrait",metadata:JSON.stringify({gesture_score:n.leftRightScore,gesture:t})};N&&N.key?r.push(ie.httpClient.post("/v1/images",Py({base64:n.encrypted.hex},o),{"X-TV-Key":N.key})):r.push(ie.uploadImage(Py({file:n.blob},o)))}else r.push(Promise.resolve({data:{image_id:null}}));if(i.blob){var a={label:"portrait",metadata:JSON.stringify({gesture_score:i.leftRightScore,gesture:Q5.FRONTAL})};N&&N.key?r.push(ie.httpClient.post("/v1/images",Py({base64:i.encrypted.hex},a),{"X-TV-Key":N.key})):r.push(ie.uploadImage(Py({file:i.blob},a)))}else r.push(Promise.resolve({data:{image_id:null}}))})),e.next=5,Promise.all(r);case 5:n=e.sent,t.forEach((function(e,t){e.image.imageId=n[2*t].data.image_id,e.frontalFaceImage.imageId=n[2*t+1].data.image_id}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),a=function(){var e=_y(regeneratorRuntime.mark((function e(){var t,r,i,o,a,s,c,u,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n();case 3:if(t=ye.current.steps,0!==(r=t.filter((function(e){return e.frontalFaceImage.imageId}))).length){e.next=9;break}p({error:"wrong_face_movement"}),e.next=26;break;case 9:return e.next=11,z5();case 11:if(i=K5(Ne)){e.next=16;break}p({error:"network_error"}),e.next=26;break;case 16:return o=ie.verifyFaceLiveness({images:r.map((function(e){return{id:e.frontalFaceImage.imageId}})),gesture_images:t.filter((function(e){return e.image.imageId&&e.name!==Q5.FRONTAL})).map((function(e){return{gesture:e.name,images:[{id:e.image.imageId}]}})),videos:i}),a=ie.requestVerifyPortrait({image:{id:r[r.length-1].frontalFaceImage.imageId}}),e.next=20,Promise.all([o,a]);case 20:s=e.sent,c=qy(s,2),u=c[0],l=c[1],f=!0===u.data.is_live,p({apiCheckPassed:f,verifyFaceLivenessResult:u.data,verifyFacePortraitResult:l.data,frontalFaces:r.map((function(e){return{id:e.frontalFaceImage.imageId,blob:e.frontalFaceImage.blob}})),steps:t.filter((function(e){return e.image.imageId&&e.name!==Q5.FRONTAL})).map((function(e){var t=e.name,r=e.image;return{name:t,blob:r.blob,id:r.imageId}}))});case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),h({error:e.t0});case 31:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=_y(regeneratorRuntime.mark((function e(){var t,r,n,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=ye.current.steps,r=[],t.map((function(e){return r.push({name:e.name,blob:e.image.blob}),e.frontalFaceImage.blob&&r.push({name:e.name,blob:e.frontalFaceImage.blob}),0})),n=r.map((function(e){return qz.resizeBlobImg(e.blob,ze,ze)})),e.next=6,Promise.all(n);case 6:return i=e.sent,o=r.map((function(e,t){return{name:e.name,blob:i[t]}})),e.next=10,Promise.all(t.map(function(){var e=_y(regeneratorRuntime.mark((function e(r,n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=o.filter((function(e){return e.name===r.name})),t[n].image.blob=i[0].blob,r.frontalFaceImage.blob&&(t[n].frontalFaceImage.blob=i[1].blob),!N||!N.key){e.next=12;break}return a=N.key,e.next=7,DK.encrypt({blob:i[0].blob,key:a});case 7:if(t[n].image.encrypted=e.sent,!r.frontalFaceImage.blob){e.next=12;break}return e.next=11,DK.encrypt({blob:i[1].blob,key:a});case 11:t[n].frontalFaceImage.encrypted=e.sent;case 12:return e.abrupt("return",0);case 13:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=_y(regeneratorRuntime.mark((function e(){var t,n,i,o,c,u,l,f,d,h,m,v,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ye.current.steps,i=n[ye.current.curStepIndex],Iy(t={},oL.FaceDirection.UP,null==Y5?void 0:Y5.capture_up_face),Iy(t,oL.FaceDirection.LEFT,null==Y5?void 0:Y5.capture_left_face),Iy(t,oL.FaceDirection.RIGHT,null==Y5?void 0:Y5.capture_right_face),Iy(t,oL.FaceDirection.FRONTAL,null==Y5?void 0:Y5.capture_frontal_face),De({tag:"selfie",event:t[i.name],log:{time_capture_in_seconds:((performance.now()-Ae.current)/1e3).toFixed(1)}}),ye.current.curStepIndex++,Ae.current=performance.now(),xe.enable&&"each_gesture"===xe.limit_for&&(Le.current=0),ye.current.curStepIndex!==n.length){e.next=37;break}if(Be.enable&&E(""),!p){e.next=37;break}return Ne.enable&&Ne.framesBatchLength>0&&Se.current.length%Ne.framesBatchLength>0&&(B(Se.current.slice(Se.current.length%Ne.framesBatchLength*-1).map((function(e){return{base64:e.base64,label:e.label,index:e.index}}))),r&&V5(Se.current.slice(Se.current.length%Ne.framesBatchLength*-1),ie)),De({tag:"selfie",event:null==Y5?void 0:Y5.finish_capture,log:{time_capture_in_seconds:((Date.now()-_e.current)/1e3).toFixed(1)}}),S(),e.next=15,s();case 15:if(r){e.next=35;break}if(f=n.filter((function(e){return e.name!==Q5.FRONTAL})).map((function(e){return{name:e.name,image:{blob:e.image.blob,encrypted:e.image.encrypted}}})),d=n.filter((function(e){return e.name!==Q5.FRONTAL})).map((function(e){return e.frontalFaceImage.blob})).filter((function(e){return null!==e})),h=n.filter((function(e){return e.name!==Q5.FRONTAL})).map((function(e){return e.frontalFaceImage.encrypted})).filter((function(e){return e&&e.hex})),m=null===(o=n.find((function(e){return e.name===Q5.FRONTAL})))||void 0===o||null===(c=o.image)||void 0===c?void 0:c.blob,v=null===(u=n.find((function(e){return e.name===Q5.FRONTAL})))||void 0===u||null===(l=u.image)||void 0===l?void 0:l.encrypted,!m||!g){e.next=27;break}return e.next=24,qz.scaleImage(m,{minSize:g});case 24:e.t0=e.sent,e.next=28;break;case 27:e.t0=null;case 28:y=e.t0,m&&d.push(m),v&&h.push(v),De({tag:"result",event:null==Y5?void 0:Y5.liveness_detection_done,log:{result_object:{steps:f,frontalFaces:d,frontalScaledImage:y}}}),p({steps:f,frontalFaces:d,frontalFacesEncrypted:h,frontalScaledImage:y,capturedFrames:Se.current}),e.next=37;break;case 35:return e.next=37,a();case 37:ce();case 38:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=W0((function(){var e=ye.current,t=e.curStepIndex,r=e.steps,n=r[t],i=null!==(null==n?void 0:n.image.blob),o=null!==(null==n?void 0:n.frontalFaceImage.blob),a=r.filter((function(e){return e.frontalFaceImage.blob})).length,s=!1;return i&&(o||![1].includes(t)||a>=1)?(le.current=!1,c(),s=!0):le.current=!(!i||o),W(!1),s}),v);function l(e,t,r,n){return f.apply(this,arguments)}function f(){return(f=_y(regeneratorRuntime.mark((function e(t,r,n,i){var o,a,s,l,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=ye.current,a=o.curStepIndex,s=o.steps,!(a<s.length)){e.next=24;break}if(l=s[a],!v5({faceDirection:t,curStep:l})){e.next=5;break}return e.abrupt("return");case 5:if(t!==Q5.FRONTAL||null!==l.frontalFaceImage.blurScore&&!yV.hasBetterBlurScore(n,l.frontalFaceImage.blurScore)){e.next=13;break}return l.frontalFaceImage.blurScore=n,e.next=9,wV.takePicture({canvas:r});case 9:f=e.sent,l.frontalFaceImage.blob=f,l.frontalFaceImage.leftRightScore=i,le.current&&(le.current=!1,c());case 13:if(l.name!==t||null!==l.image.blurScore&&!yV.hasBetterBlurScore(n,l.image.blurScore)){e.next=24;break}return W(!0),l.image.blurScore=n,e.next=18,wV.takePicture({canvas:r});case 18:d=e.sent,l.image.blob=d,l.image.leftRightScore=i,l.image.objUrl&&URL.revokeObjectURL(l.image.objUrl),l.image.objUrl=URL.createObjectURL(d),u();case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(e,t,r){return m.apply(this,arguments)}function m(){return(m=_y(regeneratorRuntime.mark((function e(t,r,n){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!0===Ze.current&&t===Q5.FRONTAL&&tt.current.length<Z5)){e.next=5;break}return e.next=3,wV.takePicture({canvas:r});case 3:i=e.sent,tt.current.push({blob:i,leftRightScore:n});case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e,t,n,i){if(Se.current.length&&Date.now()-Se.current[Se.current.length-1].time<Ne.framesIntervalTime)return null;if(Ne.enable&&!i){var o=e.topLeft,a=e.bottomRight,s=[].concat(Hy(o),Hy(a)),c=[];[o,a].forEach((function(e){c=[].concat(Hy(c),[e[0]/jV.SIZE*t.width,e[1]/jV.SIZE*t.height])}));var u=q5(e,0===Se.current.length),l=u.score,f=u.time,d=t.toDataURL("image/jpeg",.8);return Se.current.push({label:"portrait",base64:d.split(",")[1],landmarks:n,original_landmarks:n.map((function(e){return[e[0]/jV.SIZE*t.width,e[1]/jV.SIZE*t.height]})),score:l,time:f,index:Se.current.length,bbox:s,original_bbox:c}),Ne.framesBatchLength>0&&Se.current.length%Ne.framesBatchLength==0&&B&&(B(Se.current.slice(-Ne.framesBatchLength).map((function(e){return{base64:e.base64,label:e.label,index:e.index}}))),r&&V5(Se.current.slice(-Ne.framesBatchLength),ie,Se.current.length===Ne.framesBatchLength)),l}return null}function b(e){if(!xe.enable||null===e||!X)return!0;var t=xe.web_warning_threshold,r=xe.web_terminate_threshold,n=xe.max_warning_time;return e<t||(e<r&&Le.current<n?(Le.current++,Le.current===n?(Ee(Py(Py({},Fe.liveness_terminated_face_tracking),{},{duration:Ie})),De({tag:"selfie",event:null==Y5?void 0:Y5.show_alert,log:{alert:"liveness_terminated_face_tracking"}})):Ee(Py(Py({},Fe.liveness_too_fast),{},{duration:1500})),!0):(Ee(Py(Py({},Fe.liveness_terminated),{},{duration:Ie})),De({tag:"selfie",event:null==Y5?void 0:Y5.show_alert,log:{alert:"liveness_terminated"}}),Ue(),!1))}function w(e){if(Re.enable&&X){var t=Re.max_time_ms;Me.current&&e||(Me.current={time:Date.now(),frame:0}),e&&Me.current.frame++;var r=Me.current.time;e&&Date.now()-r>=t&&(Ee(Py(Py({},Fe.liveness_terminated_no_face),{},{duration:Ie})),De({tag:"selfie",event:null==Y5?void 0:Y5.show_alert,log:{alert:"liveness_terminated_no_face"}}),Ue())}}function C(e,t){return k.apply(this,arguments)}function k(){return(k=_y(regeneratorRuntime.mark((function r(n,a){var s,c,u,f,p,h,g,m,v,E,k,S,_,A,T,x,I,B,R,P,N;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(0!==(null==a?void 0:a.width)&&0!==(null==a?void 0:a.height)){r.next=2;break}return r.abrupt("return");case 2:return s=n.cropX,c=n.cropY,u=n.cropWidth,f=n.cropHeight,a.getContext("2d").drawImage(t,s,c,u,f,-(u*D-u)/2/D,-(f*D-f)/2/D,u,f),p=ge.current.blazefaceModel,r.next=8,yV.calculateBlurScore(a);case 8:return h=r.sent,r.next=11,jV.getModelPredictions({model:p,sCanvas:a});case 11:return g=r.sent,r.next=14,DV.validatePredictions({predictions:g,width:jV.SIZE,height:jV.SIZE});case 14:if(m=r.sent,v=m.error,E=m.fullFace,ue.current.image=i,S=null,_=null,A=null,T=ye.current,x=T.curStepIndex,I=T.steps,!E){r.next=29;break}return B=I[x],A=E.landmarks,r.next=27,DV.calculateFaceDirection({landmarks:A,getPerfectFrontal:B&&B.name===Q5.FRONTAL});case 27:(R=r.sent)&&(S=R.gesture,_=R.leftRightScore);case 29:if(P="no_face"===(null==v?void 0:v.code)||"partial_face"===(null==v?void 0:v.code),N=x<I.length,w(P&&N),null!=v&&v.code&&De({tag:"selfie",event:null==Y5?void 0:Y5.show_alert,log:{alert:v.code}}),v&&("face_too_small"!==v.code||![Q5.DOWN,Q5.UP,Q5.LEFT,Q5.RIGHT].includes(S))){r.next=54;break}if(oe||y(g[0],a,A),!oe){r.next=43;break}if(X||($(!0),Ae.current=performance.now(),_e.current=Date.now()),!b(y(g[0],a,A,x>=I.length))){r.next=41;break}return r.next=41,l(S,a,h,_);case 41:r.next=52;break;case 43:if(![Q5.LEFT,Q5.RIGHT].includes(S)){r.next=48;break}k=Fe.not_frontal_face,ue.current.image=o,r.next=52;break;case 48:if(v){r.next=52;break}return M&&!Ze.current&&0===tt.current.length&&setTimeout((function(){rt()}),500),r.next=52,d(S,a,_);case 52:r.next=55;break;case 54:x<I.length&&(k=Fe[v.code],ue.current.image=o);case 55:ke(k),e!==X5&&(e=requestAnimationFrame((function(){return C(n,a)})));case 57:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function _(){return(_=_y(regeneratorRuntime.mark((function e(){var r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=wV.analyzeVideoAndWindowSizes(t,ue.current),n=r.cropWidth,i=r.cropHeight,(o=document.createElement("canvas")).width=n,o.height=i,(a=o.getContext("2d")).translate(n,0),a.scale(-1*D,1*D),C(r,o);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return z&&pe&&setTimeout((function(){!function(){_.apply(this,arguments)}()}),P),function(){cancelAnimationFrame(e),e=X5}}),[P,z,ee,oe,ie,r,i,o,p,h,g,v,Ne,S,xe,Be.enable,E,ke,Ie,Ue,Re,X,Fe,pe,De,B,N,D,rt,M]);var nt=ye.current,it=nt.curStepIndex,ot=nt.steps,at=Sw.useMemo((function(){return ot.find((function(e){return e.name===oL.FaceDirection.FRONTAL}))}),[ot]),st=le.current?at:ot[it],ct=st&&X?st.instructions[ee]:null,ut=st&&X?st.directionIcon:"",lt=st?st.directionIconAnimation:"";return{countdownToTakePicture:Qe,cropArea:ue,curStepIndex:it,directionIcon:ut,directionIconAnimation:lt,faceDetectionError:Ce,handleTriggerPassiveMode:rt,handleVideoPlayed:Ke,instructions:ct,isActiveMode:oe,refVideo:Z,showCountdown:Xe,steps:ot,videoPlayed:z,activeCapturing:Q,isFirstValidFrameFound:X,warmupDone:pe}}var e8=(Iy(R5={},oL.FaceDirection.LEFT,90),Iy(R5,oL.FaceDirection.RIGHT,270),Iy(R5,oL.FaceDirection.UP,180),Iy(R5,oL.FaceDirection.DOWN,0),R5),t8=f_(["0%{opacity:0.15;}50%{opacity:0.3;}100%{opacity:1;}"]),r8=c_.div(P5||(P5=Ky(["\n  width: 200px;\n  height: 200px;\n  position: relative;\n  transform: scale(0.48);\n\n  .top,\n  .right,\n  .bottom,\n  .left {\n    position: absolute;\n  }\n\n  .top {\n    top: 0;\n    left: 50%;\n    transform: rotate(","deg) translateX(-50%);\n  }\n\n  .right {\n    right: 0;\n    top: 50%;\n    transform: rotate(","deg) translateX(-50%);\n  }\n\n  .bottom {\n    bottom: 0;\n    left: 50%;\n    transform: rotate(","deg) translateX(50%);\n  }\n\n  .left {\n    left: 0;\n    top: 50%;\n    transform: rotate(","deg) translateX(50%);\n  }\n"])),e8[oL.FaceDirection.DOWN],e8[oL.FaceDirection.LEFT],e8[oL.FaceDirection.UP],e8[oL.FaceDirection.RIGHT]),n8=c_.div(N5||(N5=Ky(["\n  width: 70px;\n  transform: rotate(","deg);\n"])),(function(e){var t,r=e.direction;return null!==(t=e8[r])&&void 0!==t?t:0})),i8=c_.span(O5||(O5=Ky(["\n  display: flex;\n  margin: 4px 0;\n  width: 100%;\n  height: 15px;\n  animation: "," 1s infinite;\n  animation-direction: alternate;\n\n  &::before,\n  &::after {\n    content: '';\n    height: 100%;\n    width: 50%;\n    background: rgba(255, 255, 255, 0.8);\n  }\n\n  &::before {\n    transform: skewY(32deg);\n  }\n\n  &::after {\n    width: 50%;\n    transform: skewY(-32deg);\n  }\n"])),t8),o8=c_(i8)(D5||(D5=Ky(["\n  animation-delay: 0s;\n"]))),a8=c_(i8)(L5||(L5=Ky(["\n  animation-delay: 0.5s;\n"]))),s8=c_(i8)(M5||(M5=Ky(["\n  animation-delay: 1s;\n"])));function c8(e){var t=e.type;return t!==oL.FaceDirection.FRONTAL?Sw.createElement(n8,{direction:t},Sw.createElement(o8,null),Sw.createElement(a8,null),Sw.createElement(s8,null)):Sw.createElement(r8,null,Sw.createElement(n8,{className:"top"},Sw.createElement(o8,null),Sw.createElement(a8,null),Sw.createElement(s8,null)),Sw.createElement(n8,{className:"right"},Sw.createElement(o8,null),Sw.createElement(a8,null),Sw.createElement(s8,null)),Sw.createElement(n8,{className:"bottom"},Sw.createElement(o8,null),Sw.createElement(a8,null),Sw.createElement(s8,null)),Sw.createElement(n8,{className:"left"},Sw.createElement(o8,null),Sw.createElement(a8,null),Sw.createElement(s8,null)))}c8.propTypes={type:SC.oneOf([oL.FaceDirection.LEFT,oL.FaceDirection.RIGHT,oL.FaceDirection.UP,oL.FaceDirection.FRONTAL])},c8.defaultProps={type:oL.FaceDirection.LEFT};var u8,l8=oL.ErrorDuration;function f8(e){var t=e.children,r=e.errorMsg,n=e.className;return Sw.isValidElement(t)?r?Sw.createElement("div",{className:n},Sw.cloneElement(t,{errorMsg:r})):null:r?Sw.createElement("div",{className:n},r):null}function d8(e){var t=e.children,r=e.className,n=e.error,i=Sw.useRef(0),o=Sw.useRef(""),a=fF.useSDKSettings().lang,s=Sw.useRef(l8.SHORT),c=n||{},u=c.msg,l=c.duration,f=void 0===l?l8.SHORT:l,d=null==u?void 0:u[a];return Date.now()-i.current>=s.current?(i.current=Date.now(),s.current=f,o.current=d,f8({children:t,errorMsg:d,className:r})):f8({children:t,errorMsg:o.current,className:r})}d8.propTypes={children:SC.node,className:SC.string},d8.defaultProps={className:""};var p8=c_.circle(u8||(u8=Ky(["\n  transition: stroke-dashoffset 0.4s;\n  transform: rotate(-90deg);\n  transform-origin: 50% 50%;\n"])));function h8(e){var t=e.className,r=e.style,n=e.radius,i=e.strokeWidth,o=e.progress,a=e.hasError,s=e.activeColor,c=e.innerPadding,u=e.outsideRingColor,l=e.outsideRingOpacity,f=e.insideRingColor,d=e.insideRingWidth,p=e.insideRingStrokeDash,h=e.errorRingWidth,g=e.errorRingColor,m=e.dashedRingColor,v=e.dashedRingOpacity,y=e.dashedRingWidth,b=e.dashedRingLineThick,w=e.dashedRingLineSpacing,C=e.dashedInsideRingColor,E=e.dashedInsideRingWidth,k=e.showOutsideRing,S=e.showInsideRing,_=e.showDashedRing,A=2*n,T=2*n,x=n-2*i,I=2*Math.PI*x,B=I-o/100*I,R=x-y/2-i/2-c,P=2*Math.PI*R,N=P-o/100*P,O=R-E/2-y/2,D=2*Math.PI*O,L=D-o/100*D,M=O-d/2-E/2,U=O-h/2-E/2;return Sw.createElement("svg",{className:t,style:r,width:A,height:T,viewBox:"0 0 ".concat(A," ").concat(T),fill:"none",xmlns:"http://www.w3.org/2000/svg"},k?Sw.createElement(Sw.Fragment,null,Sw.createElement("circle",{"data-testid":"outsideRing",opacity:l,cx:n,cy:n,r:x,stroke:u}),Sw.createElement(p8,{"data-testid":"outsideAnimateRing",cx:n,cy:n,r:x,stroke:s,strokeWidth:i,strokeLinecap:"round",strokeDasharray:"".concat(I," ").concat(I),style:{strokeDashoffset:B}})):null,_?Sw.createElement(Sw.Fragment,null,Sw.createElement("circle",{"data-testid":"dashedRing",opacity:v,cx:n,cy:n,r:R,stroke:m,strokeWidth:y,strokeDasharray:"".concat(b," ").concat(w)}),Sw.createElement("mask",{id:"mask0","mask-type":"alpha",maskUnits:"userSpaceOnUse"},Sw.createElement("circle",{cx:n,cy:n,r:R,stroke:s,strokeWidth:y,strokeDasharray:"".concat(b," ").concat(w)})),Sw.createElement("g",{mask:"url(#mask0)"},Sw.createElement(p8,{"data-testid":"dashedAnimateRing",cx:n,cy:n,r:R,stroke:s,strokeWidth:y,strokeDasharray:"".concat(P," ").concat(P),style:{strokeDashoffset:N}})),Sw.createElement("circle",{"data-testid":"dashedInsideRing",opacity:v,cx:n,cy:n,r:O,stroke:C,strokeWidth:E}),Sw.createElement(p8,{"data-testid":"dashedInsideAnimateRing",cx:n,cy:n,r:O,stroke:s,strokeWidth:E,strokeLinecap:"round",strokeDasharray:"".concat(D," ").concat(D),style:{strokeDashoffset:L}})):null,S?Sw.createElement("circle",{"data-testid":"insideRing",strokeDasharray:p,cx:n,cy:n,r:M,stroke:f,strokeWidth:d}):null,a?Sw.createElement("circle",{"data-testid":"errorRing",strokeDasharray:p,cx:n,cy:n,r:U,stroke:g,strokeWidth:h}):null)}function g8(e){var t=e.className;return Sw.createElement("svg",{className:t,width:"320",height:"320",viewBox:"0 0 320 320",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Sw.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M320 0H0V320H320V0ZM160 296C235.111 296 296 235.111 296 160C296 84.8893 235.111 24 160 24C84.8893 24 24 84.8893 24 160C24 235.111 84.8893 296 160 296Z",fill:"currentColor"}))}function m8(){return(m8=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}h8.propTypes={className:SC.string,style:SC.shape({}),radius:SC.number,strokeWidth:SC.number,progress:SC.number,hasError:SC.bool,activeColor:SC.string,innerPadding:SC.number,outsideRingColor:SC.string,outsideRingOpacity:SC.number,insideRingColor:SC.string,insideRingWidth:SC.number,insideRingStrokeDash:SC.string,errorRingColor:SC.string,errorRingWidth:SC.number,dashedRingColor:SC.string,dashedRingOpacity:SC.number,dashedRingWidth:SC.number,dashedRingLineThick:SC.number,dashedRingLineSpacing:SC.number,dashedInsideRingColor:SC.string,dashedInsideRingWidth:SC.number,showOutsideRing:SC.bool,showDashedRing:SC.bool,showInsideRing:SC.bool},h8.defaultProps={className:"",style:null,radius:160,strokeWidth:3,progress:0,hasError:!1,activeColor:"#0092ff",innerPadding:5,outsideRingColor:"#f2f6f9",outsideRingOpacity:.1,insideRingColor:"#f2f6f9",insideRingWidth:3,insideRingStrokeDash:"0",errorRingColor:"#df0000",errorRingWidth:3,dashedRingColor:"#ffffff",dashedRingOpacity:.3,dashedRingWidth:10,dashedRingLineThick:1,dashedRingLineSpacing:6,dashedInsideRingColor:"#ffffff",dashedInsideRingWidth:0,showOutsideRing:!0,showDashedRing:!0,showInsideRing:!0},g8.propTypes={className:SC.string},g8.defaultProps={className:""};var v8,y8,b8=function(e,t){void 0===t&&(t=!0),Sw.useEffect((function(){if(t){var r=function(t){"Escape"===t.key&&e(t)};return document.addEventListener("keyup",r),function(){t&&document.removeEventListener("keyup",r)}}}),[e,t])},w8=function(e,t){void 0===t&&(t=!0),Sw.useEffect((function(){if(t){var r=function(){e()};return window.addEventListener("resize",r),function(){t&&window.removeEventListener("resize",r)}}}),[e,t])},C8=function(e,t,r){void 0===r&&(r=!0),Sw.useEffect((function(){if(r){var n=function(r){var n=Array.isArray(e)?e:[e],i=!1;n.forEach((function(e){e.current&&!e.current.contains(r.target)||(i=!0)})),r.stopPropagation(),i||t(r)};return document.addEventListener("mousedown",n),document.addEventListener("touchstart",n),function(){r&&(document.removeEventListener("mousedown",n),document.removeEventListener("touchstart",n))}}}),[e,t,r])},E8=function(e,t){void 0===t&&(t=!0),Sw.useEffect((function(){if(t){var r=function(t){if(9===t.keyCode){var r,n=null==e||null===(r=e.current)||void 0===r?void 0:r.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),i=Array.prototype.slice.call(n);if(1===i.length)return void t.preventDefault();var o=i[0],a=i[i.length-1];t.shiftKey&&document.activeElement===o?(t.preventDefault(),a.focus()):document.activeElement===a&&(t.preventDefault(),o.focus())}};return document.addEventListener("keydown",r),function(){t&&document.removeEventListener("keydown",r)}}}),[e,t])},k8="undefined"!=typeof window?Sw.useLayoutEffect:Sw.useEffect,S8={popupContent:{tooltip:{position:"absolute",zIndex:999},modal:{position:"relative",margin:"auto"}},popupArrow:{height:"8px",width:"16px",position:"absolute",background:"transparent",color:"#FFF",zIndex:-1},overlay:{tooltip:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",zIndex:999},modal:{position:"fixed",top:"0",bottom:"0",left:"0",right:"0",display:"flex",zIndex:999}}},_8=["top left","top center","top right","right top","right center","right bottom","bottom left","bottom center","bottom right","left top","left center","left bottom"],A8=function(e,t,r,n,i){var o=i.offsetX,a=i.offsetY,s=n?8:0,c=r.split(" "),u=e.top+e.height/2,l=e.left+e.width/2,f=t.height,d=t.width,p=u-f/2,h=l-d/2,g="",m="0%",v="0%";switch(c[0]){case"top":p-=f/2+e.height/2+s,g="rotate(180deg)  translateX(50%)",m="100%",v="50%";break;case"bottom":p+=f/2+e.height/2+s,g="rotate(0deg) translateY(-100%) translateX(-50%)",v="50%";break;case"left":h-=d/2+e.width/2+s,g=" rotate(90deg)  translateY(50%) translateX(-25%)",v="100%",m="50%";break;case"right":h+=d/2+e.width/2+s,g="rotate(-90deg)  translateY(-150%) translateX(25%)",m="50%"}switch(c[1]){case"top":p=e.top,m=e.height/2+"px";break;case"bottom":p=e.top-f+e.height,m=f-e.height/2+"px";break;case"left":h=e.left,v=e.width/2+"px";break;case"right":h=e.left-d+e.width,v=d-e.width/2+"px"}return{top:p="top"===c[0]?p-a:p+a,left:h="left"===c[0]?h-o:h+o,transform:g,arrowLeft:v,arrowTop:m}},T8=function(e){var t={top:0,left:0,width:window.innerWidth,height:window.innerHeight};if("string"==typeof e){var r=document.querySelector(e);null!==r&&(t=r.getBoundingClientRect())}return t},x8=function(e,t,r,n,i,o){var a=i.offsetX,s=i.offsetY,c={arrowLeft:"0%",arrowTop:"0%",left:0,top:0,transform:"rotate(135deg)"},u=0,l=T8(o),f=Array.isArray(r)?r:[r];for((o||Array.isArray(r))&&(f=[].concat(f,_8));u<f.length;){var d={top:(c=A8(e,t,f[u],n,{offsetX:a,offsetY:s})).top,left:c.left,width:t.width,height:t.height};if(!(d.top<=l.top||d.left<=l.left||d.top+d.height>=l.top+l.height||d.left+d.width>=l.left+l.width))break;u++}return c},I8=0,B8=function(){var e=document.getElementById("popup-root");return null===e&&((e=document.createElement("div")).setAttribute("id","popup-root"),document.body.appendChild(e)),e},R8=Sw.forwardRef((function(e,t){var r=e.trigger,n=void 0===r?null:r,i=e.onOpen,o=void 0===i?function(){}:i,a=e.onClose,s=void 0===a?function(){}:a,c=e.defaultOpen,u=void 0!==c&&c,l=e.open,f=void 0===l?void 0:l,d=e.disabled,p=void 0!==d&&d,h=e.nested,g=void 0!==h&&h,m=e.closeOnDocumentClick,v=void 0===m||m,y=e.repositionOnResize,b=void 0===y||y,w=e.closeOnEscape,C=void 0===w||w,E=e.on,k=void 0===E?["click"]:E,S=e.contentStyle,_=void 0===S?{}:S,A=e.arrowStyle,T=void 0===A?{}:A,x=e.overlayStyle,I=void 0===x?{}:x,B=e.className,R=void 0===B?"":B,P=e.position,N=void 0===P?"bottom center":P,O=e.modal,D=void 0!==O&&O,L=e.lockScroll,M=void 0!==L&&L,U=e.arrow,j=void 0===U||U,F=e.offsetX,V=void 0===F?0:F,z=e.offsetY,K=void 0===z?0:z,q=e.mouseEnterDelay,H=void 0===q?100:q,Q=e.mouseLeaveDelay,W=void 0===Q?100:Q,G=e.keepTooltipInside,Y=void 0!==G&&G,X=e.children,$=Sw.useState(f||u),Z=$[0],J=$[1],ee=Sw.useRef(null),te=Sw.useRef(null),re=Sw.useRef(null),ne=Sw.useRef(null),ie=Sw.useRef("popup-"+ ++I8),oe=!!D||!n,ae=Sw.useRef(0);k8((function(){return Z?(ne.current=document.activeElement,me(),ge(),pe()):he(),function(){clearTimeout(ae.current)}}),[Z]),Sw.useEffect((function(){"boolean"==typeof f&&(f?se():ce())}),[f,p]);var se=function(e){Z||p||(J(!0),setTimeout((function(){return o(e)}),0))},ce=function(e){var t;Z&&!p&&(J(!1),oe&&(null===(t=ne.current)||void 0===t||t.focus()),setTimeout((function(){return s(e)}),0))},ue=function(e){null==e||e.stopPropagation(),Z?ce(e):se(e)},le=function(e){clearTimeout(ae.current),ae.current=setTimeout((function(){return se(e)}),H)},fe=function(e){null==e||e.preventDefault(),ue()},de=function(e){clearTimeout(ae.current),ae.current=setTimeout((function(){return ce(e)}),W)},pe=function(){oe&&M&&(document.getElementsByTagName("body")[0].style.overflow="hidden")},he=function(){oe&&M&&(document.getElementsByTagName("body")[0].style.overflow="auto")},ge=function(){var e,t=null==te||null===(e=te.current)||void 0===e?void 0:e.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]'),r=Array.prototype.slice.call(t)[0];null==r||r.focus()};Sw.useImperativeHandle(t,(function(){return{open:function(){se()},close:function(){ce()},toggle:function(){ue()}}}));var me=function(){if(!oe&&Z&&(null==ee?void 0:ee.current)&&(null==ee?void 0:ee.current)&&(null==te?void 0:te.current)){var e,t,r=ee.current.getBoundingClientRect(),n=te.current.getBoundingClientRect(),i=x8(r,n,N,j,{offsetX:V,offsetY:K},Y);if(te.current.style.top=i.top+window.scrollY+"px",te.current.style.left=i.left+window.scrollX+"px",j&&re.current)re.current.style.transform=i.transform,re.current.style.setProperty("-ms-transform",i.transform),re.current.style.setProperty("-webkit-transform",i.transform),re.current.style.top=(null===(e=T.top)||void 0===e?void 0:e.toString())||i.arrowTop,re.current.style.left=(null===(t=T.left)||void 0===t?void 0:t.toString())||i.arrowLeft}};b8(ce,C),E8(te,Z&&oe),w8(me,b),C8(n?[te,ee]:[te],ce,v&&!g);var ve=function(){return Sw.createElement("div",Object.assign({},(e=oe?S8.popupContent.modal:S8.popupContent.tooltip,t={className:"popup-content "+(""!==R?R.split(" ").map((function(e){return e+"-content"})).join(" "):""),style:m8({},e,_,{pointerEvents:"auto"}),ref:te,onClick:function(e){e.stopPropagation()}},!D&&k.indexOf("hover")>=0&&(t.onMouseEnter=le,t.onMouseLeave=de),t),{key:"C",role:oe?"dialog":"tooltip",id:ie.current}),j&&!oe&&Sw.createElement("div",{ref:re,style:S8.popupArrow},Sw.createElement("svg",{"data-testid":"arrow",className:"popup-arrow "+(""!==R?R.split(" ").map((function(e){return e+"-arrow"})).join(" "):""),viewBox:"0 0 32 16",style:m8({position:"absolute"},T)},Sw.createElement("path",{d:"M16 0l16 16H0z",fill:"currentcolor"}))),X&&"function"==typeof X?X(ce,Z):X);var e,t},ye=!(k.indexOf("hover")>=0),be=oe?S8.overlay.modal:S8.overlay.tooltip,we=[ye&&Sw.createElement("div",{key:"O","data-testid":"overlay","data-popup":oe?"modal":"tooltip",className:"popup-overlay "+(""!==R?R.split(" ").map((function(e){return e+"-overlay"})).join(" "):""),style:m8({},be,I,{pointerEvents:v&&g||oe?"auto":"none"}),onClick:v&&g?ce:void 0,tabIndex:-1},oe&&ve()),!oe&&ve()];return Sw.createElement(Sw.Fragment,null,function(){for(var e={key:"T",ref:ee,"aria-describedby":ie.current},t=Array.isArray(k)?k:[k],r=0,i=t.length;r<i;r++)switch(t[r]){case"click":e.onClick=ue;break;case"right-click":e.onContextMenu=fe;break;case"hover":e.onMouseEnter=le,e.onMouseLeave=de;break;case"focus":e.onFocus=le,e.onBlur=de}if("function"==typeof n){var o=n(Z);return!!n&&Sw.cloneElement(o,e)}return!!n&&Sw.cloneElement(n,e)}(),Z&&rL.createPortal(we,B8()))})),P8=l_(v8||(v8=Ky(["\n  .popup-content {\n    margin: auto;\n    background: #fff;\n    width: 100%;\n    padding: 5px;\n    border: 1px solid #d7d7d7;\n    max-width: 568px;\n    border-radius: 10px;\n  }\n\n  [role=tooltip].popup-content {\n    width: 200px;\n    box-shadow: 0 0 3px rgba(0, 0, 0, .16);\n    border-radius: 5px\n  }\n\n  .popup-overlay {\n    background: rgba(0, 0, 0, .5);\n    padding: 10px;\n  }\n\n  [data-popup=tooltip].popup-overlay {\n    background: transparent\n  }\n\n  .popup-arrow {\n    -webkit-filter: drop-shadow(0 -3px 3px rgba(0, 0, 0, .16));\n    filter: drop-shadow(0 -3px 3px rgba(0, 0, 0, .16));\n    color: #fff;\n    stroke-width: 2px;\n    stroke: #d7d7d7;\n    stroke-dasharray: 30px;\n    stroke-dashoffset: -54px;\n    left: 0;\n    right: 0;\n    top: 0;\n    bottom: 0\n  }\n"]))),N8=["open","children","overlayStyle"],O8=PJ+1e3,D8=function(e){var t=e.open,r=e.children,n=e.overlayStyle,i=jy(e,N8);return Sw.createElement(Sw.Fragment,null,Sw.createElement(R8,By({overlayStyle:Py(Py({},n),{},{zIndex:O8}),closeOnDocumentClick:!1,closeOnEscape:!1,modal:!0,open:t},i),r),Sw.createElement(P8,null))};D8.propTypes={open:SC.bool,children:SC.node,overlayStyle:SC.shape({})},D8.defaultProps={open:!1,children:null,overlayStyle:{}};var L8,M8,U8,j8,F8,V8,z8,K8,q8,H8,Q8,W8,G8,Y8,X8,$8,Z8={WARMUP_INTRO:{en:"Warming up... Please wait a moment",vi:"Đang khởi động, vui lòng chờ trong giây lát..."}},J8=c_.div(y8||(y8=Ky(["\n  font-size: 18px;\n  text-align: center;\n  padding: 10px;\n"]))),e7=function(e){var t=e.contentStyle,r=fF.useSDKSettings(),n=r.lang,i=r.warmupMessage,o=i?i[n]:Z8.WARMUP_INTRO[n];return Sw.createElement(D8,{open:!0,contentStyle:t},Sw.createElement(J8,{className:"warmup-message"},o))};e7.propTypes={contentStyle:SC.shape({})},e7.defaultProps={contentStyle:{}};var t7=WS(["z-index:",";color:#ffffff;"],PJ+20),r7=c_.div(L8||(L8=Ky(["\n  ","\n"])),t7),n7=c_(d8)(M8||(M8=Ky(["\n  ","\n  ","\n  ","\n  ","\n  font-size: 18px;\n  background: #ea3223;\n  color: #fff;\n  padding: 5px 10px;\n  border-radius: 3px;\n  position: absolute;\n  white-space: pre-wrap;\n  text-align: center;\n  max-width: 80%;\n"])),t7,(function(e){var t=e.top;return t&&WS(["top:","px;"],t)}),(function(e){var t=e.bottom;return t&&WS(["bottom:","px;"],t)}),(function(e){return e.centerY&&WS(["top:50%;transform:translateY(-50%);"])})),i7=c_(r7)(U8||(U8=Ky(["\n  ","\n  font-size: 18px;\n  background: #ea3223;\n  color: #fff;\n  padding: 5px 10px;\n  border-radius: 3px;\n  position: absolute;\n  left: 50%;\n  transform: translate(-50%, 0);\n  white-space: nowrap;\n"])),(function(e){var t=e.top;return t&&WS(["top:","px;"],t)})),o7=c_(r7)(j8||(j8=Ky(["\n  position: absolute;\n  ","\n  ","\n  font-size: ",";\n  text-shadow: 2px 2px 4px #000000;\n"])),(function(e){var t=e.top;return t&&WS(["top:","px;"],t)}),(function(e){var t=e.bottom;return t&&WS(["bottom:","px;"],t)}),(function(){return eJ.isMobile?"20px":"22px"})),a7=c_.div(F8||(F8=Ky(["\n  height: ",";\n  position: absolute;\n  ","\n  ","\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: ",";\n"])),(function(){return eJ.isMobile?"50px":"70px"}),(function(e){var t=e.top;return t&&WS(["top:","px;"],t)}),(function(e){var t=e.bottom;return t&&WS(["bottom:","px;"],t)}),PJ+20),s7=c_.div(V8||(V8=Ky(["\n  width: ",";\n  height: ",";\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 2px solid #ffffff;\n  font-size: 16px;\n  color: #fff;\n  font-weight: 700;\n\n  & + & {\n    margin-left: 10px;\n  }\n\n  ","\n  img {\n    width: 100%;\n    margin: 0;\n    border-radius: 50%;\n  }\n"])),(function(){return eJ.isMobile?"40px":"50px"}),(function(){return eJ.isMobile?"40px":"50px"}),(function(e){return!e.active&&WS(["opacity:0.6;"])})),c7=c_.div(z8||(z8=Ky(["\n  color: #ffffff;\n  height: 70px;\n  position: absolute;\n  bottom: 0;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: ",";\n"])),PJ+20),u7=c_.div(K8||(K8=Ky(["\n  cursor: pointer;\n  text-align: center;\n  width: 50px;\n\n  img {\n    width: 100%;\n  }\n"]))),l7=c_.div(q8||(q8=Ky(["\n  position: absolute;\n  width: 100%;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #ffffff;\n  font-size: 140px;\n  opacity: 0.6;\n"]))),f7=c_.div(H8||(H8=Ky(["\n  position: absolute;\n  width: 100%;\n  top: 0;\n  bottom: 0;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n"]))),d7=c_(h8)(Q8||(Q8=Ky(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n"]))),p7=c_(g8)(W8||(W8=Ky(["\n  width: 100%;\n  height: 100%;\n  vertical-align: middle;\n  margin: 0;\n  color: ",";\n"])),(function(e){var t=e.color;return null!=t?t:"rgba(0, 0, 0, 0.6)"})),h7=c_.div(G8||(G8=Ky(["\n  position: absolute;\n  z-index: -1;\n  background: rgba(223, 0, 0, 0.2);\n  border-radius: 50%;\n  width: 86%;\n  height: 86%;\n  top: 7%;\n  left: 7%;\n"]))),g7=f_(["from{opacity:1;}to{opacity:0;}"]),m7=c_.div(Y8||(Y8=Ky(["\n  position: absolute;\n  width: 100%;\n  top: 0;\n  bottom: 0;\n  z-index: -1;\n  background: rgba(255, 255, 255, 0.3);\n  animation: "," 1s infinite;\n  border-radius: 50%;\n"])),g7),v7=eJ.isMobile?{width:{ideal:640}}:null,y7={background:"#000000",opacity:.6};function b7(e){var t=e.apiCheck,r=e.mode,n=e.onLivenessDetectionDone,i=e.onClose,o=e.onError,a=e.captureFrameSettings,s=e.onFramesCaptured,c=e.frontCamera,u=e.customDirectionIcon,l=e.customStepTimeConstraints,f=e.onProcessing,d=e.customErrors,p=e.livenessSettings,h=e.apiCredentials,g=e.outputEncryptionSettings,m=e.cameraScale,v=e.defaultCameraId,y=e.passiveModeAuto,b=e.offsetFaceY,w=QF.useAsset("bg_camera_mask.png"),C=QF.useAsset("bg_camera_mask_red.png"),E=qy(Sw.useState({}),2),k=E[0],S=E[1],_=k.yFaceDetectionError,A=k.yFaceVerificationStepsWrapper,T=qy(Sw.useState(""),2),x=T[0],I=T[1],B=Sw.useCallback((function(e){var t=e.lostY,r=e.height,n=e.clientHeight,i=t+25,a=i+30;S({yFaceDetectionError:i,yFaceVerificationStepsWrapper:a+r+20});var s=Math.floor(t),c=Math.floor(n-t),u=Math.floor(a);return u+b<s||u+b+r>c?o({code:"offsetFaceY must be in [-".concat(u-s,", ").concat(c-r-u,"]")}):u+=b,{y:u}}),[b,o]),R=J5({apiCheck:t,mode:r,bgCameraMask:w,bgCameraMaskRed:C,surroundStyle:y7,onLivenessDetectionDone:n,onError:o,cropAreaDimension:B,customDirectionIcon:u,captureFrameSettings:a,onFramesCaptured:s,livenessSettings:p,setRemainingTime:I,customStepTimeConstraints:l,onProcessing:f,customErrors:d,apiCredentials:h,outputEncryptionSettings:g,cameraScale:m,passiveModeAuto:y}),P=R.countdownToTakePicture,N=R.cropArea,O=R.curStepIndex,D=R.directionIcon,L=R.faceDetectionError,M=R.handleTriggerPassiveMode,U=R.handleVideoPlayed,j=R.instructions,F=R.isActiveMode,V=R.refVideo,z=R.showCountdown,K=R.steps,q=R.videoPlayed,H=R.activeCapturing,Q=R.isFirstValidFrameFound,W=R.warmupDone;return Sw.createElement(HJ,{frontCamera:c,onVideoPlayed:U,onClose:i,flipHorizontal:c,ref:V,videoSettings:v7,onError:o,scale:m,defaultCameraId:v},!W&&Sw.createElement(e7,null),q?Sw.createElement(Sw.Fragment,null,Sw.createElement(n7,{top:_-15,className:"face-detection-error",error:L}),N.current?Sw.createElement($J,{x:"".concat(N.current.x,"px"),y:"".concat(N.current.y,"px"),width:"".concat(N.current.width,"px"),height:"".concat(N.current.height,"px"),surroundStyle:N.current.surroundStyle},Sw.createElement(p7,null),Sw.createElement(d7,{progress:O/K.length*100,hasError:!!L,showDashedRing:!1,showOutsideRing:!1,insideRingWidth:1,errorRingWidth:1,insideRingStrokeDash:"2"}),z?Sw.createElement(l7,null,P):null,F?Sw.createElement(Sw.Fragment,null,Sw.createElement(f7,null,D),H&&Sw.createElement(m7,null)):null,L&&Sw.createElement(h7,null)):null,F?Sw.createElement(Sw.Fragment,null,x&&Sw.createElement(i7,{top:A-30},x),j?Sw.createElement(o7,{top:A+5,className:"instructions"},j):null,Q&&Sw.createElement(a7,{top:A+35},K.map((function(e,t){var r=e.name,n=e.image.objUrl;return Sw.createElement(s7,{key:r,active:O>=t,className:"step-item"},n?Sw.createElement("img",{src:n,alt:""}):Sw.createElement("span",null,t+1))})))):Sw.createElement(Sw.Fragment,null,L||y?null:Sw.createElement(c7,null,Sw.createElement(u7,{onClick:M},Sw.createElement(ZJ,null))))):null)}b7.propTypes={apiCheck:SC.bool,mode:SC.string,onLivenessDetectionDone:SC.func,onClose:SC.func,onError:SC.func,captureFrameSettings:SC.shape({}),onFramesCaptured:SC.func,frontCamera:SC.bool,customDirectionIcon:SC.shape({}),customStepTimeConstraints:SC.shape({}),onProcessing:SC.func,customErrors:SC.shape({}),livenessSettings:SC.shape({}),apiCredentials:SC.shape({accessKey:SC.string,secretKey:SC.string,apiUrl:SC.string}),outputEncryptionSettings:SC.shape({}),cameraScale:SC.number,defaultCameraId:SC.string,passiveModeAuto:SC.bool,offsetFaceY:SC.number},b7.defaultProps={apiCheck:!1,mode:null,onLivenessDetectionDone:null,onClose:null,onError:function(){},captureFrameSettings:{enable:!1,framesIntervalTime:180,framesBatchLength:0},onFramesCaptured:function(){},frontCamera:!0,customDirectionIcon:(X8={},Iy(X8,oL.FaceDirection.LEFT,Sw.createElement(c8,{type:oL.FaceDirection.LEFT})),Iy(X8,oL.FaceDirection.RIGHT,Sw.createElement(c8,{type:oL.FaceDirection.RIGHT})),Iy(X8,oL.FaceDirection.UP,Sw.createElement(c8,{type:oL.FaceDirection.UP})),Iy(X8,oL.FaceDirection.FRONTAL,Sw.createElement(c8,{type:oL.FaceDirection.FRONTAL})),X8),customStepTimeConstraints:($8={},Iy($8,oL.FaceDirection.UP,{delayTime:0}),Iy($8,oL.FaceDirection.LEFT,{delayTime:0}),Iy($8,oL.FaceDirection.RIGHT,{delayTime:0}),Iy($8,oL.FaceDirection.FRONTAL,{delayTime:2e3}),$8),onProcessing:function(){},customErrors:null,livenessSettings:null,apiCredentials:{accessKey:"5767c20d-87aa-4cad-8dbb-f5429f76c34b",secretKey:"c1446919-e60a-4575-a05d-304318212a1b",apiUrl:"https://tv-testing.trustingsocial.com/api"},outputEncryptionSettings:null,cameraScale:1,defaultCameraId:void 0,passiveModeAuto:!1,offsetFaceY:0};var w7,C7=Object.freeze({__proto__:null,Text:r7,FaceDetectionError:n7,CountdownTime:i7,FaceVerificationInstructions:o7,FaceVerificationStepsWrapper:a7,StepItem:s7,BottomButtonsOverlay:c7,Button:u7,CountDownOverlay:l7,InstructionsOverlay:f7,default:b7,useLivenessDetection:J5}),E7=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.frontCamera,r=void 0===t||t,n=document.createElement("div");document.body.appendChild(n);var i=function(){rL.unmountComponentAtNode(n)};return new Promise((function(e){rL.render(Sw.createElement(fF.SDKSettingsProvider,{value:{lang:"en"}},Sw.createElement(HJ,{checkCameraMode:!0,frontCamera:r,onVideoPlayed:function(){i(),e(null)},onClose:i,onError:function(t){i(),e(t)}})),n)}))},k7=c_.input(w7||(w7=Ky(["\n  display: none;\n"]))),S7=Sw.forwardRef((function(e,t){var r=e.useFileBrowse,n=e.accept,i=e.frontCamera,o=e.onCaptureDone,a=e.outputEncryptionSettings,s=Sw.useCallback(function(){var e=_y(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target.files,!o){e.next=8;break}if(n=r[0],!a||!a.key){e.next=7;break}return e.next=6,DK.encrypt({blob:n,key:a.key});case 6:i=e.sent;case 7:o({file:n,encrypted:i});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,a]);return Sw.createElement(k7,By({ref:t,type:"file",accept:n,onChange:s},r?{}:{capture:i?"user":"environment"}))}));S7.propTypes={useFileBrowse:SC.bool,accept:SC.string,frontCamera:SC.bool,onCaptureDone:SC.func,outputEncryptionSettings:SC.shape({key:SC.string})},S7.defaultProps={useFileBrowse:!1,accept:"image/*",frontCamera:!1,onCaptureDone:null,outputEncryptionSettings:{key:""}};var _7,A7={LANDSCAPE:"landscape",PORTRAIT:"portrait",DESKTOP:"desktop"},T7=function(){var e=Sw.useRef(screen.width>screen.height?A7.LANDSCAPE:A7.PORTRAIT),t=qy(Sw.useState(e.current),2),r=t[0],n=t[1];return Sw.useEffect((function(){function e(){screen.width>screen.heightt?n(A7.LANDSCAPE):n(A7.PORTRAIT)}return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),eJ.isMobile?{curOrientation:r,initOrientation:e.current}:{curOrientation:A7.DESKTOP}},x7=oL.Errors,I7=c_.div(_7||(_7=Ky(["\n  text-align: center;\n  font-size: 20px;\n  font-weight: 600;\n"])));function B7(e){var t=e.children,r=fF.useSDKSettings().lang,n=x7.wrong_orientation.msg[r],i=T7().curOrientation;return Sw.createElement(Sw.Fragment,null,i===A7.LANDSCAPE&&Sw.createElement(D8,{open:!0},Sw.createElement(I7,null,n)),(i===A7.PORTRAIT||i===A7.DESKTOP)&&Sw.createElement(Sw.Fragment,null,t))}var R7=["tracking","clientSettings","livenessSettings","livenessComponent"];function P7(e){var t=e.tracking,r=void 0===t?{enable:!0}:t,n=e.clientSettings,i=e.livenessSettings,o=e.livenessComponent,a=void 0===o?b7:o,s=jy(e,R7),c=h5(n,"data.settings.sdk_settings.active_liveness_settings",i),u=h5(n,"data.settings.sdk_settings.server_log_settings.enable",r.enable);return Sw.createElement(B7,null,Sw.createElement(KF.SDKTrackingProvider,{value:{tracking:Py(Py({},r),{},{enable:u})}},Sw.createElement(a,By({},s,{livenessSettings:c}))))}function N7(){return(N7=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function O7(e,t){if(null==e)return{};var r,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}function D7(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function L7(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}function M7(e,t){e.classList?e.classList.add(t):L7(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function U7(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function j7(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=U7(e.className,t):e.setAttribute("class",U7(e.className&&e.className.baseVal||"",t))}var F7={disabled:!1},V7=Sw.createContext(null),z7="unmounted",K7="exited",q7="entering",H7="entered",Q7="exiting",W7=function(e){function t(t,r){var n;n=e.call(this,t,r)||this;var i,o=r&&!r.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?o?(i=K7,n.appearStatus=q7):i=H7:i=t.unmountOnExit||t.mountOnEnter?z7:K7,n.state={status:i},n.nextCallback=null,n}D7(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===z7?{status:K7}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(e){var t=null;if(e!==this.props){var r=this.state.status;this.props.in?r!==q7&&r!==H7&&(t=q7):r!==q7&&r!==H7||(t=Q7)}this.updateStatus(!1,t)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var e,t,r,n=this.props.timeout;return e=t=r=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,r=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:r}},r.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===q7?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===K7&&this.setState({status:z7})},r.performEnter=function(e){var t=this,r=this.props.enter,n=this.context?this.context.isMounting:e,i=this.props.nodeRef?[n]:[rL.findDOMNode(this),n],o=i[0],a=i[1],s=this.getTimeouts(),c=n?s.appear:s.enter;!e&&!r||F7.disabled?this.safeSetState({status:H7},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:q7},(function(){t.props.onEntering(o,a),t.onTransitionEnd(c,(function(){t.safeSetState({status:H7},(function(){t.props.onEntered(o,a)}))}))})))},r.performExit=function(){var e=this,t=this.props.exit,r=this.getTimeouts(),n=this.props.nodeRef?void 0:rL.findDOMNode(this);t&&!F7.disabled?(this.props.onExit(n),this.safeSetState({status:Q7},(function(){e.props.onExiting(n),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:K7},(function(){e.props.onExited(n)}))}))}))):this.safeSetState({status:K7},(function(){e.props.onExited(n)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},r.setNextCallback=function(e){var t=this,r=!0;return this.nextCallback=function(n){r&&(r=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){r=!1},this.nextCallback},r.onTransitionEnd=function(e,t){this.setNextCallback(t);var r=this.props.nodeRef?this.props.nodeRef.current:rL.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(r&&!n){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},r.render=function(){var e=this.state.status;if(e===z7)return null;var t=this.props,r=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,O7(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return Sw.createElement(V7.Provider,{value:null},"function"==typeof r?r(e,n):Sw.cloneElement(Sw.Children.only(r),n))},t}(Sw.Component);function G7(){}W7.contextType=V7,W7.propTypes={},W7.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:G7,onEntering:G7,onEntered:G7,onExit:G7,onExiting:G7,onExited:G7},W7.UNMOUNTED=z7,W7.EXITED=K7,W7.ENTERING=q7,W7.ENTERED=H7,W7.EXITING=Q7;var Y7,X7,$7=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return M7(e,t)}))},Z7=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return j7(e,t)}))},J7=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,r){var n=t.resolveArguments(e,r),i=n[0],o=n[1];t.removeClasses(i,"exit"),t.addClass(i,o?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,r)},t.onEntering=function(e,r){var n=t.resolveArguments(e,r),i=n[0],o=n[1]?"appear":"enter";t.addClass(i,o,"active"),t.props.onEntering&&t.props.onEntering(e,r)},t.onEntered=function(e,r){var n=t.resolveArguments(e,r),i=n[0],o=n[1]?"appear":"enter";t.removeClasses(i,o),t.addClass(i,o,"done"),t.props.onEntered&&t.props.onEntered(e,r)},t.onExit=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"appear"),t.removeClasses(r,"enter"),t.addClass(r,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var r=t.resolveArguments(e)[0];t.addClass(r,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var r=t.resolveArguments(e)[0];t.removeClasses(r,"exit"),t.addClass(r,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,r){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,r]},t.getClassNames=function(e){var r=t.props.classNames,n="string"==typeof r,i=n?""+(n&&r?r+"-":"")+e:r[e];return{baseClassName:i,activeClassName:n?i+"-active":r[e+"Active"],doneClassName:n?i+"-done":r[e+"Done"]}},t}D7(t,e);var r=t.prototype;return r.addClass=function(e,t,r){var n=this.getClassNames(t)[r+"ClassName"],i=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===r&&i&&(n+=" "+i),"active"===r&&e&&e.scrollTop,n&&(this.appliedClasses[t][r]=n,$7(e,n))},r.removeClasses=function(e,t){var r=this.appliedClasses[t],n=r.base,i=r.active,o=r.done;this.appliedClasses[t]={},n&&Z7(e,n),i&&Z7(e,i),o&&Z7(e,o)},r.render=function(){var e=this.props,t=(e.classNames,O7(e,["classNames"]));return Sw.createElement(W7,N7({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(Sw.Component);function e9(e,t){return e!==t&&(!Sw.isValidElement(e)||!Sw.isValidElement(t)||null==e.key||e.key!==t.key)}J7.defaultProps={classNames:""},J7.propTypes={};var t9={out:"out-in",in:"in-out"},r9=function(e,t,r){return function(){var n;e.props[t]&&(n=e.props)[t].apply(n,arguments),r()}},n9=((Y7={})[t9.out]=function(e){var t=e.current,r=e.changeState;return Sw.cloneElement(t,{in:!1,onExited:r9(t,"onExited",(function(){r(q7,null)}))})},Y7[t9.in]=function(e){var t=e.current,r=e.changeState,n=e.children;return[t,Sw.cloneElement(n,{in:!0,onEntered:r9(n,"onEntered",(function(){r(q7)}))})]},Y7),i9=((X7={})[t9.out]=function(e){var t=e.children,r=e.changeState;return Sw.cloneElement(t,{in:!0,onEntered:r9(t,"onEntered",(function(){r(H7,Sw.cloneElement(t,{in:!0}))}))})},X7[t9.in]=function(e){var t=e.current,r=e.children,n=e.changeState;return[Sw.cloneElement(t,{in:!1,onExited:r9(t,"onExited",(function(){n(H7,Sw.cloneElement(r,{in:!0}))}))}),Sw.cloneElement(r,{in:!0})]},X7),o9=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).state={status:H7,current:null},t.appeared=!1,t.changeState=function(e,r){void 0===r&&(r=t.state.current),t.setState({status:e,current:r})},t}D7(t,e);var r=t.prototype;return r.componentDidMount=function(){this.appeared=!0},t.getDerivedStateFromProps=function(e,t){return null==e.children?{current:null}:t.status===q7&&e.mode===t9.in?{status:q7}:t.current&&e9(t.current,e.children)?{status:Q7}:{current:Sw.cloneElement(e.children,{in:!0})}},r.render=function(){var e,t=this.props,r=t.children,n=t.mode,i=this.state,o=i.status,a=i.current,s={children:r,current:a,changeState:this.changeState,status:o};switch(o){case q7:e=i9[n](s);break;case Q7:e=n9[n](s);break;case H7:e=a}return Sw.createElement(V7.Provider,{value:{isMounting:!this.appeared}},e)},t}(Sw.Component);o9.propTypes={},o9.defaultProps={mode:t9.out};var a9={DEFAULT:"default",ERROR:"error"};function s9(e){var t=e.className,r=e.width,n=e.height,i=e.type,o=e.strokeStyles,a=e.strokeWidth,s=e.radius,c=e.paddingStyle,u=Sw.useMemo((function(){var e;return Py((Iy(e={},a9.DEFAULT,{fill:"none",strokeWidth:a,stroke:"#fff",strokeDasharray:"7, 4",opacity:.6}),Iy(e,a9.ERROR,{fill:"rgba(234,50,35, 0.1)",strokeWidth:a,stroke:"#ea3223"}),e),o)}),[a,o]),l=s+.8*a,f=u[i];return Sw.createElement("svg",{width:r,height:n,className:t},Sw.createElement("rect",{x:a/2,y:a/2,rx:s,ry:s,width:r-a,height:n-a,style:f}),Sw.createElement("path",{d:"M0,".concat(l," Q0,0 ").concat(l,",0 L0,0 Z"),style:c}),Sw.createElement("path",{d:"M0,".concat(n-l," Q0,").concat(n," ").concat(l,",").concat(n," L0,").concat(n," Z"),style:c}),Sw.createElement("path",{d:"M".concat(r-l,",").concat(n," Q").concat(r,",").concat(n," ").concat(r,",").concat(n-l," L").concat(r,",").concat(n," Z"),style:c}),Sw.createElement("path",{d:"M".concat(r-l,",0 Q").concat(r,",0 ").concat(r,",").concat(l," L").concat(r,",0 Z"),style:c}))}s9.propTypes={className:SC.string,width:SC.number,height:SC.number,strokeWidth:SC.number,strokeStyles:SC.shape({}),type:SC.oneOf([a9.DEFAULT,a9.ERROR]),radius:SC.number,paddingStyle:SC.shape({})},s9.defaultProps={className:"",width:600,height:400,strokeWidth:2,strokeStyles:{},type:a9.DEFAULT,radius:10,paddingStyle:{fill:"rgba(0, 0, 0, 0.6)"}};var c9,u9,l9,f9,d9,p9,h9,g9,m9,v9,y9,b9,w9,C9,E9,k9,S9,_9,A9,T9=500,x9=f_(["from{transform:perspective(400px);}to{transform:perspective(400px) rotateY(90deg);}"]),I9=f_(["from{transform:perspective(400px) rotateY(-90deg);}to{transform:perspective(400px);}"]),B9=WS([".flipY-exit{animation-name:",";animation-duration:","ms;animation-timing-function:ease-in;}.flipY-enter{animation-name:",";animation-duration:","ms;animation-timing-function:ease-out;}"],x9,T9,I9,T9),R9=20,P9=f_(["from,to{transform:translate3d(-","px,0,0);}50%{transform:translate3d(","px,0,0);}"],R9,R9),N9=f_(["from,to{transform:translate3d(0,-","px,0);}50%{transform:translate3d(0,","px,0);}"],R9,R9),O9=(WS([".slide-horizontal{animation-name:",";animation-iteration-count:infinite;animation-duration:2000ms;animation-timing-function:linear;}.slide-vertical{animation-name:",";animation-iteration-count:infinite;animation-duration:2000ms;animation-timing-function:linear;}"],P9,N9),f_(["from,to{opacity:1;}50%{opacity:0;}"])),D9=(WS([".blink{animation-name:",";animation-iteration-count:infinite;animation-duration:2000ms;animation-timing-function:linear;}"],O9),300),L9=c_.div(c9||(c9=Ky(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: ","; // must be higher than BASE_Z_INDEX and lower than other layers\n"])),PJ+1),M9=f_(["from{background:#000;}to{}"]),U9=WS([".splash-enter{animation-name:",";animation-duration:","ms;animation-timing-function:ease-in;}"],M9,D9),j9=c_.div(u9||(u9=Ky(["\n  ","\n"])),U9),F9=function(e){var t=e.keyForTransition,r=void 0===t?0:t;return Sw.createElement(j9,null,Sw.createElement(o9,null,Sw.createElement(J7,{key:r,timeout:{enter:D9,exit:0},classNames:"splash",unmountOnExit:!1},Sw.createElement(L9,null))))},V9=f_(["from{transform:rotate(0deg);}to{transform:rotate(360deg);}"]),z9=WS([".spin{animation-name:",";animation-iteration-count:infinite;animation-duration:1000ms;animation-timing-function:linear;}"],V9),K9=T9,q9=F9,H9=c_.div(l9||(l9=Ky(["\n  ","\n  ","\n"])),B9,z9),Q9=c_.img(f9||(f9=Ky(["\n  border-radius: 5px;\n  opacity: 0.7;\n  height: 38px;\n"]))),W9=10,G9=60,Y9=100,X9=c_.div(d9||(d9=Ky(["\n  cursor: pointer;\n  text-align: center;\n  width: ","px;\n\n  img {\n    width: 100%;\n  }\n\n  z-index: ",";\n  position: fixed;\n\n  ","\n"])),G9,PJ+20,eJ.isMobile?WS(["top:",";"],(function(e){return e.y})):WS(["bottom:","px;"],W9)),$9=c_.div(p9||(p9=Ky(["\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  position: absolute;\n  margin: auto;\n  width: ","px;\n  height: ","px;\n\n  img {\n    width: 100%;\n  }\n\n  z-index: ",";\n"])),Y9,Y9,PJ+20),Z9=c_.div(h9||(h9=Ky(["\n  color: #fff;\n  text-align: center;\n"]))),J9=c_.div(g9||(g9=Ky(["\n  transform: translateZ(1000px); // to fix rotating bug on safari\n  transform-style: preserve-3d;\n  position: absolute;\n  top: ",";\n  z-index: ",";\n"])),(function(e){return e.y}),PJ+20),eee=c_.div(m9||(m9=Ky(["\n  display: flex;\n  align-items: center;\n"]))),tee=c_(Z9)(v9||(v9=Ky(["\n  font-size: 20px;\n  margin-left: 10px;\n  color: #fff;\n"]))),ree=c_(Z9)(y9||(y9=Ky(["\n  font-size: 20px;\n  margin-left: 10px;\n  color: green;\n  position: absolute;\n  left: 0;\n  top: 10px;\n  background: white;\n  z-index: ",";\n"])),PJ+30),nee=c_(Z9)(b9||(b9=Ky(["\n  position: absolute;\n  font-size: 16px;\n  text-align: center;\n  color: #fff;\n  top: ",";\n  z-index: ",";\n"])),(function(e){return e.y}),PJ+20),iee=c_(nee)(w9||(w9=Ky(["\n  background: #ea3223;\n  padding: 5px 10px;\n  border-radius: 3px;\n"]))),oee=c_(Z9)(C9||(C9=Ky(["\n  position: absolute;\n  font-size: 18px;\n  text-align: center;\n  border-radius: 3px;\n  padding: 5px 10px;\n  background: #ea3223;\n  color: #fff;\n  margin: 0 10px;\n  top: ",";\n  z-index: ",";\n"])),(function(e){return e.y}),PJ+20),aee=(c_.div(E9||(E9=Ky(["\n  font-size: 18px;\n  text-align: center;\n  padding: 10px;\n"]))),c_(s9)(k9||(k9=Ky(["\n  position: absolute;\n  top: 0;\n  left: 0;\n"])))),see={BTN_OK:{en:"OK",vi:"Tôi đã hiểu"},FRONT:{en:"front",vi:"trước"},BACK:{en:"back",vi:"sau"},BTN_USE_THIS_PICTURE:{en:"Use this picture",vi:"Dùng ảnh này"},BTN_TRY_AGAIN:{en:"Try again",vi:"Thử lại"},CONFIRM_POPUP_VALID_QR:{en:"QR code scanned",vi:"Đã quét được mã QR"},CONFIRM_POPUP_INVALID_QR:{en:"Could not scan QR code",vi:"Không quét được mã QR"}},cee=oL.IDCardMessage,uee=c_.div(S9||(S9=Ky(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 10px;\n"]))),lee=c_.div(_9||(_9=Ky(["\n  text-align: center;\n  font-size: 1rem;\n"]))),fee=c_.button(A9||(A9=Ky(["\n  margin-top: 20px;\n  width: 100%;\n  max-width: 160px;\n  height: 50px;\n  background-color: ",";\n  border: 0;\n  outline: none;\n  border-radius: 0.25rem;\n  color: #fff;\n  font-weight: 400;\n  cursor: pointer;\n  font-size: 1rem;\n"])),(function(e){return e.theme.tsBlue})),dee=function(e){var t=e.onOk,r=e.maxSessionTime,n=fF.useSDKSettings().lang;return Sw.createElement(uee,null,Sw.createElement(lee,{className:"popup-message"},H4(cee.TIMEOUT_INSTRUCTION[n])({x:r})),Sw.createElement(fee,{className:"popup-button",onClick:t},see.BTN_OK[n]))};dee.propTypes={onOk:SC.func,maxSessionTime:SC.number},dee.defaultProps={onOk:function(){},maxSessionTime:30};var pee=function(){var e=qy(Sw.useState(!1),2),t=e[0],r=e[1],n=qy(Sw.useState(null),2),i=n[0],o=n[1],a=qy(Sw.useState({}),2),s=a[0],c=a[1];return{showPopup:Sw.useCallback((function(e){var t=e.popupType,n=e.props;c(void 0===n?{}:n),o(t),r(null!==t)}),[]),popupShown:t,popupType:i,props:s}},hee={SESSION_TIMEOUT:"SESSION_TIMEOUT",CONFIRM:"CONFIRM",QR_INVALID:"QR_INVALID",QR_INSTRUCTIONS:"QR_INSTRUCTIONS"},gee=oL.Errors;function mee(e,t){return Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)}function vee(e,t){return Math.sqrt(mee(e,t))}function yee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.canvas,r=e.imgMargin,n=void 0===r?.15:r,i=window,o=i.cv,a=t.width,s=t.height,c=n;c<1&&(c=parseInt(.5*(s+a)*c,10));var u=o.imread(t),l=new o.Mat;return o.copyMakeBorder(u,l,c,c,c,c,o.BORDER_CONSTANT,new o.Scalar(0,0,0,255)),u.delete(),{mat:l,margin:c}}function bee(e,t){var r=window.cv,n=qy(t.map((function(e){return e.location})),4),i=n[0],o=n[1],a=n[2],s=n[3],c=vee(a,s),u=vee(o,i),l=Math.max(c,u),f=vee(o,a),d=vee(i,s),p=Math.max(f,d),h=[i.x,i.y,o.x,o.y,a.x,a.y,s.x,s.y],g=[0,0,l-1,0,l-1,p-1,0,p-1],m=r.imread(e),v=new r.Mat,y=new r.Size(l,p),b=r.matFromArray(4,1,r.CV_32FC2,h),w=r.matFromArray(4,1,r.CV_32FC2,g),C=r.getPerspectiveTransform(b,w);r.warpPerspective(m,v,C,y,r.INTER_LINEAR,r.BORDER_CONSTANT,new r.Scalar);var E=new ImageData(new Uint8ClampedArray(v.data),v.cols,v.rows);return m.delete(),v.delete(),b.delete(),w.delete(),E}function wee(e,t,r){var n={x:t.x-e.x,y:t.y-e.y},i={x:r.x-e.x,y:r.y-e.y},o=Math.sqrt(Math.pow(n.x,2)+Math.pow(n.y,2)),a=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2));return 180*Math.acos((n.x*i.x+n.y*i.y)/(o*a))/Math.PI}function Cee(e){var t=e.corners,r=e.width,n=e.height,i=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,s=Number.MIN_SAFE_INTEGER;t.forEach((function(e){var t=e.location,r=t.x,n=t.y;i=Math.min(i,r),o=Math.min(o,n),a=Math.max(a,r),s=Math.max(s,n)}));var c=.02;return i/r>=c&&o/n>=c&&(n-s)/n>=c&&(r-a)/r>=c}function Eee(){return kee.apply(this,arguments)}function kee(){return(kee=_y(regeneratorRuntime.mark((function e(){var t,r,n,i,o,a,s,c,u,l,f,d,p=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},r=t.canvas,n=t.paddingPercent,i=void 0===n?.04:n,o=r.width,a=r.height,s=Math.floor(o*i),c=Math.floor(a*i),u=o-2*s,l=a-2*c,f=document.createElement("canvas"),d=f.getContext("2d"),f.width=u,f.height=l,d.drawImage(r,s,c,u,l,0,0,u,l),e.abrupt("return",Gz.isCardGlare(f));case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function See(e){for(var t=e.length,r=0;r<t;r++){var n=(r+t-1)%t,i=(r+1)%t,o=wee(e[r].location,e[n].location,e[i].location);if(o<70||o>110)return!1}return!0}function _ee(e){return Aee.apply(this,arguments)}function Aee(){return(Aee=_y(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u,l,f,d,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.blazefaceModel,n=t.predictedIdCardCanvas,i=t.frontSide,o=n.width,a=n.height,s=Math.floor(o/3),c=Math.floor(4*a/5),u=document.createElement("canvas"),l=u.getContext("2d"),u.width=s,u.height=c,l.drawImage(n,0,Math.floor(a/5),s,c,0,0,s,c),e.next=12,jV.getModelPredictions({model:r,sCanvas:u});case 12:if(f=e.sent,d=f.filter((function(e){var t=e.topLeft,r=e.bottomRight,n=qy(e.probability,1)[0],i=e.landmarks;return!(n<.9||i.length<4)&&!(TV.rectAreaRatio({small:{coords:[t,r]},big:{coords:[[0,0],[jV.SIZE,jV.SIZE]]}})<.025)})),p=d.length,!i){e.next=22;break}if(0!==p){e.next=18;break}return e.abrupt("return",gee.id_detector_error_front_side_no_faces);case 18:if(!(p>1)){e.next=20;break}return e.abrupt("return",gee.id_detector_error_front_side_multiple_faces);case 20:e.next=24;break;case 22:if(!(p>0)){e.next=24;break}return e.abrupt("return",gee.id_detector_error_back_side_has_faces);case 24:return e.abrupt("return",null);case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tee(e,t,r){return e==e&&(void 0!==r&&(e=e<=r?e:r),void 0!==t&&(e=e>=t?e:t)),e}var xee=Tee;function Iee(e,t,r){return void 0===r&&(r=t,t=void 0),void 0!==r&&(r=(r=z0(r))==r?r:0),void 0!==t&&(t=(t=z0(t))==t?t:0),xee(z0(e),t,r)}var Bee=Iee,Ree="https://thaison-trustingsocial.github.io/web-sdk/assets/opencv.js",Pee=function(){var e=_y(regeneratorRuntime.mark((function e(){var t,r=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:Ree,e.abrupt("return",new Promise((function(e,r){var n=document.createElement("script");n.setAttribute("async",""),n.setAttribute("type","text/javascript"),n.setAttribute("id","opencvjs"),n.addEventListener("load",_y(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.cv||!window.cv.getBuildInformation){t.next=4;break}e(),t.next=12;break;case 4:if(!(window.cv instanceof Promise)){t.next=11;break}return t.next=7,window.cv;case 7:window.cv=t.sent,e(),t.next=12;break;case 11:window.cv.onRuntimeInitialized=function(){e()};case 12:case"end":return t.stop()}}),t)})))),n.addEventListener("error",(function(){r()})),n.src=t;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)})));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Nee(){return Oee.apply(this,arguments)}function Oee(){return(Oee=_y(regeneratorRuntime.mark((function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){return(a=_y(regeneratorRuntime.mark((function e(){var t,r,o,a,s,c,u,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("detect.prototxt",t="detect.caffemodel",r="sr.prototxt",o="sr.caffemodel",n){e.next=23;break}return a=window,s=a.cv,e.next=8,i("detect.prototxt");case 8:return c=e.sent,e.next=11,i(t);case 11:return u=e.sent,e.next=14,i(r);case 14:return l=e.sent,e.next=17,i(o);case 17:f=e.sent,s.FS_createDataFile("/","detect.prototxt",c,!0,!1,!1),s.FS_createDataFile("/","detect.caffemodel",u,!0,!1,!1),s.FS_createDataFile("/","sr.prototxt",l,!0,!1,!1),s.FS_createDataFile("/","sr.caffemodel",f,!0,!1,!1),n=new s.wechat_qrcode_WeChatQRCode("detect.prototxt","detect.caffemodel","sr.prototxt","sr.caffemodel");case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)},o=function(){return a.apply(this,arguments)},t=s.length>0&&void 0!==s[0]?s[0]:{opencvUrl:Ree},r=t.opencvUrl,console.log("warming.."),i=function(){var e=_y(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://leidenglai.github.io/opencv-js-qrcode/models/".concat(t),{method:"GET"});case 2:return r=e.sent,e.next=5,r.arrayBuffer();case 5:return n=e.sent,e.abrupt("return",new Uint8Array(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),e.next=7,Pee(r);case 7:return e.next=9,o();case 9:return e.abrupt("return",{qrModel:n});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dee=x5(Nee),Lee="https://unpkg.com/@tsocial/tv_web_sdk_resources@1.0.0/models/id-card/tflite/qtf16_model_224x224.tflite",Mee={0:"top-left",1:"top-right",2:"bottom-right",3:"bottom-left",4:"cccd.front",5:"passport",6:"cmnd_old.front",7:"cmnd_old.back",8:"cmnd_new.front",9:"cmnd_new.back",10:"cccd_new.front",11:"cccd_new.back"};function Uee(e){var t,r,n,i,o,a=e.card,s=e.corners,c=a.box,u={x:(c[1]+c[3])/2,y:(c[0]+c[2])/2},l=c[2]-c[0],f=c[1]-c[3],d=eb(s);try{for(d.s();!(o=d.n()).done;){var p=o.value;switch(p.label){case"top-left":t||(t=p.location);break;case"top-right":r||(r=p.location);break;case"bottom-right":n||(n=p.location);break;case"bottom-left":i||(i=p.location)}}}catch(e){d.e(e)}finally{d.f()}if(![t,r,n,i].every(Boolean))return console.debug("Not qualified, corners missing"),!1;var h={x:(t.x+n.x)/2,y:(t.y+n.y)/2},g={x:(r.x+i.x)/2,y:(r.y+i.y)/2},m=mee(u,h),v=mee(u,g);return Math.sqrt(m)>(l+f)/8||Math.sqrt(v)>(l+f)/8?(console.debug("Not qualified, not close enough"),!1):(console.debug("Qualified"),!0)}var jee=function(){function e(){Ay(this,e)}var t,r,n,i,o,a;return xy(e,[{key:"load",value:(a=_y(regeneratorRuntime.mark((function e(){var t,r,n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=t.opencvUrl,n=t.modelUrl,e.next=3,Dee();case 3:return e.next=5,Promise.all([Dee({url:r}),this.loadModel({modelUrl:n})]);case 5:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{key:"loadModel",value:(o=_y(regeneratorRuntime.mark((function e(){var t,r,n,i,o=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.length>0&&void 0!==o[0]?o[0]:{},r=t.modelUrl,n=void 0===r?Lee:r,e.next=3,RK.initTensorFlow({preferredBackends:["webgl","wasm","cpu"]});case 3:return e.next=5,RK.loadTFLiteModel({modelUrl:n});case 5:this.model=e.sent,i=this.model.inputs,this.inputSize=[i[0].shape[1],i[0].shape[2]];case 8:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"loadResource",value:(i=_y(regeneratorRuntime.mark((function e(){var t,r,n,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>0&&void 0!==i[0]?i[0]:{},r=t.modelUrl,n=void 0===r?Lee:r,e.next=3,RK.preloadResource({modelUrl:n});case 3:case"end":return e.stop()}}),e)}))),function(){return i.apply(this,arguments)})},{key:"dispose",value:(n=_y(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.model&&this.model.dispose();case 1:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"predict",value:(r=_y(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u,l,f,d,p,h,g,m,v,y,b,w,C,E,k,S,_,A,T,x,I=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=I.length>1&&void 0!==I[1]?I[1]:{},n=r.imgMargin,i=void 0===n?.5:n,o=r.detectThreshold,a=void 0===o?.3:o,s=r.maxNumReturns,c=void 0===s?100:s,u=window,l=u.cv,f={},d=t.width,p=t.height,f.originalWidth=d,f.originalHeight=p,h=yee({canvas:t,imgMargin:i}),g=h.margin,m=h.mat,v=qy(this.inputSize,2),y=v[0],b=v[1],w=new l.Mat,l.resize(m,w,new l.Size(y,b),0,0,l.INTER_AREA),C=m.cols/y,E=m.rows/b,(k=document.createElement("canvas")).width=y,k.height=b,k.getContext("2d").putImageData(new ImageData(new Uint8ClampedArray(w.data),w.cols,w.rows),0,0),m.delete(),w.delete(),f.canvas=k,f.margin=g,e.next=24,this.detect(k,{detectThreshold:a,maxNumReturns:c});case 24:if(S=e.sent,_={inputImage:f,card:null},A=[],T=[],S.forEach((function(e){var t=qy(e.box,4),r=t[0],n=t[1],i=t[2],o=t[3];e.clazz<=3?A.push({clazz:e.clazz,label:e.label,score:e.score,location:{x:Bee(Math.floor((o+n)/2*C-g),0,d),y:Bee(Math.floor((r+i)/2*E-g),0,p)},scaledLocation:{x:Bee(Math.floor((o+n)/2),0,k.width),y:Bee(Math.floor((r+i)/2),0,k.height)}}):T.push({label:e.label,score:e.score,box:[Bee(Math.floor(r*E-g),0,p),Bee(Math.floor(n*C-g),0,d),Bee(Math.floor(i*E-g),0,p),Bee(Math.floor(o*C-g),0,d)]})})),A.sort((function(e,t){return t.score-e.score})),T.sort((function(e,t){return t.score-e.score})),!(T.length>0)){e.next=40;break}if(Uee({card:x=T[0],corners:A})){e.next=36;break}return console.debug("Not qualified.",x,A),e.abrupt("return",_);case 36:return A.sort((function(e,t){return e.clazz-t.clazz})),x.corners=A,_.card=x,e.abrupt("return",_);case 40:return e.abrupt("return",_);case 41:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"detect",value:(t=_y(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u,l,f,d,p,h,g,m,v,y,b,w,C,E,k,S,_=this,A=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=A.length>1&&void 0!==A[1]?A[1]:{},n=r.detectThreshold,i=r.maxNumReturns,o=window,a=o.tf,s=t.width,c=t.height,u=a.tidy((function(){var e=a.expandDims(a.cast(a.image.resizeNearestNeighbor(a.browser.fromPixels(t),_.inputSize),"float32"));return _.model.predict(e)})),e.next=7,Promise.all([u["StatefulPartitionedCall:1"].data(),u["StatefulPartitionedCall:2"].data(),u["StatefulPartitionedCall:3"].array()]);case 7:for(l=e.sent,f=qy(l,3),d=f[0],p=f[1],h=qy(f[2],1),g=h[0],m=[],v=Math.min(d.length,i),y=0;y<v;y++)(b=d[y])>n&&(C=p[y],E=null!==(w=Mee[Math.round(C)])&&void 0!==w?w:"NA",k=g[y],S=[k[0]*c,k[3]*s,k[2]*c,k[1]*s],m.push({score:b,clazz:C,box:S,label:E}));return e.abrupt("return",m);case 17:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}(),Fee=1e3;function Vee(e){return zee.apply(this,arguments)}function zee(){return(zee=_y(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.idCardModel,e.abrupt("return",new Promise((function(e,t){var n=document.createElement("canvas");setTimeout(t,Fee),r.predict(n).then(e)})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kee(e){return qee.apply(this,arguments)}function qee(){return(qee=_y(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.idCardModel,n=!0,e.prev=2,i=performance.now(),e.next=6,Vee({idCardModel:r});case 6:performance.now()-i>Fee&&(n=!1),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),n=!1;case 13:return e.abrupt("return",{fastEnough:n});case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function Hee(){return Qee.apply(this,arguments)}function Qee(){return(Qee=_y(regeneratorRuntime.mark((function e(){var t,r,n,i,o,a,s,c,u,l,f,d,p,h=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=h.length>0&&void 0!==h[0]?h[0]:{},r=t.opencvUrl,n=t.idCardModelUrl,i=t.blazefaceModelUrl,o=t.tfScriptUrls,"iOS"!==eJ.osName||!eJ.osVersion.includes("12.")){e.next=5;break}return e.next=4,Dee({url:r});case 4:return e.abrupt("return",{ableToUseModel:!1});case 5:return e.next=7,RK.loadTensorFlow(o);case 7:return a=new jee,e.next=10,Promise.all([RK.loadBlazefaceModel({modelUrl:i}),a.load({opencvUrl:r,modelUrl:n})]);case 10:return s=e.sent,c=qy(s,1),u=c[0],l=!0,f=document.createElement("canvas"),e.prev=15,e.next=18,a.predict(f);case 18:return e.next=20,Kee({idCardModel:a});case 20:d=e.sent,p=d.fastEnough,l=p,e.next=29;break;case 25:e.prev=25,e.t0=e.catch(15),console.log(e.t0),l=!1;case 29:return e.abrupt("return",{ableToUseModel:l,idCardModel:a,blazefaceModel:u});case 30:case"end":return e.stop()}}),e,null,[[15,25]])})))).apply(this,arguments)}var Wee=x5(Hee),Gee=oL.Errors,Yee=15,Xee=700,$ee=function(){return{imageBlob:null,takenAt:null,blurScore:null,detectedCard:null}},Zee=function(){return{imageBlob:null,blurScore:null,error:null,detectedCard:null}};function Jee(e){var t=e.refVideo,r=e.shouldStart,n=e.cropArea,i=e.settings,o=e.onError,a=e.frontSide,s=e.onAutoCaptureSuccess,c=e.quality,u=Sw.useRef(null);null===u.current&&(u.current=document.createElement("canvas"));var l=Sw.useRef(!1),f=Sw.useRef(null),d=qy(Sw.useState(!1),2),p=d[0],h=d[1],g=Sw.useRef($ee()),m=Sw.useRef(Zee()),v=Sw.useRef(!1),y=Sw.useRef(!1),b=Sw.useRef(null),w=Sw.useRef(!1),C=Sw.useRef({}),E=fF.useSDKSettings().customUrls;Sw.useEffect((function(){var e=!1;function t(){return(t=_y(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!i||p){t.next=14;break}if(!i.enableIdDetection){t.next=10;break}return t.next=4,Wee(E);case 4:return C.current=t.sent,t.next=7,RK.initTensorFlow();case 7:b.current=i.enableBlurCheck&&C.current.ableToUseModel,t.next=11;break;case 10:b.current=!1;case 11:if(!e){t.next=13;break}return t.abrupt("return");case 13:h(!0);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){e=!0}}),[p,i,E]);var k=Sw.useCallback((function(){!0===l.current&&(l.current=!1)}),[]),S=Sw.useCallback(function(){var e=_y(regeneratorRuntime.mark((function e(t){var r,n,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.blurScore,n=t.detectedCard,o=i.blurThreshold,a=g.current,s=m.current,!(r<o&&yV.hasBetterCardBlurScore(r,a.blurScore))){e.next=15;break}if(!w.current){e.next=9;break}a.imageBlob=s.imageBlob,e.next=12;break;case 9:return e.next=11,wV.takePicture({canvas:u.current,quality:c});case 11:a.imageBlob=e.sent;case 12:a.takenAt=(new Date).getTime(),a.blurScore=r,a.detectedCard=n;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i,c]),_=Sw.useCallback(function(){var e=_y(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.blurScore,n=t.detectedCard,y.current=!0,i=m.current,!yV.hasBetterCardBlurScore(r,i.blurScore)){e.next=10;break}return e.next=6,wV.takePicture({canvas:u.current,quality:c});case 6:i.imageBlob=e.sent,i.blurScore=r,i.detectedCard=n,w.current=!0;case 10:y.current=!1;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[c]),A=Sw.useCallback(_y(regeneratorRuntime.mark((function e(){var t,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.waitForBestImageTimeMs,null===(r=g.current).imageBlob){e.next=8;break}if(!((new Date).getTime()-r.takenAt>t)){e.next=8;break}return e.next=7,s(r);case 7:k();case 8:case"end":return e.stop()}}),e)}))),[s,i,k]),T=Sw.useCallback((function(){v.current=!0}),[]),x=Sw.useCallback((function(){return new Promise((function(e){v.current=!1;var t=setInterval((function(){y.current||(clearInterval(t),e())}),150)}))}),[]),I=Sw.useCallback(_y(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var t=i.blurThreshold,r=m.current;b.current?(T(),setTimeout((function(){x().then((function(){yV.hasBetterCardBlurScore(r.blurScore,t)||(r.error=Gee.id_detector_error_blur),null===r.imageBlob?wV.takePicture({canvas:u.current,quality:c}).then((function(t){r.imageBlob=t,e(r)})):e(r)}))}),2e3)):wV.takePicture({canvas:u.current,quality:c}).then((function(t){r.imageBlob=t,e(r)}))})));case 1:case"end":return e.stop()}}),e)}))),[i,T,x,c]),B=Sw.useCallback(_y(regeneratorRuntime.mark((function e(){var r,n,s,c,d,h,y,b,E,k,T,x,I,B,R,P,N,O,D,L,M,U,j,F,V;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i&&p&&!l.current){e.next=2;break}return e.abrupt("return");case 2:g.current=$ee(),m.current=Zee(),r=i.enableAutoCapture,n=i.enableBlurCheck,s=i.enableIdDetection,c=C.current,d=c.idCardModel,h=c.blazefaceModel,y=c.ableToUseModel,b=f.current,E=t.current,l.current=!0,k=b.cropX,T=b.cropY,x=b.cropWidth,I=b.cropHeight,B=b.cropWidthWithoutPadding,R=b.cropHeightWithoutPadding,(P=u.current).width=x,P.height=I,N=P.getContext("2d"),O=document.createElement("canvas"),D=O.getContext("2d"),L=s&&y?Yee:Xee;case 17:if(N.drawImage(E,k,T,x,I,0,0,x,I),w.current=!1,!s||!y){e.next=74;break}return M=null,e.next=24,d.predict(P,{detectThreshold:.3});case 24:if(!(U=e.sent).card){e.next=70;break}if(!Cee({corners:U.card.corners,width:x,height:I})){e.next=67;break}if(!See(U.card.corners)){e.next=64;break}if(j=bee(P,U.card.corners),!((F=TV.rectAreaRatio({small:{area:j.width*j.height},big:{area:B*R}}))<.5)){e.next=36;break}M=Gee.id_detector_card_too_small,e.next=62;break;case 36:if(!(F>.95)){e.next=40;break}M=Gee.id_detector_error_incomplete,e.next=62;break;case 40:return O.width=j.width,O.height=j.height,D.putImageData(j,0,0),e.next=45,Eee({canvas:O});case 45:if(!e.sent){e.next=50;break}M=Gee.glare_detected,e.next=62;break;case 50:return e.next=52,_ee({blazefaceModel:h,predictedIdCardCanvas:O,frontSide:a});case 52:if(M=e.sent){e.next=62;break}if(!n){e.next=62;break}if(V=yV.calculateIdCardBlurScore({canvas:O}),!v.current){e.next=59;break}return e.next=59,_({blurScore:V,detectedCard:U.card});case 59:if(!r){e.next=62;break}return e.next=62,S({blurScore:V,detectedCard:U.card});case 62:e.next=65;break;case 64:M=Gee.id_detector_validate_angle_error;case 65:e.next=68;break;case 67:M=Gee.id_detector_error_incomplete;case 68:e.next=71;break;case 70:M=Gee.id_detector_no_cards;case 71:return o(M),e.next=74,A();case 74:if(l.current){e.next=76;break}return e.abrupt("break",80);case 76:return e.next=78,GF.sleep(L);case 78:e.next=17;break;case 80:case"end":return e.stop()}}),e)}))),[t,i,p,a,o,S,_,A]);Sw.useEffect((function(){var e=t.current;function i(){return(i=_y(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.current=wV.analyzeVideoAndWindowSizes(e,n,.05),t.next=3,B();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}r&&n&&p&&function(){i.apply(this,arguments)}()}),[r,n,t,k,B,p]);var R=Sw.useCallback((function(){k()}),[k]);return Sw.useEffect((function(){return R}),[R]),{refWorkingCanvas:u,stopCheckFrame:k,checkFrame:B,warmupDone:p,takePictureManually:I,refAbleToRunBurstMode:b}}var ete=function(){return{id:null,frames:[]}},tte=15;function rte(){return[ete()]}function nte(e){var t=e.refVideo,r=e.shouldStart,n=e.cropArea,i=e.settings,o=Sw.useRef(null);null===o.current&&(o.current=document.createElement("canvas"));var a=Sw.useRef(!1),s=Sw.useRef(qz.createResizer({width:960,height:640})),c=Sw.useRef(null),u=Sw.useRef(rte()),l=Sw.useCallback((function(){!0===a.current&&(a.current=!1)}),[]),f=Sw.useCallback((function(){u.current=rte()}),[]),d=Sw.useCallback((function(){var e=u.current;e[e.length-1].frames.length>0&&e.push(ete())}),[]),p=Sw.useCallback(function(){var e=_y(regeneratorRuntime.mark((function e(t){var r,n,o,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.workingCanvas,n=s.current,o=u.current,a=n.resize({srcCanvas:r}),c=a.toDataURL("image/jpeg",i.saveFrameQuality/100).split(",")[1],o[o.length-1].frames.push({base64:c});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[i]),h=Sw.useCallback(_y(regeneratorRuntime.mark((function e(){var r,n,s,u,l,f,d,h,g,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i){e.next=2;break}return e.abrupt("return");case 2:if(r=i.frameCaptureIntervalMs,i.enableRecording){e.next=5;break}return e.abrupt("return");case 5:n=c.current,s=t.current,a.current=!0,u=n.cropX,l=n.cropY,f=n.cropWidth,d=n.cropHeight,(h=o.current).width=f,h.height=d,g=h.getContext("2d"),m=null;case 14:if(g.drawImage(s,u,l,f,d,0,0,f,d),!r){e.next=25;break}if(v=(new Date).getTime(),!(v-m>=r)){e.next=23;break}return e.next=22,p({workingCanvas:h});case 22:m=v;case 23:e.next=27;break;case 25:return e.next=27,p({workingCanvas:h});case 27:if(a.current){e.next=29;break}return e.abrupt("break",33);case 29:return e.next=31,GF.sleep(tte);case 31:e.next=14;break;case 33:case"end":return e.stop()}}),e)}))),[t,p,i]);return Sw.useEffect((function(){var e=t.current;function i(){return(i=_y(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.current=wV.analyzeVideoAndWindowSizes(e,n),t.next=3,h();case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return r&&n&&function(){i.apply(this,arguments)}(),function(){l()}}),[r,n,t,l,d,h]),{refWorkingCanvas:o,stopCheckFrame:l,splitVideos:d,resetRecordedVideos:f,checkFrame:h,refRecordedVideos:u}}var ite,ote,ate,ste=function(e){var t=e.debug,r=e.refRecordedVideos,n=e.refWorkingCanvas,i=e.refVideo,o=e.onChange;Sw.useEffect((function(){var e;return t&&(e=setInterval((function(){var e=i.current,t=r.current,a=n.current,s=t[t.length-1],c={videoWidth:e.videoWidth,videoHeight:e.videoHeight,framesCount:s.frames.length,"window.innerWidth":window.innerWidth,"window.innerHeight":window.innerHeight,"canvas.width":null==a?void 0:a.width,"canvas.height":null==a?void 0:a.height};o&&o(JSON.stringify(c,null,2))}),1e3)),function(){return clearInterval(e)}}),[o,t,r,n,i])},cte=function(e){var t=e.lang,r=e.onAboutToTimeout,n=e.onSessionTimeout,i=e.onVideoTimeLimitReached,o=e.settings,a=e.shouldStartTimers,s=e.sessionTime,c=Sw.useRef(),u=qy(Sw.useState(0),2),l=u[0],f=u[1],d=Sw.useCallback((function(){clearInterval(c.current)}),[]),p=Sw.useCallback((function(){f((function(e){return e+1}))}),[]);return Sw.useEffect((function(){if(a){var e=o.maxRecordingTimePerVideo,t=0,u=s/3;c.current=setInterval((function(){var o=s-(t+=1);o<=u&&r&&r({curTimeLeft:o}),t>0&&t%e==0&&i&&i(),0===o&&(d(),n&&n())}),1e3)}return function(){d()}}),[a,t,r,d,n,i,l,o,s]),{stopTimers:d,startTimers:p}},ute=function(e){var t=e.shouldStart,r=e.refVideo,n=e.cropArea,i=e.settings,o=e.onModelErrorChange,a=e.frontSide,s=e.onDebugInfoChange,c=e.onAboutToTimeout,u=e.onSessionTimeout,l=e.onCaptureDone,f=e.outputEncryptionSettings,d=e.quality,p=Sw.useRef(!1),h=qy(Sw.useState(!1),2),g=h[0],m=h[1],v=Sw.useRef((function(){})),y=KF.useSDKTracking().sendEvent,b=Sw.useRef(),w=Sw.useRef(),C=Sw.useRef(),E=fF.useSDKSettings(),k=E.debug,S=E.lang,_=E.enableAntiDebug;Sw.useEffect((function(){_&&PK.enableAntiDebug()}),[_]);var A=Sw.useCallback(function(){var e=_y(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y({tag:a?"id_front":"id_back",event:"sdk_ui.auto_capture",log:{}}),e.next=3,v.current(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[y,a]),T=Sw.useCallback((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];o.apply(void 0,t);var n=h5(t,"0.code");n&&n!==b.current&&y({tag:a?"id_front":"id_back",event:"sdk_ui.show_alert",log:{alert:n}}),b.current=n}),[o,a,y]),x=Jee({refVideo:r,shouldStart:t,cropArea:n,settings:i,onError:T,frontSide:a,onAutoCaptureSuccess:A,quality:d}),I=x.refWorkingCanvas,B=x.stopCheckFrame,R=x.checkFrame,P=x.warmupDone,N=x.takePictureManually,O=x.refAbleToRunBurstMode,D=nte({refVideo:r,shouldStart:t&&P,cropArea:n,settings:i}),L=D.stopCheckFrame,M=D.splitVideos,U=D.resetRecordedVideos,j=D.checkFrame,F=D.refRecordedVideos;ste({debug:k,refRecordedVideos:F,refWorkingCanvas:I,refVideo:r,onChange:s});var V=Sw.useCallback((function(){L(),B(),U(),u()}),[U,L,B,u]),z=Sw.useCallback((function(){M()}),[M]),K=cte({lang:S,onAboutToTimeout:c,onSessionTimeout:V,onVideoTimeLimitReached:z,settings:i,shouldStartTimers:P&&t&&(null==i?void 0:i.enableTimers),sessionTime:null==i?void 0:i.idCardSessionTime}),q=K.stopTimers,H=K.startTimers,Q=Sw.useCallback((function(){p.current=!1}),[]),W=Sw.useCallback(_y(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(),H(),e.next=4,Promise.all([j(),R()]);case 4:case"end":return e.stop()}}),e)}))),[j,R,H,Q]),G=Sw.useCallback(_y(regeneratorRuntime.mark((function e(){var t,r,n,i,o,s,c=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=c.length>0&&void 0!==c[0]?c[0]:{},r=t.imageBlob,n=t.error,i=t.detectedCard,!p.current){e.next=3;break}return e.abrupt("return");case 3:if(p.current=!0,m(!0),L(),B(),q(),T(null),!f||!f.key){e.next=14;break}return s=f.key,e.next=13,DK.encrypt({blob:r,key:s});case 13:o=e.sent;case 14:l({image:{blob:r,encrypted:o,detectedCard:i},error:n,recordedVideos:F.current}),m(!1),y({tag:a?"id_front":"id_back",event:"user_activity",log:{time_capture_in_seconds:(performance.now()-C.current)/1e3}});case 17:case"end":return e.stop()}}),e)}))),[L,B,q,T,l,F,a,y,f]);v.current=G;var Y=Sw.useCallback(_y(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),q(),L(),O.current||B(),e.next=6,N();case 6:return t=e.sent,e.next=9,G(t);case 9:m(!1),y({tag:a?"id_front":"id_back",event:"user_activity.capture",log:{}});case 11:case"end":return e.stop()}}),e)}))),[N,G,q,O,L,B,y,a]);return Sw.useEffect((function(){t&&(y({tag:a?"id_front":"id_back",event:"user_activity.start",log:{}}),w.current=performance.now())}),[y,a,t]),Sw.useEffect((function(){P&&(y({tag:a?"id_front":"id_back",event:"user_activity.show",log:{}}),y({tag:a?"id_front":"id_back",event:"sdk.load_model",log:{status:"success",time_in_ms:performance.now()-w.current}}),C.current=performance.now())}),[y,a,P]),{warmupDone:P,isProcessing:g,takePictureManually:Y,restartSession:W,resetIsProcessingImageBlobTaken:Q}},lte=oL.IDCardMessage,fte=Sw.forwardRef((function(e,t){var r=e.description,n=e.usePortraitMask,i=e.windowAndVideoInfo,o=e.refVideo,a=e.frontSide,s=e.settings,c=e.onCaptureDone,u=e.onUISpacingChange,l=e.outputEncryptionSettings,f=qy(Sw.useState({}),2),d=f[0],p=f[1],h=d.yDescription,g=d.yMessage,m=d.yCaptureButton,v=QF.useAsset("ic_camera.svg"),y=QF.useAsset("ic_loading.png"),b=qy(Sw.useState(""),2),w=b[0],C=b[1],E=fF.useSDKSettings(),k=E.debug,S=E.lang,_=qy(Sw.useState(null),2),A=_[0],T=_[1],x=qy(Sw.useState(""),2),I=x[0],B=x[1],R=qy(Sw.useState(null),2),P=R[0],N=R[1],O=pee(),D=O.showPopup,L=O.popupShown,M=O.popupType,U=Sw.useCallback((function(e){B(null===e?"":H4(e.msg[S])({side:a?see.FRONT[S]:see.BACK[S]}))}),[S,a]),j=Sw.useCallback((function(){T(""),D({popupType:hee.SESSION_TIMEOUT})}),[D]),F=Sw.useCallback((function(){T(""),c.apply(void 0,arguments)}),[c]),V=Sw.useCallback((function(e){var t=e.curTimeLeft;T(H4(lte.REMAINING_TIME[S])({x:t}))}),[S]),z=ute({shouldStart:!0,refVideo:o,cropArea:P,settings:s,onModelErrorChange:U,frontSide:a,onDebugInfoChange:C,onSessionTimeout:j,onCaptureDone:F,onAboutToTimeout:V,outputEncryptionSettings:l}),K=z.warmupDone,q=z.isProcessing,H=z.takePictureManually,Q=z.restartSession,W=z.resetIsProcessingImageBlobTaken,G=Sw.useCallback((function(){D({popupType:null}),W()}),[D,W]),Y=Sw.useCallback(_y(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return G(),e.next=3,Q();case 3:case"end":return e.stop()}}),e)}))),[Q,G]);Sw.useEffect((function(){if(i){var e,t,r,o,a,s,c,l=i.videoAreaWidth,f=i.videoAreaHeight,d=i.lostX,h=i.lostY,g=i.clientHeight;n?(a=.7*(s=f-165),r=(c=(e=h+10)+45)+20,o=(t=c+s+10)+60):(a=eJ.isMobile?l-6:Math.floor(.7*l),r=(c=(e=h+10)+50)+20,o=(t=c+(s=Math.floor(Math.min(a/1.5,g-2*h-(G9+2*W9)-100)))+10)+60);var m=Math.floor((l-a)/2)+d;N({x:m,y:c,width:a,height:s,surroundStyle:{opacity:.6,background:"#000"}});var v={yTitle:e,yDescription:t,yMessage:r,yCaptureButton:o};p(v),u(v)}}),[i,n,u]);var X=Sw.useCallback(_y(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(""),e.next=3,H();case 3:case"end":return e.stop()}}),e)}))),[H]);return Sw.useImperativeHandle(t,(function(){return{restartSession:Y}}),[Y]),Sw.createElement(Sw.Fragment,null,!K&&Sw.createElement(e7,null),k&&Sw.createElement(ree,null,w),q&&Sw.createElement($9,null,Sw.createElement("img",{src:y,alt:"",className:"spin"})),P&&Sw.createElement($J,{x:"".concat(P.x,"px"),y:"".concat(P.y,"px"),width:"".concat(P.width,"px"),height:"".concat(P.height,"px"),surroundStyle:P.surroundStyle},Sw.createElement(aee,{width:P.width,height:P.height,type:I?a9.ERROR:a9.DEFAULT})),!I&&Sw.createElement(nee,{y:"".concat(h,"px"),className:"description"},r),I&&Sw.createElement(iee,{y:"".concat(h,"px")},I),!q&&(!(null!=s&&s.disableCaptureButtonIfAlert)||!I)&&Sw.createElement(X9,{onClick:X,y:"".concat(m,"px")},Sw.createElement("img",{src:v,alt:""})),A&&Sw.createElement(oee,{key:A,className:"message",y:"".concat(g,"px")},A),Sw.createElement(D8,{open:L},M===hee.SESSION_TIMEOUT&&Sw.createElement(dee,{onOk:Y,maxSessionTime:null==s?void 0:s.idCardSessionTime})))}));fte.propTypes={usePortraitMask:SC.bool,description:SC.string,windowAndVideoInfo:SC.shape({}),refVideo:SC.shape({}),frontSide:SC.bool,settings:SC.shape({}),onCaptureDone:SC.func,onUISpacingChange:SC.func,outputEncryptionSettings:SC.shape({})},fte.defaultProps={usePortraitMask:!1,description:"",windowAndVideoInfo:{},refVideo:{},frontSide:!0,settings:{},onCaptureDone:function(){},onUISpacingChange:function(){},outputEncryptionSettings:null};var dte,pte,hte="#00ce78",gte=10,mte=c_.div(ite||(ite=Ky(["\n  background: ",";\n  backdrop-filter: blur(12px);\n  border-radius: 8px;\n  top: ",";\n  position: absolute;\n  z-index: ",";\n  color: #fff;\n  padding: 10px;\n  margin: 0 10px;\n  max-width: 275px;\n  text-align: center;\n"])),(function(e){return e.background}),(function(e){return e.y}),PJ+20),vte=c_.div(ote||(ote=Ky(["\n  width: 0;\n  height: 0;\n  border-left: 20px solid transparent;\n  border-right: 20px solid transparent;\n  border-bottom: ",";\n  position: absolute;\n  left: 50%;\n  top: ",";\n  transform: translateX(-50%);\n"])),(function(e){return"".concat(e.arrowSize,"px solid ").concat(e.color)}),(function(e){return"".concat(e.top,"px")})),yte=function(e){var t=e.children,r=e.y;return Sw.createElement(mte,{y:r,background:hte},Sw.createElement(vte,{arrowSize:gte,top:-gte,color:hte}),t)},bte=c_.div(ate||(ate=Ky(["\n  text-align: center;\n  position: absolute;\n  font-size: 18px;\n  border-radius: 3px;\n  padding: 5px 10px;\n  background: #ea3223;\n  color: #fff;\n  margin: auto;\n  top: ",";\n  z-index: ",";\n"])),(function(e){return e.y}),PJ+20),wte={QR_INSTRUCTIONS_TEXT:{en:Sw.createElement("span",null,"Please follow the instructions below to scan QR code:",Sw.createElement("br",null),Sw.createElement("br",null)," Move camera to the position of QR code on ID card. Align QR code to fit into camera frame to scan it"),vi:Sw.createElement("span",null,"Vui lòng quét mã QR theo hướng dẫn sau:",Sw.createElement("br",null),Sw.createElement("br",null)," Đưa camera vào vị trí mã QR trên CCCD. Canh vừa mã QR vào 4 góc khung hình để quét mã")},QR_INSTRUCTIONS_START_BUTTON:{en:"Scan QR code",vi:"Tiến hành quét mã QR"},QR_INSTRUCTIONS_COUNTDOWN:{en:"Start in <%= x %> s",vi:"Bắt đầu trong <%= x %> giây"},QR_INVALID_POPUP_TITLE:{en:"Invalid QR code",vi:"QR không hợp lệ"},QR_INVALID_POPUP_DESCRIPTION:{en:"Please check and make sure scanning QR code on ID card",vi:"Vui lòng kiểm tra và đảm bảo việc thực hiện quét QR trên CCCD thật"},QR_INVALID_POPUP_RETRY_BUTTON:{en:"Scan QR (on ID card)",vi:"Quét lại QR (trên CCCD)"},QR_INVALID_POPUP_SKIP_BUTTON:{en:"Skip",vi:"Bỏ qua"},QR_TOOLTIP:{en:"Fit QR code to 4 corners of camera frame and try to move camera [in or out] to scan QR code",vi:"Canh vừa mã QR vào 4 góc khung hình và thử dịch chuyển camera [xa - gần] để quét được mã QR"},REMAINING_TIME:{en:"Remaining time: <%= x %> seconds",vi:"Thời gian còn lại: <%= x %> giây"},SESSION_TIMEOUT_POPUP_DESCRIPTION:{en:Sw.createElement("span",null,"Quá thời gian quét. Vui lòng thực hiện lại.",Sw.createElement("br",null),Sw.createElement("br",null)," Đưa camera vào vị trí mã QR trên thẻ. Canh vừa vào 4 góc và"," ",Sw.createElement("strong",{className:"text-primary"},"thử dịch chuyển camera [xa - gần]")," để camera điện thoại lấy nét chuẩn hơn."),vi:Sw.createElement("span",null,"Quá thời gian quét. Vui lòng thực hiện lại.",Sw.createElement("br",null),Sw.createElement("br",null)," Đưa camera vào vị trí mã QR trên thẻ. Canh vừa vào 4 góc và"," ",Sw.createElement("strong",{className:"text-primary"},"thử dịch chuyển camera [xa - gần]")," để camera điện thoại lấy nét chuẩn hơn.")},SESSION_TIMEOUT_POPUP_RETRY_BUTTON:{en:"Retry",vi:"Thực hiện lại"},SESSION_TIMEOUT_POPUP_SKIP_BUTTON:{en:"Skip",vi:"Bỏ qua"}},Cte=function(e){var t=e.children,r=e.mt,n=e.mb,i=e.ml,o=e.mr,a=e.mx,s=e.my,c=e.pt,u=e.pb,l=e.pl,f=e.pr,d=e.px,p=e.py,h=t.props.style||{},g={};return null!==a&&(g.marginLeft=a,g.marginRight=a),null!==s&&(g.marginTop=s,g.marginBottom=s),null!==r&&(g.marginTop=r),null!==n&&(g.marginBottom=n),null!==i&&(g.marginLeft=i),null!==o&&(g.marginRight=o),null!==d&&(g.paddingLeft=d,g.paddingRight=d),null!==p&&(g.paddingTop=p,g.paddingBottom=p),null!==c&&(g.paddingTop=c),null!==u&&(g.paddingBottom=u),null!==l&&(g.paddingLeft=l),null!==f&&(g.paddingRight=f),Sw.cloneElement(t,{style:Py(Py({},h),g)})};Cte.propTypes={mt:SC.string,ml:SC.string,mr:SC.string,mb:SC.string,mx:SC.string,my:SC.string,pt:SC.string,pl:SC.string,pr:SC.string,pb:SC.string,px:SC.string,py:SC.string},Cte.defaultProps={mt:null,ml:null,mr:null,mb:null,mx:null,my:null,pt:null,pl:null,pr:null,pb:null,px:null,py:null};var Ete,kte,Ste,_te,Ate,Tte,xte=c_.button(dte||(dte=Ky(["\n  width: 100%;\n  max-width: 294px;\n  height: 66px;\n  background-color: ",";\n  border: 0;\n  outline: none;\n  border-radius: 3px;\n  color: #fff;\n  font-weight: normal;\n  cursor: pointer;\n  font-size: 1rem;\n"])),(function(e){return e.theme.tsBlue})),Ite=c_.a(pte||(pte=Ky(["\n  color: ",";\n  cursor: pointer;\n"])),(function(e){return e.theme.tsBlue})),Bte=c_.div(Ete||(Ete=Ky(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 10px;\n"]))),Rte=c_.div(kte||(kte=Ky(["\n  color: ",";\n  font-weight: bold;\n  font-size: 16px;\n"])),(function(e){return e.theme.tsSecondary})),Pte=c_.div(Ste||(Ste=Ky(["\n  color: ",";\n  font-weight: normal;\n  font-size: 16px;\n  text-align: center;\n"])),(function(e){return e.theme.tsSecondary})),Nte=function(e){var t=e.onRetry,r=e.onSkip,n=fF.useSDKSettings().lang;return Sw.createElement(Bte,null,Sw.createElement(Cte,{mt:"25px"},Sw.createElement(Rte,null,wte.QR_INVALID_POPUP_TITLE[n])),Sw.createElement(Cte,{mt:"30px"},Sw.createElement(Pte,null,wte.QR_INVALID_POPUP_DESCRIPTION[n])),Sw.createElement(Cte,{mt:"30px"},Sw.createElement(xte,{onClick:t},wte.QR_INVALID_POPUP_RETRY_BUTTON[n])),Sw.createElement(Cte,{my:"20px"},Sw.createElement(Ite,{onClick:r},wte.QR_INVALID_POPUP_SKIP_BUTTON[n])))};Nte.propTypes={onRetry:SC.func,onSkip:SC.func},Nte.defaultProps={onRetry:function(){},onSkip:function(){}};var Ote=c_.div(_te||(_te=Ky(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 10px;\n"]))),Dte=c_.div(Ate||(Ate=Ky(["\n  background: #e7e6e6;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n"]))),Lte=c_.div(Tte||(Tte=Ky(["\n  color: ",";\n  font-weight: normal;\n  font-size: 16px;\n  text-align: center;\n  line-height: 20px;\n"])),(function(e){return e.theme.tsSecondary})),Mte=function(e){var t=e.onRetry,r=e.onSkip,n=fF.useSDKSettings().lang,i=QF.useAsset("qr_code_banner.svg");return Sw.createElement(Ote,null,Sw.createElement(Dte,null,Sw.createElement("img",{src:i,alt:""})),Sw.createElement(Cte,{mt:"30px"},Sw.createElement(Lte,null,wte.SESSION_TIMEOUT_POPUP_DESCRIPTION[n])),Sw.createElement(Cte,{mt:"30px"},Sw.createElement(xte,{onClick:t},wte.SESSION_TIMEOUT_POPUP_RETRY_BUTTON[n])),Sw.createElement(Cte,{my:"20px"},Sw.createElement(Ite,{onClick:r},wte.SESSION_TIMEOUT_POPUP_SKIP_BUTTON[n])))};Mte.propTypes={onRetry:SC.func,onSkip:SC.func},Mte.defaultProps={onRetry:function(){},onSkip:function(){}};var Ute,jte,Fte,Vte,zte,Kte,qte=["children","ratio","padding"],Hte=c_.div(Ute||(Ute=Ky(["\n  width: 100%;\n  padding-bottom: ","%;\n  position: relative;\n"])),(function(e){return 1/e.ratio*100})),Qte=c_.div(jte||(jte=Ky(["\n  position: absolute;\n  top: ",";\n  left: ",";\n  right: ",";\n  bottom: ",";\n"])),(function(e){return e.padding}),(function(e){return e.padding}),(function(e){return e.padding}),(function(e){return e.padding})),Wte=function(e){var t=e.children,r=e.ratio,n=e.padding,i=jy(e,qte);return Sw.createElement(Hte,By({ratio:r},i),Sw.createElement(Qte,{padding:n},t))};Wte.propTypes={children:SC.node,ratio:SC.number,padding:SC.string},Wte.defaultProps={children:null,ratio:4/3,padding:"0"};var Gte=c_.div(Fte||(Fte=Ky(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 10px;\n"]))),Yte=c_.div(Vte||(Vte=Ky(["\n  background: #e7e6e6;\n  width: 100%;\n"]))),Xte=c_.img(zte||(zte=Ky(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  border-radius: 5px;\n"]))),$te=c_.div(Kte||(Kte=Ky(["\n  color: ",";\n  font-weight: normal;\n  font-size: 16px;\n  text-align: center;\n  line-height: 20px;\n"])),(function(e){return e.theme.tsSecondary})),Zte=function(e){var t=e.onClickStart,r=e.onTimeout,n=e.timeout,i=fF.useSDKSettings().lang,o=QF.useAsset("qr_code_banner.png"),a=Sw.useRef(n),s=qy(Sw.useState((function(){return H4(wte.QR_INSTRUCTIONS_COUNTDOWN[i])({x:n})})),2),c=s[0],u=s[1];return Sw.useEffect((function(){var e=H4(wte.QR_INSTRUCTIONS_COUNTDOWN[i]),t=setInterval((function(){a.current--,u(e({x:a.current})),a.current<=0&&(clearInterval(t),r&&r())}),1e3);return function(){clearInterval(t)}}),[i,r]),Sw.createElement(Gte,null,Sw.createElement(Yte,null,Sw.createElement(Wte,{ratio:1.6},Sw.createElement(Xte,{src:o}))),Sw.createElement(Cte,{mt:"30px"},Sw.createElement($te,null,wte.QR_INSTRUCTIONS_TEXT[i])),Sw.createElement(Cte,{mt:"30px"},Sw.createElement(xte,{onClick:t},wte.QR_INSTRUCTIONS_START_BUTTON[i])),Sw.createElement(Cte,{my:"20px"},Sw.createElement($te,null,c)))};Zte.propTypes={onClickStart:SC.func,onTimeout:SC.func,timeout:SC.number},Zte.defaultProps={onClickStart:null,onTimeout:null,timeout:10};var Jte=/^\d{12}\|(\d{9})?\|.+\|\d{8}\|((Nam)|(Nữ))\|.+\|\d{8}$/g,ere=function(e){var t=e.match(Jte);return{valid:Boolean(t)}};function tre(e){var t=e.canvas,r=e.qrModel,n=window.cv,i=n.imread(t,n.IMREAD_GRAYSCALE),o=new n.MatVector;return r.detectAndDecode(i,o).get(0)}function rre(e){var t=e.refVideo,r=e.shouldStart,n=e.cropArea,i=e.settings,o=e.onResult,a=e.outputEncryptionSettings,s=Sw.useRef(null);null===s.current&&(s.current=document.createElement("canvas"));var c=Sw.useRef(!1),u=Sw.useRef(null),l=qy(Sw.useState(!1),2),f=l[0],d=l[1],p=Sw.useRef({}),h=fF.useSDKSettings().customUrls;Sw.useEffect((function(){function e(){return(e=_y(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f){e.next=5;break}return e.next=3,Dee(h);case 3:p.current=e.sent,d(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[f,h]);var g=Sw.useCallback((function(){!0===c.current&&(c.current=!1)}),[]),m=Sw.useCallback(_y(regeneratorRuntime.mark((function e(){var r,n,l,d,h,m,v,y,b,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f&&i&&!c.current){e.next=2;break}return e.abrupt("return");case 2:r=p.current.qrModel,n=u.current,l=t.current,c.current=!0,d=n.cropX,h=n.cropY,m=n.cropWidth,v=n.cropHeight,(y=s.current).width=m,y.height=v,b=y.getContext("2d"),w=regeneratorRuntime.mark((function e(){var t,n,i,u,f,p,w;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.drawImage(l,d,h,m,v,0,0,m,v),t=performance.now(),e.next=4,tre({canvas:y,qrModel:r});case 4:if(n=e.sent,t=Math.floor(performance.now()-t),!n){e.next=18;break}return g(),i=ere(n),e.next=11,wV.takePicture({canvas:s.current});case 11:if(u=e.sent,!a||!a.key){e.next=17;break}return p=a.key,e.next=16,DK.encrypt({blob:u,key:p});case 16:f=e.sent;case 17:o({result:n,validateResult:i,image:{blob:u,encrypted:f}});case 18:if(c.current){e.next=20;break}return e.abrupt("return","break");case 20:return w=180-t>0?180-t:0,e.next=23,new Promise((function(e){return setTimeout(e,w)}));case 23:case"end":return e.stop()}}),e)}));case 12:return e.delegateYield(w(),"t0",14);case 14:if("break"!==e.t0){e.next=17;break}return e.abrupt("break",19);case 17:e.next=12;break;case 19:case"end":return e.stop()}}),e)}))),[t,i,f,o,g,a]),v=Sw.useCallback((function(){g()}),[g]);return Sw.useEffect((function(){var e=t.current;r||v(),f&&r&&n&&e&&e.videoWidth>0&&(u.current=wV.analyzeVideoAndWindowSizes(e,n,0),m())}),[r,n,t,g,m,f,v]),Sw.useEffect((function(){return v}),[v]),{refWorkingCanvas:s,stopCheckFrame:g,checkFrame:m,warmupDone:f}}var nre,ire,ore,are,sre,cre,ure=function(e){var t=e.shouldStart,r=e.refVideo,n=e.cropArea,i=e.settings,o=e.onSessionTimeout,a=e.onCaptureDone,s=e.onAboutToTimeout,c=e.outputEncryptionSettings,u=qy(Sw.useState(!1),2),l=u[0],f=u[1],d=Sw.useRef((function(){})),p=Sw.useRef((function(){})),h=fF.useSDKSettings().lang,g=rre({refVideo:r,shouldStart:t,cropArea:n,settings:i,onResult:Sw.useCallback((function(){d.current.apply(d,arguments)}),[]),outputEncryptionSettings:c}),m=g.stopCheckFrame,v=g.checkFrame,y=g.warmupDone,b=nte({refVideo:r,shouldStart:t&&y,cropArea:n,settings:i}),w=b.stopCheckFrame,C=b.refRecordedVideos,E=b.splitVideos,k=b.resetRecordedVideos,S=b.checkFrame;d.current=Sw.useCallback((function(e){f(!0),w(),m(),p.current(),a(Py(Py({},e),{},{recordedVideos:C.current})),f(!1)}),[w,a,C,m]);var _=Sw.useCallback((function(){w(),m(),k(),o()}),[k,w,m,o]),A=Sw.useCallback((function(){E()}),[E]),T=cte({lang:h,onAboutToTimeout:s,onSessionTimeout:_,onVideoTimeLimitReached:A,settings:i,shouldStartTimers:t&&y,sessionTime:null==i?void 0:i.scanQrLimitTimeSecond}),x=T.stopTimers,I=T.startTimers;return p.current=x,{isProcessing:l,restartSession:Sw.useCallback(_y(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(),e.next=3,Promise.all([S(),v()]);case 3:case"end":return e.stop()}}),e)}))),[S,v,I]),refRecordedVideos:C,warmupDone:y}},lre=145;function fre(e){var t=e.windowAndVideoInfo,r=e.onUISpacingChange,n=e.refVideo,i=e.settings,o=e.onCaptureDone,a=e.outputEncryptionSettings,s=qy(Sw.useState(null),2),c=s[0],u=s[1],l=QF.useAsset("qr_capture_cursor.png"),f=qy(Sw.useState({}),2),d=f[0],p=f[1],h=d.yTooltip,g=d.yMessage,m=fF.useSDKSettings().lang,v=pee(),y=v.showPopup,b=v.popupShown,w=v.popupType,C=qy(Sw.useState(!1),2),E=(C[0],C[1]),k=qy(Sw.useState(null),2),S=k[0],_=k[1],A=QF.useAsset("ic_loading.png");Sw.useEffect((function(){if(t){var e=t.videoAreaWidth,n=t.lostX,i=t.lostY,o=eJ.isMobile?Math.min(e-6,lre):lre,a=o,s=i+10,c=s+90,l=c+40,f=l+a+20,d=Math.floor((e-o)/2)+n;u({x:d,y:l,width:o,height:a,surroundStyle:{opacity:.6,background:"#000"}});var h={yTitle:s,yTooltip:f,yMessage:c};p(h),r(h)}}),[t,r]);var T=Sw.useCallback((function(){_(""),o()}),[o]),x=Sw.useCallback((function(e){var t=e.validateResult.valid;_(""),t?o(e):y({popupType:hee.QR_INVALID})}),[y,o]),I=Sw.useCallback((function(e){var t=e.curTimeLeft;_(H4(wte.REMAINING_TIME[m])({x:t}))}),[m]),B=ure({shouldStart:!0,refVideo:n,cropArea:c,settings:i,onSessionTimeout:T,onCaptureDone:x,onAboutToTimeout:I,outputEncryptionSettings:a}),R=B.isProcessing,P=B.restartSession,N=B.warmupDone,O=Sw.useCallback((function(){y({popupType:null})}),[y]),D=Sw.useCallback(_y(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(),e.next=3,P();case 3:case"end":return e.stop()}}),e)}))),[P,O]),L=Sw.useCallback((function(){O(),o()}),[O,o]),M=Sw.useCallback((function(){O(),setTimeout((function(){E(!0)}),200)}),[O]);return Sw.createElement(Sw.Fragment,null,!N&&Sw.createElement(e7,{contentStyle:{maxWidth:"300px"}}),c&&Sw.createElement($J,{x:"".concat(c.x,"px"),y:"".concat(c.y,"px"),width:"".concat(c.width,"px"),height:"".concat(c.height,"px"),surroundStyle:c.surroundStyle},Sw.createElement("div",null,Sw.createElement("img",{src:l,width:c.width,height:c.height,alt:""}))),Sw.createElement(yte,{y:"".concat(h,"px")},wte.QR_TOOLTIP[m]),S&&Sw.createElement(bte,{key:S,className:"message",y:"".concat(g,"px")},S),R&&Sw.createElement($9,null,Sw.createElement("img",{src:A,alt:"",className:"spin"})),Sw.createElement(D8,{contentStyle:{maxWidth:"332px"},open:b},w===hee.QR_INVALID&&Sw.createElement(Nte,{onRetry:D,onSkip:L}),w===hee.SESSION_TIMEOUT&&Sw.createElement(Mte,{onRetry:D,onSkip:L}),w===hee.QR_INSTRUCTIONS&&Sw.createElement(Zte,{onClickStart:M,onTimeout:M})))}fre.propTypes={windowAndVideoInfo:SC.shape({}),onUISpacingChange:SC.func,refVideo:SC.shape({}),settings:SC.shape({}),onCaptureDone:SC.func,outputEncryptionSettings:SC.shape({})},fre.defaultProps={windowAndVideoInfo:{},onUISpacingChange:function(){},refVideo:{},settings:{},onCaptureDone:function(){},outputEncryptionSettings:null};var dre,pre,hre,gre,mre,vre={SUCCESS:"SUCCESS",WARNING:"WARNING"},yre=(Iy(nre={},vre.SUCCESS,"52,206,95"),Iy(nre,vre.WARNING,"255,148,50"),nre),bre=(Iy(ire={},vre.SUCCESS,"✓"),Iy(ire,vre.WARNING,"!"),ire),wre=c_.div(ore||(ore=Ky(["\n  font-weight: normal;\n"]))),Cre=c_.div(are||(are=Ky(["\n  height: 2px;\n  width: 100%;\n  background: ",";\n"])),(function(e){return WS(["linear-gradient(to right,rgba(",",0),rgba(",",1),rgba(",",0));"],yre[e.type],yre[e.type],yre[e.type])})),Ere=c_.div(sre||(sre=Ky(["\n  width: 22px;\n  height: 22px;\n  border-radius: 50%;\n  background: ",";\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: #fff;\n  margin-right: 8px;\n  font-weight: bold;\n"])),(function(e){return WS(["rgb(",")"],yre[e.type])})),kre=c_.div(cre||(cre=Ky(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: 10px 0;\n"]))),Sre=function(e){var t=e.children,r=e.type,n=e.className;return Sw.createElement(wre,{className:n},Sw.createElement(Cre,{type:r}),Sw.createElement(kre,null,Sw.createElement(Ere,{type:r},bre[r]),t),Sw.createElement(Cre,{type:r}))};Sre.propTypes={children:SC.node,type:SC.string,className:SC.string},Sre.defaultProps={children:null,type:vre.SUCCESS,className:""};var _re=c_.div(dre||(dre=Ky(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  padding: 10px;\n"]))),Are=c_.div(pre||(pre=Ky(["\n  text-align: center;\n  font-size: 1rem;\n  color: #ea3223;\n  margin-top: 10px;\n"]))),Tre=c_.button(hre||(hre=Ky(["\n  margin-top: 20px;\n  width: 100%;\n  max-width: 160px;\n  height: 50px;\n  background-color: ",";\n  border: 0;\n  outline: none;\n  border-radius: 0.25rem;\n  color: #fff;\n  font-weight: 400;\n  cursor: pointer;\n  font-size: 1rem;\n"])),(function(e){return e.theme.tsBlue})),xre=c_.img(gre||(gre=Ky(["\n  width: 100%;\n  height: 100%;\n  object-fit: contain;\n  border-radius: 5px;\n"]))),Ire=c_.div(mre||(mre=Ky(["\n  margin: 20px 0;\n  width: 100%;\n  display: flex;\n  justify-content: space-evenly;\n  gap: 10px;\n"]))),Bre=function(e){var t=e.imageTaken,r=e.onConfirm,n=e.onTryAgain,i=e.error,o=e.hasValidQR,a=qy(Sw.useState(null),2),s=a[0],c=a[1],u=fF.useSDKSettings().lang;return Sw.useEffect((function(){var e;return t&&t.blob&&(e=URL.createObjectURL(t.blob),c(e)),function(){URL.revokeObjectURL(e)}}),[t]),Sw.createElement(_re,null,null!==o&&Sw.createElement(Cte,{mb:"20px"},Sw.createElement("div",null,Sw.createElement(Sre,{type:o?vre.SUCCESS:vre.WARNING},o?see.CONFIRM_POPUP_VALID_QR[u]:see.CONFIRM_POPUP_INVALID_QR[u]))),Sw.createElement(Wte,{ratio:1.5},Sw.createElement(xre,{src:s})),i&&Sw.createElement(Are,{className:"confirm-popup-error-message"},i.msg[u]),Sw.createElement(Ire,null,Sw.createElement(Tre,{onClick:n},see.BTN_TRY_AGAIN[u]),Sw.createElement(Tre,{onClick:r},see.BTN_USE_THIS_PICTURE[u])))};Bre.propTypes={imageTaken:SC.shape({}),error:SC.shape({msg:SC.shape({})}),onConfirm:SC.func,onTryAgain:SC.func,hasValidQR:SC.bool},Bre.defaultProps={imageTaken:null,error:null,onConfirm:function(){},onTryAgain:function(){},hasValidQR:null};var Rre={tsBlue:"#0276f1",tsSecondary:"rgba(0, 47, 117, 0.6)"};function Pre(){this.__data__=new R6,this.size=0}var Nre=Pre;function Ore(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var Dre=Ore;function Lre(e){return this.__data__.get(e)}var Mre=Lre;function Ure(e){return this.__data__.has(e)}var jre=Ure,Fre=200;function Vre(e,t){var r=this.__data__;if(r instanceof R6){var n=r.__data__;if(!N6||n.length<Fre-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Y6(n)}return r.set(e,t),this.size=r.size,this}var zre=Vre;function Kre(e){var t=this.__data__=new R6(e);this.size=t.size}Kre.prototype.clear=Nre,Kre.prototype.delete=Dre,Kre.prototype.get=Mre,Kre.prototype.has=jre,Kre.prototype.set=zre;var qre=Kre;function Hre(e,t,r){(void 0!==r&&!B1(e[t],r)||void 0===r&&!(t in e))&&x1(e,t,r)}var Qre=Hre;function Wre(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===r(o[c],c,o))break}return t}}var Gre=Wre,Yre=Gre(),Xre=Yre,$re=r((function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r?o0.Buffer:void 0,o=i?i.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=o?o(r):new e.constructor(r);return e.copy(n),n}})),Zre=o0.Uint8Array,Jre=Zre;function ene(e){var t=new e.constructor(e.byteLength);return new Jre(t).set(new Jre(e)),t}var tne=ene;function rne(e,t){var r=t?tne(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var nne=rne;function ine(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var one=ine,ane=Object.create,sne=function(){function e(){}return function(t){if(!e0(t))return{};if(ane)return ane(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),cne=sne;function une(e){return"function"!=typeof e.constructor||m3(e)?{}:cne(B3(e))}var lne=une;function fne(e){return P0(e)&&s2(e)}var dne=fne;function pne(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var hne=pne;function gne(e){return L1(e,S3(e))}var mne=gne;function vne(e,t,r,n,i,o,a){var s=hne(e,r),c=hne(t,r),u=a.get(c);if(u)Qre(e,r,u);else{var l=o?o(s,c,r+"",e,t,a):void 0,f=void 0===l;if(f){var d=T2(c),p=!d&&B2(c),h=!d&&!p&&u3(c);l=c,d||p||h?T2(s)?l=s:dne(s)?l=one(s):p?(f=!1,l=$re(c,!0)):h?(f=!1,l=nne(c,!0)):l=[]:U3(c)||_2(c)?(l=s,_2(s)?l=mne(s):e0(s)&&!r1(s)||(l=lne(c))):f=!1}f&&(a.set(c,l),i(l,c,n,o,a),a.delete(c)),Qre(e,r,l)}}var yne=vne;function bne(e,t,r,n,i){e!==t&&Xre(t,(function(o,a){if(i||(i=new qre),e0(o))yne(e,t,a,r,bne,n,i);else{var s=n?n(hne(e,a),o,a+"",e,t,i):void 0;void 0===s&&(s=o),Qre(e,a,s)}}),S3)}var wne,Cne=bne,Ene=g2((function(e,t,r){Cne(e,t,r)})),kne=Ene,Sne={data:{settings:{sdk_settings:{id_detection_settings:{auto_capture:{enable:!1,show_capture_button:!0,wait_for_best_image_time_ms_web:1e3},blur_check:{enable:!0,threshold_web:.82},disable_capture_button_if_alert:!1,id_detection:{enable:!0},limit_time_settings:{enable:!0,limit_time_second:30,video_partial_length_seconds:15},save_frame_settings:{enable:!1,frames_interval_ms:190,quality_web:80},scan_qr_settings:{enable:!0,limit_time_second:20}}}}}};function _ne(e){var t=e.clientSettings,r=qy(Sw.useState(null),2),n=r[0],i=r[1];return Sw.useEffect((function(){var e=kne(Sne,t),r=h5(e,"data.settings.sdk_settings.id_detection_settings.save_frame_settings.enable"),n=h5(e,"data.settings.sdk_settings.id_detection_settings.save_frame_settings.frames_interval_ms"),o=h5(e,"data.settings.sdk_settings.id_detection_settings.save_frame_settings.quality_web"),a=h5(e,"data.settings.sdk_settings.id_detection_settings.limit_time_settings.enable"),s=h5(e,"data.settings.sdk_settings.id_detection_settings.limit_time_settings.limit_time_second"),c=h5(e,"data.settings.sdk_settings.id_detection_settings.limit_time_settings.video_partial_length_seconds"),u=h5(e,"data.settings.sdk_settings.id_detection_settings.auto_capture.enable"),l=h5(e,"data.settings.sdk_settings.id_detection_settings.auto_capture.wait_for_best_image_time_ms_web"),f=h5(e,"data.settings.sdk_settings.id_detection_settings.blur_check.enable"),d=h5(e,"data.settings.sdk_settings.id_detection_settings.blur_check.threshold_web"),p=h5(e,"data.settings.sdk_settings.id_detection_settings.disable_capture_button_if_alert"),h=h5(e,"data.settings.sdk_settings.id_detection_settings.id_detection.enable"),g=h5(e,"data.settings.sdk_settings.id_detection_settings.scan_qr_settings.enable"),m=h5(e,"data.settings.sdk_settings.id_detection_settings.scan_qr_settings.limit_time_second");i({enableRecording:r,frameCaptureIntervalMs:n,idCardSessionTime:s,maxRecordingTimePerVideo:c,saveFrameQuality:o,enableTimers:a,enableAutoCapture:u,waitForBestImageTimeMs:l,enableBlurCheck:f,blurThreshold:d,disableCaptureButtonIfAlert:p,enableIdDetection:h,enableScanQr:g,scanQrLimitTimeSecond:m})}),[t]),{settings:n}}var Ane=l_(wne||(wne=Ky(["\n  .text-primary {\n    color: ",";\n  }\n"])),(function(e){return e.theme.tsBlue})),Tne=oL.IDCardSide,xne=oL.IDCardType,Ine=oL.Errors,Bne={ID_CARD:"id_card",QR_CODE:"qr_code"},Rne=[{scannerType:Bne.ID_CARD,title:"Mặt trước CMND/CCCD",description:"Vui lòng đặt CMND mặt trước vào trong khung",titleIcon:"id_card_front.svg",cardSide:oL.IDCardSide.FRONT,cardType:xne.VN,frontCamera:!1,enableConfirmPopup:!0},{scannerType:Bne.ID_CARD,title:"Mặt sau CMND/CCCD",description:"Vui lòng đặt CMND mặt sau vào trong khung",titleIcon:"id_card_back.svg",cardSide:oL.IDCardSide.BACK,cardType:xne.VN,frontCamera:!1,enableConfirmPopup:!0}],Pne={scannerType:Bne.QR_CODE,title:"Quét mã QR trên CCCD",frontCamera:!1};function Nne(e){var t=e.onClose,r=e.onError,n=e.clientSettings,i=e.detectIdCard,o=e.onStepDone,a=e.steps,s=e.outputEncryptionSettings,c=e.defaultCameraId,u=qy(Sw.useState(0),2),l=u[0],f=u[1],d=qy(Sw.useState(a[l]),2),p=d[0],h=d[1],g=Sw.useRef(null),m=qy(Sw.useState(null),2),v=m[0],y=m[1],b=qy(Sw.useState(!1),2),w=b[0],C=b[1],E=qy(Sw.useState(0),2),k=E[0],S=E[1],_=Sw.useRef(),A=p.scannerType,T=p.frontCamera,x=p.title,I=p.titleIcon,B=p.cardSide,R=p.description,P=p.usePortraitMask,N=p.cardType,O=p.enableConfirmPopup,D=B===Tne.FRONT,L=QF.useAsset(I),M=pee(),U=M.showPopup,j=M.popupShown,F=M.popupType,V=M.props,z=qy(Sw.useState(!1),2),K=z[0],q=z[1],H=QF.useAsset("ic_loading.png"),Q=Sw.useRef({}),W=Sw.useRef(null),G=Sw.useRef([]),Y=_ne({clientSettings:n}).settings,X=qy(Sw.useState({}),2),$=X[0],Z=X[1],J=$.yTitle,ee=Sw.useCallback((function(e){y(e),C(!0)}),[]);Sw.useEffect((function(){C(!1)}),[T]);var te=Sw.useCallback((function(){U({popupType:null})}),[U]),re=Sw.useCallback((function(e){e>=a.length||setTimeout((function(){f(e),h(a[e])}),200)}),[a]),ne=Sw.useCallback((function(){re(l+1)}),[re,l]),ie=Sw.useCallback((function(){setTimeout((function(){h((function(e){return Py(Py({},Pne),{},{enableConfirmPopup:e.enableConfirmPopup})}))}),200)}),[]),oe=Sw.useCallback(_y(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={stepNumber:l,image:Q.current,recordedVideos:null!=Y&&Y.enableRecording?G.current:[]},A===Bne.QR_CODE&&(t.qrScannedResult=W.current),q(!0),e.next=5,o(t);case 5:q(!1),ne();case 7:case"end":return e.stop()}}),e)}))),[Y,l,o,ne,A]),ae=Sw.useCallback((function(){te(),A===Bne.QR_CODE?re(l):A===Bne.ID_CARD&&_.current.restartSession()}),[re,l,te,A]),se=Sw.useCallback((function(){te(),oe()}),[oe,te]),ce=Sw.useCallback(function(){var e=_y(regeneratorRuntime.mark((function e(t){var n,o,a,s,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.image,o=t.error,a=t.recordedVideos,Q.current=n,G.current=a,S((function(e){return e+1})),B!==oL.IDCardSide.FRONT){e.next=23;break}if(!Y.enableScanQr||!eJ.isMobile){e.next=23;break}if(c=null==n||null===(s=n.detectedCard)||void 0===s?void 0:s.label){e.next=20;break}return q(!0),e.prev=9,e.next=12,i({image:n,cardType:N,cardSide:B});case 12:u=e.sent,c=u.card_label,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(9),r(Ine.detect_id_card_error);case 19:q(!1);case 20:if(!c||!"vn.cccd_new.front".includes(c)){e.next=23;break}return ie(),e.abrupt("return");case 23:O?U({popupType:hee.CONFIRM,props:{imageTaken:Q.current,error:o}}):oe();case 24:case"end":return e.stop()}}),e,null,[[9,16]])})));return function(t){return e.apply(this,arguments)}}(),[O,U,B,Y,N,i,oe,ie,r]),ue=Sw.useCallback((function(e){var t;if(W.current=e,e){var r,n=e.recordedVideos;(r=G.current).push.apply(r,Hy(n))}S((function(e){return e+1}));var i=Boolean(null==e||null===(t=e.validateResult)||void 0===t?void 0:t.valid);O?U({popupType:hee.CONFIRM,props:{hasValidQR:i,imageTaken:Q.current}}):oe()}),[U,O,oe]);return Sw.createElement(o_,{theme:Rre},Sw.createElement(H9,null,Sw.createElement(HJ,{key:T,frontCamera:T,onVideoPlayed:ee,onClose:t,flipHorizontal:T,ref:g,onError:r,defaultCameraId:c},w&&Sw.createElement(Sw.Fragment,null,A===Bne.ID_CARD&&Sw.createElement(fte,{key:l,ref:_,windowAndVideoInfo:v,refVideo:g,settings:Y,onCaptureDone:ce,onUISpacingChange:Z,frontSide:D,description:R,usePortraitMask:P,outputEncryptionSettings:s}),A===Bne.QR_CODE&&Sw.createElement(fre,{key:l,refVideo:g,windowAndVideoInfo:v,settings:Y,onCaptureDone:ue,onUISpacingChange:Z,outputEncryptionSettings:s})),Sw.createElement(q9,{keyForTransition:k}),Sw.createElement(J9,{y:"".concat(J,"px")},Sw.createElement(o9,null,Sw.createElement(J7,{key:x,timeout:{enter:K9,exit:K9},classNames:"flipY",unmountOnExit:!0},Sw.createElement(eee,null,I&&Sw.createElement(Q9,{src:L,alt:""}),Sw.createElement(tee,{className:"title"},x))))),K&&Sw.createElement($9,null,Sw.createElement("img",{src:H,alt:"",className:"spin"}))),Sw.createElement(D8,{open:j},F===hee.CONFIRM&&Sw.createElement(Bre,By({},V,{onConfirm:se,onTryAgain:ae})))),Sw.createElement(Ane,null))}Nne.propTypes={onClose:SC.func,onError:SC.func,clientSettings:SC.shape({}),detectIdCard:SC.func,onStepDone:SC.func,steps:SC.arrayOf(SC.shape({})),outputEncryptionSettings:SC.shape({}),defaultCameraId:SC.string},Nne.defaultProps={onClose:function(){},onError:function(){},clientSettings:{},detectIdCard:function(){return Promise.resolve({card_label:""})},onStepDone:function(){},steps:Rne,outputEncryptionSettings:null,defaultCameraId:void 0};var One=["tracking","clientSettings"];function Dne(e){var t=e.tracking,r=e.clientSettings,n=jy(e,One),i=Sw.useMemo((function(){return h5(r,"data.settings.sdk_settings.server_log_settings.enable",null==t?void 0:t.enable)}),[r,t]);return Sw.createElement(KF.SDKTrackingProvider,{value:{tracking:Py(Py({},t),{},{enable:i})}},Sw.createElement(Nne,By({},n,{clientSettings:r})))}Dne.propTypes={tracking:SC.shape({}),clientSettings:SC.shape({})},Dne.defaultProps={tracking:void 0,clientSettings:void 0};var Lne=oL.IDCardSide,Mne=oL.Errors;function Une(e){return jne.apply(this,arguments)}function jne(){return(jne=_y(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.image,n=t.cardType,i=t.cardSide,o=t.apiClient,a=t.outputEncryptionSettings,s={label:"id_card.".concat(n,".").concat(i)},!a||!a.key){e.next=4;break}return e.abrupt("return",o.httpClient.post("/v1/images",Py({base64:r.encrypted.hex},s),{"X-TV-Key":a.key}));case 4:return e.abrupt("return",o.uploadImage(Py({file:r.blob},s)));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fne(e){return Vne.apply(this,arguments)}function Vne(){return(Vne=_y(regeneratorRuntime.mark((function e(t){var r,n,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.image,n=t.apiClient,i=t.rawString,o=t.outputEncryptionSettings,a={label:"qr_code",metadata:JSON.stringify({raw:i})},!o||!o.key){e.next=4;break}return e.abrupt("return",n.httpClient.post("/v1/images",Py({base64:r.encrypted.hex},a),{"X-TV-Key":o.key}));case 4:return e.abrupt("return",n.uploadImage(Py({file:r.blob},a)));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zne(e){return Kne.apply(this,arguments)}function Kne(){return(Kne=_y(regeneratorRuntime.mark((function e(t){var r,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.imageId,n=t.cardType,i=t.apiClient,e.abrupt("return",i.requestVerifyIDCard({card_type:n,image1:{id:r}}));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qne(e){return Hne.apply(this,arguments)}function Hne(){return(Hne=_y(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u,l,f,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.apiClient,n=t.cardType,i=t.frontCardId,o=t.isCapturingFrontSide,a=t.backCardId,s=t.recordedVideos,c=t.qrImageId,u=s.filter((function(e){return null!==e.id})),l=s.filter((function(e){return null===e.id&&e.frames.length>0})),e.next=5,Promise.all(l.map((function(e){return r.fileService.request({frames:e.frames})})));case 5:return f=e.sent,d={card_type:n,image:{id:i},image2:o?void 0:{id:a},videos:[].concat(Hy(u.map((function(e){return{id:e.id}}))),Hy(f.map((function(e){return{id:e.data.file_id}}))))},c&&(d.qr1_images=[{id:c}]),e.abrupt("return",r.detectIDTampering(d));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qne(e){return Wne.apply(this,arguments)}function Wne(){return(Wne=_y(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.cardType,n=t.apiClient,i=t.frontCardId,o=t.backCardId,a=t.isCapturingFrontSide,s=t.qrImageId,c={card_type:r,image1:a?{id:i}:{id:o}},s&&(c.qr1_images=[{id:s}]),e.abrupt("return",n.readIDCard(c));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gne(e){return Yne.apply(this,arguments)}function Yne(){return(Yne=_y(regeneratorRuntime.mark((function e(t){var r,n,i,o,a,s,c,u,l,f,d,p,h,g,m,v,y,b,w,C,E,k,S,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.image,i=t.frontCardId,o=t.qrImageId,a=t.onError,s=t.recordedVideos,c=t.apiClient,u=t.cardType,l=t.cardSide,f=t.qrScannedResult,d=t.outputEncryptionSettings,l!==Lne.BACK||i){e.next=4;break}return a(Mne.missing_front_id_card),e.abrupt("return");case 4:return p=[Une({image:n,cardType:u,cardSide:l,apiClient:c,outputEncryptionSettings:d})],f&&p.push(Fne({image:f.image,apiClient:c,rawString:f.result,outputEncryptionSettings:d})),e.next=8,Promise.all(p);case 8:if(h=e.sent,g=qy(h,2),m=g[0],v=g[1],!m.errors){e.next=15;break}return a(Py(Py({},Mne.upload_error),{},{details:m.errors})),e.abrupt("return");case 15:return y=m.data.image_id,b=(null==v||null===(r=v.data)||void 0===r?void 0:r.image_id)||o,(E=l===Lne.FRONT)?w=y:(w=i,C=y),e.next=21,zne({imageId:y,cardType:u,apiClient:c});case 21:if(!(k=e.sent).errors){e.next=25;break}return a(Py(Py({},Mne.sanity_check_error),{},{details:k.errors})),e.abrupt("return");case 25:return e.next=27,Qne({cardType:u,apiClient:c,frontCardId:w,backCardId:C,isCapturingFrontSide:E,qrImageId:b});case 27:if(!(S=e.sent).errors){e.next=31;break}return a(Py(Py({},Mne.read_id_card_error),{},{details:S.errors})),e.abrupt("return");case 31:return e.next=33,qne({apiClient:c,cardType:u,frontCardId:w,isCapturingFrontSide:E,backCardId:C,recordedVideos:s,qrImageId:b});case 33:if(!(_=e.sent).errors){e.next=37;break}return a(Py(Py({},Mne.detect_id_tampering_error),{},{details:_.errors})),e.abrupt("return");case 37:return e.abrupt("return",{sanityResult:k.data,tamperingInfo:_.data,cardInfo:S.data,qrImageId:b});case 38:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Xne=["onClose","onError","detectIdCard","steps","onStepDone","apiCredentials","tracking","outputEncryptionSettings"],$ne=oL.Errors,Zne=function(e){var t=e.onClose,r=e.onError,n=e.detectIdCard,i=e.steps,o=e.onStepDone,a=e.apiCredentials,s=e.tracking,c=e.outputEncryptionSettings,u=jy(e,Xne),l=qy(Sw.useState(null),2),f=l[0],d=l[1],p=iK.useApiClient({apiCredentials:a,tracking:s}).apiClient,h=Sw.useRef(""),g=Sw.useRef("");Sw.useEffect((function(){function e(){return(e=_y(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.clientSettings();case 2:t=e.sent,d(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[p]);var m=Sw.useCallback(function(){var e=_y(regeneratorRuntime.mark((function e(t){var n,a,s,u,l,f,d,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.stepNumber,a=t.recordedVideos,s=t.qrScannedResult,u=t.image,l=i[n],f=l.cardType,d=l.cardSide,m=null,e.prev=3,e.next=6,Gne({image:u,cardSide:d,frontCardId:h.current,qrImageId:g.current,onError:r,apiClient:p,cardType:f,recordedVideos:a,qrScannedResult:s,outputEncryptionSettings:c});case 6:m=e.sent,d===oL.IDCardSide.FRONT&&(h.current=m.cardInfo.image1.id),g.current=m.qrImageId,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),r(Py(Py({},$ne.api_call_error),{},{details:e.t0}));case 14:m&&o(Py(Py({},t),{},{apiResult:m}));case 15:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}(),[p,r,i,o,c]);return f&&Sw.createElement(Dne,By({tracking:s,onClose:t,onError:r,detectIdCard:n,onStepDone:m,steps:i,outputEncryptionSettings:c},u,{clientSettings:f}))};function Jne(){return eie.apply(this,arguments)}function eie(){return(eie=_y(regeneratorRuntime.mark((function e(){var t,r,n,i,o,a,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=s.length>0&&void 0!==s[0]?s[0]:{},r=t.opencvUrl,n=t.idCardModelUrl,i=t.blazefaceModelUrl,o=t.tfScriptUrls,"iOS"!==eJ.osName||!eJ.osVersion.includes("12.")){e.next=5;break}return e.next=4,Dee({url:r});case 4:return e.abrupt("return");case 5:return e.next=7,RK.loadTensorFlow(o);case 7:return e.next=9,RK.initTensorFlow({preferredBackends:["wasm","webgl","cpu"]});case 9:return a=new jee,e.next=12,Promise.all([a.loadResource({modelUrl:n}),RK.loadBlazefaceModel({modelUrl:i}),Dee({url:r})]);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Zne.propTypes={onClose:SC.func,onError:SC.func,detectIdCard:SC.func,onStepDone:SC.func,steps:SC.arrayOf(SC.shape({})),apiCredentials:SC.shape({accessKey:SC.string,secretKey:SC.string,apiUrl:SC.string}),tracking:SC.shape({}),outputEncryptionSettings:SC.shape({})},Zne.defaultProps={onClose:function(){},onError:function(){},detectIdCard:function(){return Promise.resolve({card_label:""})},onStepDone:function(){},steps:Rne,apiCredentials:{accessKey:"5767c20d-87aa-4cad-8dbb-f5429f76c34b",secretKey:"c1446919-e60a-4575-a05d-304318212a1b",apiUrl:"https://tv-testing.trustingsocial.com/api"},outputEncryptionSettings:{key:""},tracking:void 0};var tie=x5(Jne),rie=function(){return{checkCamera:E7,LivenessDetection:P7,NativeCamera:S7,ReadIDCardUIOnly:Dne,ReadIDCardWithApiCall:Zne,warmUpReadIdCard:Wee,preloadEKYCResources:tie,getListCamera:BJ}},nie=(jy(C7,["useLivenessDetection"]),function(e){Ny(r,e);var t=zy(r);function r(e){return Ay(this,r),t.call(this,Py(Py({},e),{},{baseComponent:rie()}))}return r}(jK));e.APIUtils=iK,e.AntiDebugUtils=PK,e.AssetUtils=QF,e.AsyncUtils=GF,e.BaseTVWebSDK=jK,e.BlurUtils=yV,e.CameraUtils=wV,e.CommonUtils=EV,e.Constants=oL,e.CoordinateUtils=TV,e.CryptoUtils=DK,e.FaceUtils=DV,e.GlareUtils=Gz,e.HashUtils=OF,e.ImageUtils=qz,e.LoadResourceUtils=pK,e.LocalStorageUtils=BF,e.ModelUtils=RK,e.PredictionUtils=jV,e.SDK=nie,e.ScannerType=XZ,e.SettingsContext=fF,e.ThemeUtils=NK,e.TimeUtils=TF,e.TrackingContext=KF,e.UserAgentUtils=SF,e.defaultClientSettings=HZ,e.defaultReadIDCardSteps=$Z,e.getCustomUrlsBySettings=aF,e.getQrScannerWorkerPath=LK,e.getSDKVersion=FK,Object.defineProperty(e,"__esModule",{value:!0})}));
